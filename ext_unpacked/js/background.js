/*! For license information please see background.js.LICENSE.txt */
(()=>{var __webpack_modules__={"../node_modules/@solana/buffer-layout/lib/Layout.js":(t,e,r)=>{"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const n=r("../node_modules/@solana/buffer-layout/node_modules/buffer/index.js");function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(t,e=0,r){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class l extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntLE(t,r,this.span),this.span}}class h extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,r=0){return o(e).writeUIntBE(t,r,this.span),this.span}}const d=Math.pow(2,32);function f(t){const e=Math.floor(t/d);return{hi32:e,lo32:t-e*d}}function p(t,e){return t*d+e}class y extends s{constructor(t){super(8,t)}decode(t,e=0){const r=o(t),n=r.readUInt32LE(e);return p(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class g extends s{constructor(t){super(8,t)}decode(t,e=0){const r=o(t),n=r.readUInt32LE(e);return p(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=f(t),i=o(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class m extends s{constructor(t,e,r){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof u)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof u&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof u&&this.count.encode(t.length,e,r),i}}class b extends s{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=t[n.property];void 0!==i&&(o=n.encode(i,e,r),0>s&&(s=n.getSpan(e,r)))}i=r,r+=s}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class w extends s{constructor(t,e){if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof u||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),o(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof u&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,e,r),n}}e.cv=(t,e,r)=>new c(t,e,r),e.u8=t=>new l(1,t),e.KB=t=>new l(2,t),e.Jq=t=>new l(4,t),e._O=t=>new y(t),e.gM=t=>new g(t),e.n_=(t,e,r)=>new b(t,e,r),e.A9=(t,e,r)=>new m(t,e,r),e.Ik=(t,e)=>new w(t,e)},"../node_modules/@solana/buffer-layout/node_modules/buffer/index.js":(t,e,r)=>{"use strict";const n=r("../node_modules/base64-js/index.js"),i=r("../node_modules/ieee754/index.js"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(X(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return V(W(e,t.length-r),t,r,n)}function k(t,e,r,n){return V(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return V(Z(e),t,r,n)}function S(t,e,r,n){return V(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==l[t]){o=c[t],s=l[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return k(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function M(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function j(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return z(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return z(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const N={};function H(t,e,r){N[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function F(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(n,i,o)}function q(t,e){if("number"!=typeof t)throw new N.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Z(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},"../node_modules/base-x/src/index.js":(t,e,r)=>{"use strict";var n=r("../node_modules/safe-buffer/index.js").Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var s=(t.length-r)*c+1>>>0,l=new Uint8Array(s);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<o)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===l[p];)p++;var y=n.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var g=i;p!==s;)y[g++]=l[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,r++;for(var c=(s-o)*l+1>>>0,h=new Uint8Array(c);o!==s;){for(var d=e[o],f=0,p=c-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,o++}for(var y=c-i;y!==c&&0===h[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=t.charAt(h[y]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},"../node_modules/base64-js/index.js":(t,e)=>{"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"../node_modules/bigint-buffer/dist/browser.js":(t,e)=>{"use strict";e.oU=function(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.k$=function(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}}},"../node_modules/bn.js/lib/bn.js":function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("?0699").Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(t,l,t.length,e),l=0;l<s;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var y=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,l=0|s[0],h=8191&l,d=l>>>13,f=0|s[1],p=8191&f,y=f>>>13,g=0|s[2],m=8191&g,b=g>>>13,w=0|s[3],v=8191&w,_=w>>>13,k=0|s[4],x=8191&k,S=k>>>13,E=0|s[5],A=8191&E,B=E>>>13,I=0|s[6],R=8191&I,T=I>>>13,M=0|s[7],O=8191&M,C=M>>>13,P=0|s[8],j=8191&P,L=P>>>13,z=0|s[9],U=8191&z,N=z>>>13,H=0|a[0],D=8191&H,F=H>>>13,q=0|a[1],K=8191&q,$=q>>>13,W=0|a[2],Z=8191&W,V=W>>>13,G=0|a[3],X=8191&G,J=G>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,yt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,D))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(d,D)|0))<<13)|0;c=((o=Math.imul(d,F))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,D),i=(i=Math.imul(p,F))+Math.imul(y,D)|0,o=Math.imul(y,F);var mt=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,D),i=(i=Math.imul(m,F))+Math.imul(b,D)|0,o=Math.imul(b,F),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,$)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(v,D),i=(i=Math.imul(v,F))+Math.imul(_,D)|0,o=Math.imul(_,F),n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,V)|0;var wt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,D),i=(i=Math.imul(x,F))+Math.imul(S,D)|0,o=Math.imul(S,F),n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,$)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,J)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(A,D),i=(i=Math.imul(A,F))+Math.imul(B,D)|0,o=Math.imul(B,F),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,X)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(R,D),i=(i=Math.imul(R,F))+Math.imul(T,D)|0,o=Math.imul(T,F),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,D),i=(i=Math.imul(O,F))+Math.imul(C,D)|0,o=Math.imul(C,F),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var xt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,D),i=(i=Math.imul(j,F))+Math.imul(L,D)|0,o=Math.imul(L,F),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var St=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,D),i=(i=Math.imul(U,F))+Math.imul(N,D)|0,o=Math.imul(N,F),n=n+Math.imul(j,K)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,$)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,dt)|0;var Et=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((o=o+Math.imul(d,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,$))+Math.imul(N,K)|0,o=Math.imul(N,$),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,Z),i=(i=Math.imul(U,V))+Math.imul(N,Z)|0,o=Math.imul(N,V),n=n+Math.imul(j,X)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var Bt=(c+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,yt)|0)+Math.imul(b,pt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,J))+Math.imul(N,X)|0,o=Math.imul(N,J),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,dt)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,dt)|0;var It=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,yt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,tt))+Math.imul(N,Q)|0,o=Math.imul(N,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,dt)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,dt)|0;var Rt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,yt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,dt)|0;var Tt=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,yt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((o=o+Math.imul(B,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(N,ot)|0,o=Math.imul(N,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,ct)|0,n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,dt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,dt)|0;var Mt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,yt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(N,ut)|0,o=Math.imul(N,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,dt)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,dt)|0;var Ot=(c+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,yt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(N,ht)|0,o=Math.imul(N,dt);var Ct=(c+(n=n+Math.imul(j,pt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((o=o+Math.imul(L,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Pt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,yt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,yt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=gt,u[1]=mt,u[2]=bt,u[3]=wt,u[4]=vt,u[5]=_t,u[6]=kt,u[7]=xt,u[8]=St,u[9]=Et,u[10]=At,u[11]=Bt,u[12]=It,u[13]=Rt,u[14]=Tt,u[15]=Mt,u[16]=Ot,u[17]=Ct,u[18]=Pt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(t,e,r){return m(t,e,r)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=y),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?y(this,t,e):r<1024?m(this,t,e):b(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},w.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},w.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},w.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<s;f++){var p=r[l+f],y=n[l+f],g=r[l+f+s],m=n[l+f+s],b=h*g-d*m;m=h*m+d*g,g=b,r[l+f]=p+g,n[l+f]=y+m,r[l+f+s]=p-g,n[l+f+s]=y-m,f!==a&&(b=u*h-c*d,d=u*d+c*h,h=b)}},w.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},w.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},w.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,d=1;0==(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function B(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(k,_),k.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},k.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,_),i(S,_),i(E,_),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new k;else if("p224"===t)e=new x;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return v[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=s;0!==f.cmp(a);){for(var y=f,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var m=this.pow(h,new o(1).iushln(p-g-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new B(t)},i(B,A),B.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},B.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},B.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},B.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},B.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},"../node_modules/borsh/lib/index.js":function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=a(r("../node_modules/bn.js/lib/bn.js")),c=a(r("../node_modules/bs58/index.js")),l=s(r("../node_modules/text-encoding-utf-8/lib/encoding.lib.js")),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),c.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(c.default.decode(t))};const d=1024;class f extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=f;class p{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function y(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=p;class g{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new f(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new f(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function m(t){return t.charAt(0).toUpperCase()+t.slice(1)}function b(t,e,r,n,i){try{if("string"==typeof n)i[`write${m(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)b(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{b(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),b(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,o)=>{b(t,e,o,n.key,i),b(t,e,r,n.value,i)}));break;default:throw new f(`FieldType ${n} unrecognized`)}else w(t,r,i)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function w(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new f(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{b(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),b(t,s,e[s],a,r);break}}}}}function v(t,e,r,n){try{if("string"==typeof r)return n[`read${m(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(v(t,null,r[0],n));return e}return n.readArray((()=>v(t,e,r[0],n)))}if("option"===r.kind)return n.readU8()?v(t,e,r.type,n):void 0;if("map"===r.kind){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const o=v(t,e,r.key,n),s=v(t,e,r.value,n);i.set(o,s)}return i}return _(t,r,n)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function _(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new f(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of t.get(e).fields)n[i]=v(t,i,o,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,s]=n.values[i];return new e({[o]:v(t,o,s,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o([y],g.prototype,"readU8",null),o([y],g.prototype,"readU16",null),o([y],g.prototype,"readU32",null),o([y],g.prototype,"readU64",null),o([y],g.prototype,"readU128",null),o([y],g.prototype,"readU256",null),o([y],g.prototype,"readU512",null),o([y],g.prototype,"readString",null),o([y],g.prototype,"readFixedArray",null),o([y],g.prototype,"readArray",null),e.BinaryReader=g,e.serialize=function(t,e,r=p){const n=new r;return w(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=g){const i=new n(r),o=_(t,e,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,r,n=g){return _(t,e,new n(r))}},"../node_modules/bs58/index.js":(t,e,r)=>{var n=r("../node_modules/base-x/src/index.js");t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"../node_modules/buffer/index.js":(t,e,r)=>{"use strict";const n=r("../node_modules/base64-js/index.js"),i=r("../node_modules/ieee754/index.js"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){let o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(X(n))return s;t[r+s]=n}return s}function _(t,e,r,n){return V(W(e,t.length-r),t,r,n)}function k(t,e,r,n){return V(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return V(Z(e),t,r,n)}function S(t,e,r,n){return V(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(o=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=B));return r}(n)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==l[t]){o=c[t],s=l[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return k(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const B=4096;function I(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function M(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function j(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||K(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||C(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return z(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return z(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const N={};function H(t,e,r){N[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function F(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||K(e,t.length-(r+1))}(n,i,o)}function q(t,e){if("number"!=typeof t)throw new N.ERR_INVALID_ARG_TYPE(e,"number",t)}function K(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Z(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},"../node_modules/eventemitter3/index.js":t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||t,s),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},"../node_modules/ieee754/index.js":(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+h],h+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=c}return(f?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+f]=255&s,f+=p,s/=256,c-=8);t[r+f-p]|=128*y}},"../node_modules/jayson/lib/client/browser/index.js":(t,e,r)=>{"use strict";const n=r("../node_modules/uuid/dist/esm-browser/index.js").v4,i=r("../node_modules/jayson/lib/generateRequest.js"),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,r,n){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,s=t;else{"function"==typeof r&&(n=r,r=void 0);const o="function"==typeof n;try{s=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return n(t);throw t}if(!o)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(t){return n(t)}return this.callServer(u,(function(t,e){o._parseResponse(t,e,n)})),s},o.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},"../node_modules/jayson/lib/generateRequest.js":(t,e,r)=>{"use strict";const n=r("../node_modules/uuid/dist/esm-browser/index.js").v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};s.id=t(s,i)}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s}},"../node_modules/js-sha256/src/sha256.js":(module,exports,__webpack_require__)=>{var process=__webpack_require__("../node_modules/process/browser.js"),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var o,s=[],a=t.length,u=0;for(n=0;n<a;++n)(o=t.charCodeAt(n))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++n)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],l=[];for(n=0;n<64;++n){var h=t[n]||0;c[n]=92^h,l[n]=54^h}Sha256.call(this,e,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,o,s,a,u,c=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,p=this.h5,y=this.h6,g=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+r<<0;for(u=l&h,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,g=(i=m[0]-1413257819)-150054599<<0,d=i+24177077<<0):(o=704751109,g=(i=m[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&l)^c&h^u,g=d+(i=g+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&y)+K[t]+m[t])<<0,d=i+(e+n)<<0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&c)^d&l^o,y=h+(i=y+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&p)+K[t+1]+m[t+1])<<0,e=((h=i+(e+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&d)^h&c^s,p=l+(i=p+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&f)+K[t+2]+m[t+2])<<0,e=((l=i+(e+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&d^a,f=c+(i=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&g)+K[t+3]+m[t+3])<<0,c=i+(e+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+y<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},"../node_modules/lodash.mergewith/index.js":(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",u="[object AsyncFunction]",c="[object Function]",l="[object GeneratorFunction]",h="[object Null]",d="[object Object]",f="[object Proxy]",p="[object Undefined]",y=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[a]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m[c]=m["[object Map]"]=m["[object Number]"]=m[d]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1;var b,w,v,_="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,k="object"==typeof self&&self&&self.Object===Object&&self,x=_||k||Function("return this")(),S=e&&!e.nodeType&&e,E=S&&t&&!t.nodeType&&t,A=E&&E.exports===S,B=A&&_.process,I=function(){try{return E&&E.require&&E.require("util").types||B&&B.binding&&B.binding("util")}catch(t){}}(),R=I&&I.isTypedArray,T=Array.prototype,M=Function.prototype,O=Object.prototype,C=x["__core-js_shared__"],P=M.toString,j=O.hasOwnProperty,L=(b=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",z=O.toString,U=P.call(Object),N=RegExp("^"+P.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=A?x.Buffer:void 0,D=x.Symbol,F=x.Uint8Array,q=(H&&H.allocUnsafe,w=Object.getPrototypeOf,v=Object,function(t){return w(v(t))}),K=Object.create,$=O.propertyIsEnumerable,W=T.splice,Z=D?D.toStringTag:void 0,V=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=H?H.isBuffer:void 0,X=Math.max,J=Date.now,Y=yt(x,"Map"),Q=yt(Object,"create"),tt=function(){function t(){}return function(e){if(!Bt(e))return{};if(K)return K(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=this.__data__=new rt(t);this.size=e.size}function ot(t,e,r){(void 0!==r&&!vt(t[e],r)||void 0===r&&!(e in t))&&ut(t,e,r)}function st(t,e,r){var n=t[e];j.call(t,e)&&vt(n,r)&&(void 0!==r||e in t)||ut(t,e,r)}function at(t,e){for(var r=t.length;r--;)if(vt(t[r][0],e))return r;return-1}function ut(t,e,r){"__proto__"==e&&V?V(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}et.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},et.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},et.prototype.get=function(t){var e=this.__data__;if(Q){var r=e[t];return r===n?void 0:r}return j.call(e,t)?e[t]:void 0},et.prototype.has=function(t){var e=this.__data__;return Q?void 0!==e[t]:j.call(e,t)},et.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Q&&void 0===e?n:e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,r=at(e,t);return!(r<0||(r==e.length-1?e.pop():W.call(e,r,1),--this.size,0))},rt.prototype.get=function(t){var e=this.__data__,r=at(e,t);return r<0?void 0:e[r][1]},rt.prototype.has=function(t){return at(this.__data__,t)>-1},rt.prototype.set=function(t,e){var r=this.__data__,n=at(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},nt.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(Y||rt),string:new et}},nt.prototype.delete=function(t){var e=pt(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return pt(this,t).get(t)},nt.prototype.has=function(t){return pt(this,t).has(t)},nt.prototype.set=function(t,e){var r=pt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},it.prototype.clear=function(){this.__data__=new rt,this.size=0},it.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},it.prototype.get=function(t){return this.__data__.get(t)},it.prototype.has=function(t){return this.__data__.has(t)},it.prototype.set=function(t,e){var r=this.__data__;if(r instanceof rt){var n=r.__data__;if(!Y||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new nt(n)}return r.set(t,e),this.size=r.size,this};var ct=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),s=o.length;s--;){var a=o[++n];if(!1===e(i[a],a,i))break}return t};function lt(t){return null==t?void 0===t?p:h:Z&&Z in Object(t)?function(t){var e=j.call(t,Z),r=t[Z];try{t[Z]=void 0;var n=!0}catch(t){}var i=z.call(t);return n&&(e?t[Z]=r:delete t[Z]),i}(t):function(t){return z.call(t)}(t)}function ht(t){return It(t)&&lt(t)==a}function dt(t,e,r,n,i){t!==e&&ct(e,(function(o,s){if(i||(i=new it),Bt(o))!function(t,e,r,n,i,o,s){var a=bt(t,r),u=bt(e,r),c=s.get(u);if(c)ot(t,r,c);else{var l,h,f,p,y,g=o?o(a,u,r+"",t,e,s):void 0,m=void 0===g;if(m){var b=kt(u),w=!b&&St(u),v=!b&&!w&&Rt(u);g=u,b||w||v?kt(a)?g=a:It(y=a)&&xt(y)?g=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(a):w?(m=!1,g=function(t,e){return t.slice()}(u)):v?(m=!1,p=new(f=(l=u).buffer).constructor(f.byteLength),new F(p).set(new F(f)),h=p,g=new l.constructor(h,l.byteOffset,l.length)):g=[]:function(t){if(!It(t)||lt(t)!=d)return!1;var e=q(t);if(null===e)return!0;var r=j.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==U}(u)||_t(u)?(g=a,_t(a)?g=function(t){return function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=void 0;void 0===u&&(u=t[a]),i?ut(r,a,u):st(r,a,u)}return r}(t,Tt(t))}(a):Bt(a)&&!Et(a)||(g=function(t){return"function"!=typeof t.constructor||mt(t)?{}:tt(q(t))}(u))):m=!1}m&&(s.set(u,g),i(g,u,n,o,s),s.delete(u)),ot(t,r,g)}}(t,e,s,r,dt,n,i);else{var a=n?n(bt(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),ot(t,s,a)}}),Tt)}var ft=V?function(t,e){return V(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ct;function pt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function yt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Bt(t)||function(t){return!!L&&L in t}(t))&&(Et(t)?N:y).test(function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}function gt(t,e){var r=typeof t;return!!(e=null==e?s:e)&&("number"==r||"symbol"!=r&&g.test(t))&&t>-1&&t%1==0&&t<e}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||O)}function bt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var wt=function(t){var e=0,r=0;return function(){var n=J(),s=o-(n-r);if(r=n,s>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ft);function vt(t,e){return t===e||t!=t&&e!=e}var _t=ht(function(){return arguments}())?ht:function(t){return It(t)&&j.call(t,"callee")&&!$.call(t,"callee")},kt=Array.isArray;function xt(t){return null!=t&&At(t.length)&&!Et(t)}var St=G||function(){return!1};function Et(t){if(!Bt(t))return!1;var e=lt(t);return e==c||e==l||e==u||e==f}function At(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function It(t){return null!=t&&"object"==typeof t}var Rt=R?function(t){return function(e){return t(e)}}(R):function(t){return It(t)&&At(t.length)&&!!m[lt(t)]};function Tt(t){return xt(t)?function(t,e){var r=kt(t),n=!r&&_t(t),i=!r&&!n&&St(t),o=!r&&!n&&!i&&Rt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!j.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gt(c,u))||a.push(c);return a}(t,!0):function(t){if(!Bt(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=mt(t),r=[];for(var n in t)("constructor"!=n||!e&&j.call(t,n))&&r.push(n);return r}(t)}var Mt,Ot=(Mt=function(t,e,r,n){dt(t,e,r,n)},function(t,e){return wt(function(t,e,r){return e=X(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=X(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,a)}}(t,e,Ct),t+"")}((function(t,e){var r=-1,n=e.length,i=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(i=Mt.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(t,e,r){if(!Bt(r))return!1;var n=typeof e;return!!("number"==n?xt(r)&&gt(e,r.length):"string"==n&&e in r)&&vt(r[e],t)}(e[0],e[1],o)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var s=e[r];s&&Mt(t,s,r,i)}return t})));function Ct(t){return t}t.exports=Ot},"../node_modules/process/browser.js":t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,u=[],c=!1,l=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},"../node_modules/react-fast-compare/index.js":t=>{var e="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var a,u,c,l;if(Array.isArray(t)){if((a=t.length)!=s.length)return!1;for(u=a;0!=u--;)if(!o(t[u],s[u]))return!1;return!0}if(r&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!s.has(u.value[0]))return!1;for(l=t.entries();!(u=l.next()).done;)if(!o(u.value[1],s.get(u.value[0])))return!1;return!0}if(n&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!s.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if((a=t.length)!=s.length)return!1;for(u=a;0!=u--;)if(t[u]!==s[u])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((a=(c=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(u=a;0!=u--;)if(!Object.prototype.hasOwnProperty.call(s,c[u]))return!1;if(e&&t instanceof Element)return!1;for(u=a;0!=u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!t.$$typeof)&&!o(t[c[u]],s[c[u]]))return!1;return!0}return t!=t&&s!=s}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},"../node_modules/react/cjs/react-jsx-runtime.production.min.js":(t,e,r)=>{"use strict";var n=r("../node_modules/react/index.js"),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,o={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,n)&&!u.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:a.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},"../node_modules/react/cjs/react.production.min.js":(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function m(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function b(){}function w(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=m.prototype;var v=w.prototype=new b;v.constructor=w,y(v,m.prototype),v.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,n){var i,o={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)k.call(e,i)&&!S.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:t,key:s,ref:a,props:o,_owner:x.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}var B=/\/+/g;function I(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function R(t,e,i,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case r:case n:u=!0}}if(u)return s=s(u=t),t=""===o?"."+I(u,0):o,_(s)?(i="",null!=t&&(i=t.replace(B,"$&/")+"/"),R(s,e,i,"",(function(t){return t}))):null!=s&&(A(s)&&(s=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(B,"$&/")+"/")+t)),e.push(s)),1;if(u=0,o=""===o?".":o+":",_(t))for(var c=0;c<t.length;c++){var l=o+I(a=t[c],c);u+=R(a,e,i,l,s)}else if(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof l)for(t=l.call(t),c=0;!(a=t.next()).done;)u+=R(a=a.value,e,i,l=o+I(a,c++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function T(t,e,r){if(null==t)return t;var n=[],i=0;return R(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var O={current:null},C={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:C,ReactCurrentOwner:x};e.Children={map:T,forEach:function(t,e,r){T(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=i,e.Profiler=s,e.PureComponent=w,e.StrictMode=o,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=y({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=x.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)k.call(e,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:t.type,key:o,ref:s,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=C.transition;C.transition={};try{t()}finally{C.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return O.current.useCallback(t,e)},e.useContext=function(t){return O.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return O.current.useDeferredValue(t)},e.useEffect=function(t,e){return O.current.useEffect(t,e)},e.useId=function(){return O.current.useId()},e.useImperativeHandle=function(t,e,r){return O.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return O.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return O.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return O.current.useMemo(t,e)},e.useReducer=function(t,e,r){return O.current.useReducer(t,e,r)},e.useRef=function(t){return O.current.useRef(t)},e.useState=function(t){return O.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return O.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return O.current.useTransition()},e.version="18.2.0"},"../node_modules/react/index.js":(t,e,r)=>{"use strict";t.exports=r("../node_modules/react/cjs/react.production.min.js")},"../node_modules/react/jsx-runtime.js":(t,e,r)=>{"use strict";t.exports=r("../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"../node_modules/rpc-websockets/dist/lib/client.js":(t,e,r)=>{"use strict";var n=r("../node_modules/@babel/runtime/helpers/interopRequireDefault.js");e.Z=void 0;var i=n(r("../node_modules/@babel/runtime/regenerator/index.js")),o=n(r("../node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=n(r("../node_modules/@babel/runtime/helpers/typeof.js")),a=n(r("../node_modules/@babel/runtime/helpers/classCallCheck.js")),u=n(r("../node_modules/@babel/runtime/helpers/createClass.js")),c=n(r("../node_modules/@babel/runtime/helpers/inherits.js")),l=n(r("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),h=n(r("../node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r("../node_modules/eventemitter3/index.js");var f=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},p=function(t){(0,c.default)(m,t);var e,r,n,d,p,y,g=(p=m,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,h.default)(p);if(y){var r=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return(0,l.default)(this,t)});function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,m);var o=n.autoconnect,s=void 0===o||o,u=n.reconnect,c=void 0===u||u,l=n.reconnect_interval,h=void 0===l?1e3:l,d=n.max_reconnects,p=void 0===d?5:d,y=f(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=g.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=r,e.autoconnect=s,e.ready=!1,e.reconnect=c,e.reconnect_timer_id=void 0,e.reconnect_interval=h,e.max_reconnects=p,e.rest_options=y,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,u.default)(m,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var i=this;return n||"object"!==(0,s.default)(r)||(n=r,r=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(t,e),u={jsonrpc:"2.0",method:t,params:e||null,id:a};i.socket.send(JSON.stringify(u),n,(function(t){if(t)return s(t);i.queue[a]={promise:[o,s]},r&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(d=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(n=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(o),(function(t){if(t)return i(t);n()}))}))}},{key:"subscribe",value:(r=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=Buffer.from(e).toString());try{e=JSON.parse(e)}catch(t){return}if(e.notification&&r.listeners(e.notification).length){if(!Object.keys(e.params).length)return r.emit(e.notification);var n=[e.notification];if(e.params.constructor===Object)n.push(e.params);else for(var i=0;i<e.params.length;i++)n.push(e.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){r.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&r.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[e.id].timeout&&clearTimeout(r.queue[e.id].timeout),e.error?r.queue[e.id].promise[1](e.error):r.queue[e.id].promise[0](e.result),delete r.queue[e.id]})),this.socket.addEventListener("error",(function(t){return r.emit("error",t)})),this.socket.addEventListener("close",(function(n){var i=n.code,o=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,o)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout((function(){return r._connect(t,e)}),r.reconnect_interval)))}))}}]),m}(d.EventEmitter);e.Z=p},"../node_modules/rpc-websockets/dist/lib/client/websocket.browser.js":(t,e,r)=>{"use strict";var n=r("../node_modules/@babel/runtime/helpers/interopRequireDefault.js");e.Z=function(t,e){return new c(t,e)};var i=n(r("../node_modules/@babel/runtime/helpers/classCallCheck.js")),o=n(r("../node_modules/@babel/runtime/helpers/createClass.js")),s=n(r("../node_modules/@babel/runtime/helpers/inherits.js")),a=n(r("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=n(r("../node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=function(t){(0,s.default)(c,t);var e,r,n=(e=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,u.default)(e);if(r){var i=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,a.default)(this,t)});function c(t,e,r){var o;return(0,i.default)(this,c),(o=n.call(this)).socket=new window.WebSocket(t,r),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(t){return o.emit("message",t.data)},o.socket.onerror=function(t){return o.emit("error",t)},o.socket.onclose=function(t){o.emit("close",t.code,t.reason)},o}return(0,o.default)(c,[{key:"send",value:function(t,e,r){var n=r||e;try{this.socket.send(t),n()}catch(t){n(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),c}(r("../node_modules/eventemitter3/index.js").EventEmitter)},"../node_modules/safe-buffer/index.js":(t,e,r)=>{var n=r("../node_modules/buffer/index.js"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},"../node_modules/text-encoding-utf-8/lib/encoding.lib.js":(t,e)=>{"use strict";function r(t,e,r){return e<=t&&t<=r}function n(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}var i=-1;function o(t){this.tokens=[].slice.call(t)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():i},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var s=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var u="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=n(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,n=0,o=0,u=0,c=128,l=191;this.handler=function(t,h){if(h===i&&0!==u)return u=0,a(e);if(h===i)return s;if(0===u){if(r(h,0,127))return h;if(r(h,194,223))u=1,n=h-192;else if(r(h,224,239))224===h&&(c=160),237===h&&(l=159),u=2,n=h-224;else{if(!r(h,240,244))return a(e);240===h&&(c=144),244===h&&(l=143),u=3,n=h-240}return n<<=6*u,null}if(!r(h,c,l))return n=u=o=0,c=128,l=191,t.prepend(h),a(e);if(c=128,l=191,n+=h-128<<6*(u-(o+=1)),o!==u)return null;var d=n;return n=u=o=0,d}}function d(t){t.fatal,this.handler=function(t,e){if(e===i)return s;if(r(e,0,127))return e;var n,o;r(e,128,2047)?(n=1,o=192):r(e,2048,65535)?(n=2,o=224):r(e,65536,1114111)&&(n=3,o=240);for(var a=[(e>>6*n)+o];n>0;){var u=e>>6*(n-1);a.push(128|63&u),n-=1}return a}}c.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=n(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var i,a=new o(r),u=[];!a.endOfStream()&&(i=this._decoder.handler(a,a.read()))!==s;)null!==i&&(Array.isArray(i)?u.push.apply(u,i):u.push(i));if(!this._streaming){do{if((i=this._decoder.handler(a,a.read()))===s)break;null!==i&&(Array.isArray(i)?u.push.apply(u,i):u.push(i))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(u)}},l.prototype={encode:function(t,e){t=t?String(t):"",e=n(e),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(e.stream);for(var r,i=[],a=new o(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?i.push.apply(i,r):i.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?i.push.apply(i,r):i.push(r);this._encoder=null}return new Uint8Array(i)}},e.TextEncoder=l,e.TextDecoder=c},"../node_modules/uuid/dist/esm-browser/index.js":(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>l});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&s.test(t)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r}(n)}},"?db77":()=>{},"?e97e":()=>{},"?0699":()=>{},"../node_modules/@babel/runtime/helpers/assertThisInitialized.js":t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/asyncToGenerator.js":t=>{function e(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,o){var s=t.apply(r,n);function a(t){e(s,i,o,a,u,"next",t)}function u(t){e(s,i,o,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/classCallCheck.js":t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/createClass.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/toPropertyKey.js");function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/getPrototypeOf.js":t=>{function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/inherits.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/setPrototypeOf.js");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/interopRequireDefault.js":t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/typeof.js").default,i=r("../node_modules/@babel/runtime/helpers/assertThisInitialized.js");t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/regeneratorRuntime.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/typeof.js").default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,o=r.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new I(n||[]);return s(o,"_invoke",{value:S(t,r,a)}),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p={};function y(){}function g(){}function m(){}var b={};h(b,u,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(R([])));v&&v!==r&&o.call(v,u)&&(b=v);var _=m.prototype=y.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,s,a,u){var c=f(t[i],t,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function S(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=E(s,r);if(a){if(a===p)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=m,s(_,"constructor",{value:m,configurable:!0}),s(m,"constructor",{value:g,configurable:!0}),g.displayName=h(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,h(t,l,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},k(x.prototype),h(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new x(d(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(_),h(_,l,"Generator"),h(_,u,(function(){return this})),h(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:R(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/setPrototypeOf.js":t=>{function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/toPrimitive.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/typeof.js").default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/toPropertyKey.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/typeof.js").default,i=r("../node_modules/@babel/runtime/helpers/toPrimitive.js");t.exports=function(t){var e=i(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/helpers/typeof.js":t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},"../node_modules/@babel/runtime/regenerator/index.js":(t,e,r)=>{var n=r("../node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,__webpack_require__.d(r,n),r},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};(()=>{"use strict";const t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,e=Object.keys,r=Array.isArray;function n(t,r){return"object"!=typeof r||e(r).forEach((function(e){t[e]=r[e]})),t}"undefined"==typeof Promise||t.Promise||(t.Promise=Promise);const i=Object.getPrototypeOf,o={}.hasOwnProperty;function s(t,e){return o.call(t,e)}function a(t,r){"function"==typeof r&&(r=r(i(t))),("undefined"==typeof Reflect?e:Reflect.ownKeys)(r).forEach((e=>{c(t,e,r[e])}))}const u=Object.defineProperty;function c(t,e,r,i){u(t,e,n(r&&s(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},i))}function l(t){return{from:function(e){return t.prototype=Object.create(e.prototype),c(t.prototype,"constructor",t),{extend:a.bind(null,t.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(t,e){let r;return h(t,e)||(r=i(t))&&d(r,e)}const f=[].slice;function p(t,e,r){return f.call(t,e,r)}function y(t,e){return e(t)}function g(t){if(!t)throw new Error("Assertion Failed")}function m(e){t.setImmediate?setImmediate(e):setTimeout(e,0)}function b(t,e){return t.reduce(((t,r,n)=>{var i=e(r,n);return i&&(t[i[0]]=i[1]),t}),{})}function w(t,e){if(s(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var r=[],n=0,i=e.length;n<i;++n){var o=w(t,e[n]);r.push(o)}return r}var a=e.indexOf(".");if(-1!==a){var u=t[e.substr(0,a)];return void 0===u?void 0:w(u,e.substr(a+1))}}function v(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){g("string"!=typeof n&&"length"in n);for(var i=0,o=e.length;i<o;++i)v(t,e[i],n[i])}else{var a=e.indexOf(".");if(-1!==a){var u=e.substr(0,a),c=e.substr(a+1);if(""===c)void 0===n?r(t)&&!isNaN(parseInt(u))?t.splice(u,1):delete t[u]:t[u]=n;else{var l=t[u];l&&s(t,u)||(l=t[u]={}),v(l,c,n)}}else void 0===n?r(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function _(t){var e={};for(var r in t)s(t,r)&&(e[r]=t[r]);return e}const k=[].concat;function x(t){return k.apply([],t)}const S="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(x([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((e=>t[e])),E=S.map((e=>t[e]));b(S,(t=>[t,!0]));let A=null;function B(t){A="undefined"!=typeof WeakMap&&new WeakMap;const e=I(t);return A=null,e}function I(t){if(!t||"object"!=typeof t)return t;let e=A&&A.get(t);if(e)return e;if(r(t)){e=[],A&&A.set(t,e);for(var n=0,o=t.length;n<o;++n)e.push(I(t[n]))}else if(E.indexOf(t.constructor)>=0)e=t;else{const r=i(t);for(var a in e=r===Object.prototype?{}:Object.create(r),A&&A.set(t,e),t)s(t,a)&&(e[a]=I(t[a]))}return e}const{toString:R}={};function T(t){return R.call(t).slice(8,-1)}const M="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",O="symbol"==typeof M?function(t){var e;return null!=t&&(e=t[M])&&e.apply(t)}:function(){return null},C={};function P(t){var e,n,i,o;if(1===arguments.length){if(r(t))return t.slice();if(this===C&&"string"==typeof t)return[t];if(o=O(t)){for(n=[];!(i=o.next()).done;)n.push(i.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const j="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var L="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function z(t,e){L=t,U=e}var U=()=>!0;const N=!new Error("").stack;function H(){if(N)try{throw H.arguments,new Error}catch(t){return t}return new Error}function D(t,e){var r=t.stack;return r?(e=e||0,0===r.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),r.split("\n").slice(e).filter(U).map((t=>"\n"+t)).join("")):""}var F=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(F),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(t,e){this._e=H(),this.name=t,this.message=e}function W(t,e){return t+". Errors: "+Object.keys(e).map((t=>e[t].toString())).filter(((t,e,r)=>r.indexOf(t)===e)).join("\n")}function Z(t,e,r,n){this._e=H(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=W(t,e)}function V(t,e){this._e=H(),this.name="BulkError",this.failures=Object.keys(e).map((t=>e[t])),this.failuresByPos=e,this.message=W(t,e)}l($).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+D(this._e,2))}},toString:function(){return this.name+": "+this.message}}),l(Z).from($),l(V).from($);var G=q.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const X=$;var J=q.reduce(((t,e)=>{var r=e+"Error";function n(t,n){this._e=H(),this.name=r,t?"string"==typeof t?(this.message=`${t}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=K[e]||r,this.inner=null)}return l(n).from(X),t[e]=n,t}),{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var Y=F.reduce(((t,e)=>(t[e+"Error"]=J[e],t)),{}),Q=q.reduce(((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=J[e]),t)),{});function tt(){}function et(t){return t}function rt(t,e){return null==t||t===et?e:function(r){return e(t(r))}}function nt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function it(t,e){return t===tt?e:function(){var r=t.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?nt(n,this.onsuccess):n),i&&(this.onerror=this.onerror?nt(i,this.onerror):i),void 0!==o?o:r}}function ot(t,e){return t===tt?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?nt(r,this.onsuccess):r),n&&(this.onerror=this.onerror?nt(n,this.onerror):n)}}function st(t,e){return t===tt?e:function(r){var i=t.apply(this,arguments);n(r,i);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?nt(o,this.onsuccess):o),s&&(this.onerror=this.onerror?nt(s,this.onerror):s),void 0===i?void 0===a?void 0:a:n(i,a)}}function at(t,e){return t===tt?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function ut(t,e){return t===tt?e:function(){var r=t.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then((function(){return e.apply(n,o)}))}return e.apply(this,arguments)}}Q.ModifyError=Z,Q.DexieError=$,Q.BulkError=V;var ct={};const[lt,ht,dt]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,i(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,i(e),t]})(),ft=ht&&ht.then,pt=lt&&lt.constructor,yt=!!dt;var gt=!1,mt=dt?()=>{dt.then(Ht)}:t.setImmediate?setImmediate.bind(null,Ht):t.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{Ht(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Ht,0)},bt=function(t,e){Bt.push([t,e]),vt&&(mt(),vt=!1)},wt=!0,vt=!0,_t=[],kt=[],xt=null,St=et,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:le,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{le(t[0],t[1])}catch(t){}}))}},At=Et,Bt=[],It=0,Rt=[];function Tt(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=tt,this._lib=!1;var e=this._PSD=At;if(L&&(this._stackHolder=H(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==ct)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Pt(this,this._value))}this._state=null,this._value=null,++e.ref,Ct(this,t)}const Mt={get:function(){var t=At,e=Xt;function r(r,n){var i=!t.global&&(t!==At||e!==Xt);const o=i&&!te();var s=new Tt(((e,s)=>{Lt(this,new Ot(ue(r,t,i,o),ue(n,t,i,o),e,s,t))}));return L&&Nt(s,this),s}return r.prototype=ct,r},set:function(t){c(this,"then",t&&t.prototype===ct?Mt:{get:function(){return t},set:Mt.set})}};function Ot(t,e,r,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=r,this.reject=n,this.psd=i}function Ct(t,e){try{e((e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Dt();e&&"function"==typeof e.then?Ct(t,((t,r)=>{e instanceof Tt?e._then(t,r):e.then(t,r)})):(t._state=!0,t._value=e,jt(t)),r&&Ft()}}),Pt.bind(null,t))}catch(e){Pt(t,e)}}function Pt(t,e){if(kt.push(e),null===t._state){var r=t._lib&&Dt();e=St(e),t._state=!1,t._value=e,L&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,r){try{t.apply(null,void 0)}catch(t){}}((()=>{var r=d(e,"stack");e._promise=t,c(e,"stack",{get:()=>gt?r&&(r.get?r.get.apply(e):r.value):t.stack})})),function(t){_t.some((e=>e._value===t._value))||_t.push(t)}(t),jt(t),r&&Ft()}}function jt(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)Lt(t,e[r]);var i=t._PSD;--i.ref||i.finalize(),0===It&&(++It,bt((()=>{0==--It&&qt()}),[]))}function Lt(t,e){if(null!==t._state){var r=t._state?e.onFulfilled:e.onRejected;if(null===r)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++It,bt(zt,[r,t,e])}else t._listeners.push(e)}function zt(t,e,r){try{xt=e;var n,i=e._value;e._state?n=t(i):(kt.length&&(kt=[]),n=t(i),-1===kt.indexOf(i)&&function(t){for(var e=_t.length;e;)if(_t[--e]._value===t._value)return void _t.splice(e,1)}(e)),r.resolve(n)}catch(t){r.reject(t)}finally{xt=null,0==--It&&qt(),--r.psd.ref||r.psd.finalize()}}function Ut(t,e,r){if(e.length===r)return e;var n="";if(!1===t._state){var i,o,s=t._value;null!=s?(i=s.name||"Error",o=s.message||s,n=D(s,0)):(i=s,o=""),e.push(i+(o?": "+o:"")+n)}return L&&((n=D(t._stackHolder,2))&&-1===e.indexOf(n)&&e.push(n),t._prev&&Ut(t._prev,e,r)),e}function Nt(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function Ht(){Dt()&&Ft()}function Dt(){var t=wt;return wt=!1,vt=!1,t}function Ft(){var t,e,r;do{for(;Bt.length>0;)for(t=Bt,Bt=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}}while(Bt.length>0);wt=!0,vt=!0}function qt(){var t=_t;_t=[],t.forEach((t=>{t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Rt.slice(0),r=e.length;r;)e[--r]()}function Kt(t){return new Tt(ct,!1,t)}function $t(t,e){var r=At;return function(){var n=Dt(),i=At;try{return ie(r,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{ie(i,!1),n&&Ft()}}}a(Tt.prototype,{then:Mt,_then:function(t,e){Lt(this,new Ot(null,null,t,e,At))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],r=arguments[1];return"function"==typeof e?this.then(null,(t=>t instanceof e?r(t):Kt(t))):this.then(null,(t=>t&&t.name===e?r(t):Kt(t)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),Kt(e))))},stack:{get:function(){if(this._stack)return this._stack;try{gt=!0;var t=Ut(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{gt=!1}}},timeout:function(t,e){return t<1/0?new Tt(((r,n)=>{var i=setTimeout((()=>n(new J.Timeout(e))),t);this.then(r,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&c(Tt.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=oe(),a(Tt,{all:function(){var t=P.apply(null,arguments).map(ee);return new Tt((function(e,r){0===t.length&&e([]);var n=t.length;t.forEach(((i,o)=>Tt.resolve(i).then((r=>{t[o]=r,--n||e(t)}),r)))}))},resolve:t=>{if(t instanceof Tt)return t;if(t&&"function"==typeof t.then)return new Tt(((e,r)=>{t.then(e,r)}));var e=new Tt(ct,!0,t);return Nt(e,xt),e},reject:Kt,race:function(){var t=P.apply(null,arguments).map(ee);return new Tt(((e,r)=>{t.map((t=>Tt.resolve(t).then(e,r)))}))},PSD:{get:()=>At,set:t=>At=t},totalEchoes:{get:()=>Xt},newPSD:Yt,usePSD:se,scheduler:{get:()=>bt,set:t=>{bt=t}},rejectionMapper:{get:()=>St,set:t=>{St=t}},follow:(t,e)=>new Tt(((r,n)=>Yt(((e,r)=>{var n=At;n.unhandleds=[],n.onunhandled=r,n.finalize=nt((function(){!function(t){Rt.push((function e(){t(),Rt.splice(Rt.indexOf(e),1)})),++It,bt((()=>{0==--It&&qt()}),[])}((()=>{0===this.unhandleds.length?e():r(this.unhandleds[0])}))}),n.finalize),t()}),e,r,n)))}),pt&&(pt.allSettled&&c(Tt,"allSettled",(function(){const t=P.apply(null,arguments).map(ee);return new Tt((e=>{0===t.length&&e([]);let r=t.length;const n=new Array(r);t.forEach(((t,i)=>Tt.resolve(t).then((t=>n[i]={status:"fulfilled",value:t}),(t=>n[i]={status:"rejected",reason:t})).then((()=>--r||e(n)))))}))})),pt.any&&"undefined"!=typeof AggregateError&&c(Tt,"any",(function(){const t=P.apply(null,arguments).map(ee);return new Tt(((e,r)=>{0===t.length&&r(new AggregateError([]));let n=t.length;const i=new Array(n);t.forEach(((t,o)=>Tt.resolve(t).then((t=>e(t)),(t=>{i[o]=t,--n||r(new AggregateError(i))}))))}))})));const Wt={awaits:0,echoes:0,id:0};var Zt=0,Vt=[],Gt=0,Xt=0,Jt=0;function Yt(t,e,r,i){var o=At,s=Object.create(o);s.parent=o,s.ref=0,s.global=!1,s.id=++Jt;var a=Et.env;s.env=yt?{Promise:Tt,PromiseProp:{value:Tt,configurable:!0,writable:!0},all:Tt.all,race:Tt.race,allSettled:Tt.allSettled,any:Tt.any,resolve:Tt.resolve,reject:Tt.reject,nthen:ce(a.nthen,s),gthen:ce(a.gthen,s)}:{},e&&n(s,e),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=se(s,t,r,i);return 0===s.ref&&s.finalize(),u}function Qt(){return Wt.id||(Wt.id=++Zt),++Wt.awaits,Wt.echoes+=100,Wt.id}function te(){return!!Wt.awaits&&(0==--Wt.awaits&&(Wt.id=0),Wt.echoes=100*Wt.awaits,!0)}function ee(t){return Wt.echoes&&t&&t.constructor===pt?(Qt(),t.then((t=>(te(),t)),(t=>(te(),he(t))))):t}function re(t){++Xt,Wt.echoes&&0!=--Wt.echoes||(Wt.echoes=Wt.id=0),Vt.push(At),ie(t,!0)}function ne(){var t=Vt[Vt.length-1];Vt.pop(),ie(t,!1)}function ie(e,r){var n=At;if((r?!Wt.echoes||Gt++&&e===At:!Gt||--Gt&&e===At)||ae(r?re.bind(null,e):ne),e!==At&&(At=e,n===Et&&(Et.env=oe()),yt)){var i=Et.env.Promise,o=e.env;ht.then=o.nthen,i.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(t,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function oe(){var e=t.Promise;return yt?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(t,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ht.then,gthen:e.prototype.then}:{}}function se(t,e,r,n,i){var o=At;try{return ie(t,!0),e(r,n,i)}finally{ie(o,!1)}}function ae(t){ft.call(lt,t)}function ue(t,e,r,n){return"function"!=typeof t?t:function(){var i=At;r&&Qt(),ie(e,!0);try{return t.apply(this,arguments)}finally{ie(i,!1),n&&ae(te)}}}function ce(t,e){return function(r,n){return t.call(this,ue(r,e),ue(n,e))}}function le(e,r){var i;try{i=r.onuncatched(e)}catch(t){}if(!1!==i)try{var o,s={promise:r,reason:e};if(t.document&&document.createEvent?((o=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),n(o,s)):t.CustomEvent&&n(o=new CustomEvent("unhandledrejection",{detail:s}),s),o&&t.dispatchEvent&&(dispatchEvent(o),!t.PromiseRejectionEvent&&t.onunhandledrejection))try{t.onunhandledrejection(o)}catch(t){}L&&o&&!o.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(t){}}-1===(""+ft).indexOf("[native code]")&&(Qt=te=tt);var he=Tt.reject;function de(t,e,r,n){if(t.idbdb&&(t._state.openComplete||At.letThrough||t._vip)){var i=t._createTransaction(e,r,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===G.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>de(t,e,r,n)))):he(i)}return i._promise(e,((t,e)=>Yt((()=>(At.trans=i,n(t,e,i)))))).then((t=>i._completion.then((()=>t))))}if(t._state.openComplete)return he(new J.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return he(new J.DatabaseClosed);t.open().catch(tt)}return t._state.dbReadyPromise.then((()=>de(t,e,r,n)))}const fe=String.fromCharCode(65535),pe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ye=[],ge="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),me=ge,be=ge,we=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function ve(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const _e={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ke(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=B(e))[t],e)}class xe{_trans(t,e,r){const n=this._tx||At.trans,i=this.name;function o(t,r,n){if(!n.schema[i])throw new J.NotFound("Table "+i+" not part of transaction");return e(n.idbtrans,n)}const s=Dt();try{return n&&n.db===this.db?n===At.trans?n._promise(t,o,r):Yt((()=>n._promise(t,o,r)),{trans:n,transless:At.transless||At}):de(this.db,t,[this.name],o)}finally{s&&Ft()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(e=>this.core.get({trans:e,key:t}).then((t=>this.hook.reading.fire(t))))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(r(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=e(t);if(1===n.length)return this.where(n[0]).equals(t[n[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter((t=>t.compound&&n.every((e=>t.keyPath.indexOf(e)>=0))&&t.keyPath.every((t=>n.indexOf(t)>=0))))[0];if(i&&this.db._maxKey!==fe)return this.where(i.name).equals(i.keyPath.map((e=>t[e])));!i&&L&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,s=this.db._deps.indexedDB;function a(t,e){try{return 0===s.cmp(t,e)}catch(t){return!1}}const[u,c]=n.reduce((([e,n],i)=>{const s=o[i],u=t[i];return[e||s,e||!s?ve(n,s&&s.multi?t=>{const e=w(t,i);return r(e)&&e.some((t=>a(u,t)))}:t=>a(u,w(t,i))):n]}),[null,null]);return u?this.where(u.name).equals(t[u.keyPath]).filter(c):i?this.filter(c):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,r(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const r=Object.create(t.prototype);for(var n in e)if(s(e,n))try{r[n]=e[n]}catch(t){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass((function(t){n(this,t)}))}add(t,e){const{auto:r,keyPath:n}=this.schema.primKey;let i=t;return n&&r&&(i=ke(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[i]}))).then((t=>t.numFailures?Tt.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{v(t,n,e)}catch(t){}return e}))}update(t,n){if("object"!=typeof t||r(t))return this.where(":id").equals(t).modify(n);{const r=w(t,this.schema.primKey.keyPath);if(void 0===r)return he(new J.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof n?e(n).forEach((e=>{v(t,e,n[e])})):n(t,{value:t,primKey:r})}catch(t){}return this.where(":id").equals(r).modify(n)}}put(t,e){const{auto:r,keyPath:n}=this.schema.primKey;let i=t;return n&&r&&(i=ke(n)(t)),this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"put",values:[i],keys:null!=e?[e]:null}))).then((t=>t.numFailures?Tt.reject(t.failures[0]):t.lastResult)).then((e=>{if(n)try{v(t,n,e)}catch(t){}return e}))}delete(t){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:[t]}))).then((t=>t.numFailures?Tt.reject(t.failures[0]):void 0))}clear(){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"deleteRange",range:_e}))).then((t=>t.numFailures?Tt.reject(t.failures[0]):void 0))}bulkGet(t){return this._trans("readonly",(e=>this.core.getMany({keys:t,trans:e}).then((t=>t.map((t=>this.hook.reading.fire(t)))))))}bulkAdd(t,e,r){const n=Array.isArray(e)?e:void 0,i=(r=r||(n?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=o&&r?t.map(ke(o)):t;return this.core.mutate({trans:e,type:"add",keys:n,values:a,wantResults:i}).then((({numFailures:t,results:e,lastResult:r,failures:n})=>{if(0===t)return i?e:r;throw new V(`${this.name}.bulkAdd(): ${t} of ${s} operations failed`,n)}))}))}bulkPut(t,e,r){const n=Array.isArray(e)?e:void 0,i=(r=r||(n?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",(e=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=o&&r?t.map(ke(o)):t;return this.core.mutate({trans:e,type:"put",keys:n,values:a,wantResults:i}).then((({numFailures:t,results:e,lastResult:r,failures:n})=>{if(0===t)return i?e:r;throw new V(`${this.name}.bulkPut(): ${t} of ${s} operations failed`,n)}))}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"delete",keys:t}))).then((({numFailures:t,lastResult:r,failures:n})=>{if(0===t)return r;throw new V(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,n)}))}}function Se(t){var n={},i=function(e,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[e].subscribe.apply(null,o),t}if("string"==typeof e)return n[e]};i.addEventType=a;for(var o=1,s=arguments.length;o<s;++o)a(arguments[o]);return i;function a(t,e,r){if("object"==typeof t)return u(t);e||(e=at),r||(r=tt);var o={subscribers:[],fire:r,subscribe:function(t){-1===o.subscribers.indexOf(t)&&(o.subscribers.push(t),o.fire=e(o.fire,t))},unsubscribe:function(t){o.subscribers=o.subscribers.filter((function(e){return e!==t})),o.fire=o.subscribers.reduce(e,r)}};return n[t]=i[t]=o,o}function u(t){e(t).forEach((function(e){var n=t[e];if(r(n))a(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new J.InvalidArgument("Invalid event config");var i=a(e,et,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];i.subscribers.forEach((function(t){m((function(){t.apply(null,e)}))}))}))}}))}}function Ee(t,e){return l(e).from({prototype:t}),e}function Ae(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Be(t,e){t.filter=ve(t.filter,e)}function Ie(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>ve(n(),e()):e,t.justLimit=r&&!n}function Re(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new J.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function Te(t,e,r){const n=Re(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:n,range:t.range}})}function Me(t,e,r,n){const i=t.replayFilter?ve(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},a=(t,r,n)=>{if(!i||i(r,n,(t=>r.stop(t)),(t=>r.fail(t)))){var a=r.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),s(o,u)||(o[u]=!0,e(t,r,n))}};return Promise.all([t.or._iterate(a,r),Oe(Te(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Oe(Te(t,n,r),ve(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Oe(t,e,r,n){var i=$t(n?(t,e,i)=>r(n(t),e,i):r);return t.then((t=>{if(t)return t.start((()=>{var r=()=>t.continue();e&&!e(t,(t=>r=t),(e=>{t.stop(e),r=tt}),(e=>{t.fail(e),r=tt}))||i(t.value,t,(t=>r=t)),r()}))}))}function Ce(t,e){try{const r=Pe(t),n=Pe(e);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const r=t.length,n=e.length,i=r<n?r:n;for(let r=0;r<i;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return r===n?0:r<n?-1:1}(je(t),je(e));case"Array":return function(t,e){const r=t.length,n=e.length,i=r<n?r:n;for(let r=0;r<i;++r){const n=Ce(t[r],e[r]);if(0!==n)return n}return r===n?0:r<n?-1:1}(t,e)}}catch(t){}return NaN}function Pe(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const r=T(t);return"ArrayBuffer"===r?"binary":r}function je(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Le{_read(t,e){var r=this._ctx;return r.error?r.table._trans(null,he.bind(null,r.error)):r.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,he.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=ve(e.algorithm,t)}_iterate(t,e){return Me(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&n(r,t),e._ctx=r,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read((r=>Me(e,t,r,e.table.core)))}count(t){return this._read((t=>{const e=this._ctx,r=e.table.core;if(Ae(e,!0))return r.count({trans:t,query:{index:Re(e,r.schema),range:e.range}}).then((t=>Math.min(t,e.limit)));var n=0;return Me(e,(()=>(++n,!1)),t,r).then((()=>n))})).then(t)}sortBy(t,e){const r=t.split(".").reverse(),n=r[0],i=r.length-1;function o(t,e){return e?o(t[r[e]],e-1):t[n]}var s="next"===this._ctx.dir?1:-1;function a(t,e){var r=o(t,i),n=o(e,i);return r<n?-s:r>n?s:0}return this.toArray((function(t){return t.sort(a)})).then(e)}toArray(t){return this._read((t=>{var e=this._ctx;if("next"===e.dir&&Ae(e,!0)&&e.limit>0){const{valueMapper:r}=e,n=Re(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:n,range:e.range}}).then((({result:t})=>r?t.map(r):t))}{const r=[];return Me(e,(t=>r.push(t)),t,e.table.core).then((()=>r))}}),t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,Ae(e)?Ie(e,(()=>{var e=t;return(t,r)=>0===e||(1===e?(--e,!1):(r((()=>{t.advance(e),e=0})),!1))})):Ie(e,(()=>{var e=t;return()=>--e<0}))),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ie(this._ctx,(()=>{var e=t;return function(t,r,n){return--e<=0&&r(n),e>=0}}),!0),this}until(t,e){return Be(this._ctx,(function(r,n,i){return!t(r.value)||(n(i),e)})),this}first(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,r;return Be(this._ctx,(function(e){return t(e.value)})),e=this._ctx,r=t,e.isMatch=ve(e.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,r){t(r.key,r)}))}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,r){t(r.primaryKey,r)}))}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var r=[];return this.each((function(t,e){r.push(e.key)})).then((function(){return r})).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&Ae(e,!0)&&e.limit>0)return this._read((t=>{var r=Re(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:r,range:e.range}})})).then((({result:t})=>t)).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each((function(t,e){r.push(e.primaryKey)})).then((function(){return r})).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys((function(t){return t[0]})).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return Be(this._ctx,(function(t){var e=t.primaryKey.toString(),n=s(r,e);return r[e]=!0,!n})),this}modify(t){var r=this._ctx;return this._write((n=>{var i;if("function"==typeof t)i=t;else{var o=e(t),s=o.length;i=function(e){for(var r=!1,n=0;n<s;++n){var i=o[n],a=t[i];w(e,i)!==a&&(v(e,i,a),r=!0)}return r}}const a=r.table.core,{outbound:u,extractKey:c}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],p=(t,r)=>{const{failures:n,numFailures:i}=r;d+=t-i;for(let t of e(n))h.push(n[t])};return this.clone().primaryKeys().then((e=>{const o=s=>{const h=Math.min(l,e.length-s);return a.getMany({trans:n,keys:e.slice(s,s+h),cache:"immutable"}).then((d=>{const f=[],y=[],g=u?[]:null,m=[];for(let t=0;t<h;++t){const r=d[t],n={value:B(r),primKey:e[s+t]};!1!==i.call(n,n.value,n)&&(null==n.value?m.push(e[s+t]):u||0===Ce(c(r),c(n.value))?(y.push(n.value),u&&g.push(e[s+t])):(m.push(e[s+t]),f.push(n.value)))}const b=Ae(r)&&r.limit===1/0&&("function"!=typeof t||t===ze)&&{index:r.index,range:r.range};return Promise.resolve(f.length>0&&a.mutate({trans:n,type:"add",values:f}).then((t=>{for(let e in t.failures)m.splice(parseInt(e),1);p(f.length,t)}))).then((()=>(y.length>0||b&&"object"==typeof t)&&a.mutate({trans:n,type:"put",keys:g,values:y,criteria:b,changeSpec:"function"!=typeof t&&t}).then((t=>p(y.length,t))))).then((()=>(m.length>0||b&&t===ze)&&a.mutate({trans:n,type:"delete",keys:m,criteria:b}).then((t=>p(m.length,t))))).then((()=>e.length>s+h&&o(s+l)))}))};return o(0).then((()=>{if(h.length>0)throw new Z("Error modifying one or more objects",h,d,f);return e.length}))}))}))}delete(){var t=this._ctx,e=t.range;return Ae(t)&&(t.isPrimKey&&!be||3===e.type)?this._write((r=>{const{primaryKey:n}=t.table.core.schema,i=e;return t.table.core.count({trans:r,query:{index:n,range:i}}).then((e=>t.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((({failures:t,lastResult:r,results:n,numFailures:i})=>{if(i)throw new Z("Could not delete some values",Object.keys(t).map((e=>t[e])),e-i);return e-i}))))})):this.modify(ze)}}const ze=(t,e)=>e.value=null;function Ue(t,e){return t<e?-1:t===e?0:1}function Ne(t,e){return t>e?-1:t===e?0:1}function He(t,e,r){var n=t instanceof We?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function De(t){return new t.Collection(t,(()=>$e(""))).limit(0)}function Fe(t,e,r,n,i,o){for(var s=Math.min(t.length,n.length),a=-1,u=0;u<s;++u){var c=e[u];if(c!==n[u])return i(t[u],r[u])<0?t.substr(0,u)+r[u]+r.substr(u+1):i(t[u],n[u])<0?t.substr(0,u)+n[u]+r.substr(u+1):a>=0?t.substr(0,a)+e[a]+r.substr(a+1):null;i(t[u],c)<0&&(a=u)}return s<n.length&&"next"===o?t+r.substr(t.length):s<t.length&&"prev"===o?t.substr(0,r.length):a<0?null:t.substr(0,a)+n[a]+r.substr(a+1)}function qe(t,e,r,n){var i,o,s,a,u,c,l,h=r.length;if(!r.every((t=>"string"==typeof t)))return He(t,"String expected.");function d(t){i=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),o=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),s="next"===t?Ue:Ne;var e=r.map((function(t){return{lower:o(t),upper:i(t)}})).sort((function(t,e){return s(t.lower,e.lower)}));a=e.map((function(t){return t.upper})),u=e.map((function(t){return t.lower})),c=t,l="next"===t?"":n}d("next");var f=new t.Collection(t,(()=>Ke(a[0],u[h-1]+n)));f._ondirectionchange=function(t){d(t)};var p=0;return f._addAlgorithm((function(t,r,n){var i=t.key;if("string"!=typeof i)return!1;var d=o(i);if(e(d,u,p))return!0;for(var f=null,y=p;y<h;++y){var g=Fe(i,d,a[y],u[y],s,c);null===g&&null===f?p=y+1:(null===f||s(f,g)>0)&&(f=g)}return r(null!==f?function(){t.continue(f+l)}:n),!1})),f}function Ke(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function $e(t){return{type:1,lower:t,upper:t}}class We{get Collection(){return this._ctx.table.db.Collection}between(t,e,r,n){r=!1!==r,n=!0===n;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(r||n)&&(!r||!n)?De(this):new this.Collection(this,(()=>Ke(t,e,!r,!n)))}catch(t){return He(this,pe)}}equals(t){return null==t?He(this,pe):new this.Collection(this,(()=>$e(t)))}above(t){return null==t?He(this,pe):new this.Collection(this,(()=>Ke(t,void 0,!0)))}aboveOrEqual(t){return null==t?He(this,pe):new this.Collection(this,(()=>Ke(t,void 0,!1)))}below(t){return null==t?He(this,pe):new this.Collection(this,(()=>Ke(void 0,t,!1,!0)))}belowOrEqual(t){return null==t?He(this,pe):new this.Collection(this,(()=>Ke(void 0,t)))}startsWith(t){return"string"!=typeof t?He(this,"String expected."):this.between(t,t+fe,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):qe(this,((t,e)=>0===t.indexOf(e[0])),[t],fe)}equalsIgnoreCase(t){return qe(this,((t,e)=>t===e[0]),[t],"")}anyOfIgnoreCase(){var t=P.apply(C,arguments);return 0===t.length?De(this):qe(this,((t,e)=>-1!==e.indexOf(t)),t,"")}startsWithAnyOfIgnoreCase(){var t=P.apply(C,arguments);return 0===t.length?De(this):qe(this,((t,e)=>e.some((e=>0===t.indexOf(e)))),t,fe)}anyOf(){const t=P.apply(C,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return He(this,pe)}if(0===t.length)return De(this);const r=new this.Collection(this,(()=>Ke(t[0],t[t.length-1])));r._ondirectionchange=r=>{e="next"===r?this._ascending:this._descending,t.sort(e)};let n=0;return r._addAlgorithm(((r,i,o)=>{const s=r.key;for(;e(s,t[n])>0;)if(++n,n===t.length)return i(o),!1;return 0===e(s,t[n])||(i((()=>{r.continue(t[n])})),!1)})),r}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=P.apply(C,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return He(this,pe)}const e=t.reduce(((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const r=this._cmp,n=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===t.length)return De(this);if(!t.every((t=>void 0!==t[0]&&void 0!==t[1]&&n(t[0],t[1])<=0)))return He(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);const a=!e||!1!==e.includeLowers,u=e&&!0===e.includeUppers;let c,l=n;function h(t,e){return l(t[0],e[0])}try{c=t.reduce((function(t,e){let n=0,i=t.length;for(;n<i;++n){const i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=o(i[0],e[0]),i[1]=s(i[1],e[1]);break}}return n===i&&t.push(e),t}),[]),c.sort(h)}catch(t){return He(this,pe)}let d=0;const f=u?t=>n(t,c[d][1])>0:t=>n(t,c[d][1])>=0,p=a?t=>i(t,c[d][0])>0:t=>i(t,c[d][0])>=0;let y=f;const g=new this.Collection(this,(()=>Ke(c[0][0],c[c.length-1][1],!a,!u)));return g._ondirectionchange=t=>{"next"===t?(y=f,l=n):(y=p,l=i),c.sort(h)},g._addAlgorithm(((t,e,r)=>{for(var i=t.key;y(i);)if(++d,d===c.length)return e(r),!1;return!!function(t){return!f(t)&&!p(t)}(i)||(0===this._cmp(i,c[d][1])||0===this._cmp(i,c[d][0])||e((()=>{l===n?t.continue(c[d][0]):t.continue(c[d][1])})),!1)})),g}startsWithAnyOf(){const t=P.apply(C,arguments);return t.every((t=>"string"==typeof t))?0===t.length?De(this):this.inAnyRange(t.map((t=>[t,t+fe]))):He(this,"startsWithAnyOf() only works with strings")}}function Ze(t){return $t((function(e){return Ve(e),t(e.target.error),!1}))}function Ve(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Ge=Se(null,"storagemutated");class Xe{_lock(){return g(!At.global),++this._reculock,1!==this._reculock||At.global||(At.lockOwnerFor=this),this}_unlock(){if(g(!At.global),0==--this._reculock)for(At.global||(At.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{se(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&At.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,r=this.db._state.dbOpenError;if(g(!this.idbtrans),!t&&!e)switch(r&&r.name){case"DatabaseClosedError":throw new J.DatabaseClosed(r);case"MissingAPIError":throw new J.MissingAPI(r.message,r);default:throw new J.OpenFailed(r)}if(!this.active)throw new J.TransactionInactive;return g(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=$t((e=>{Ve(e),this._reject(t.error)})),t.onabort=$t((e=>{Ve(e),this.active&&this._reject(new J.Abort(t.error)),this.active=!1,this.on("abort").fire(e)})),t.oncomplete=$t((()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Ge.storagemutated.fire(t.mutatedParts)})),this}_promise(t,e,r){if("readwrite"===t&&"readwrite"!==this.mode)return he(new J.ReadOnly("Transaction is readonly"));if(!this.active)return he(new J.TransactionInactive);if(this._locked())return new Tt(((n,i)=>{this._blockedFuncs.push([()=>{this._promise(t,e,r).then(n,i)},At])}));if(r)return Yt((()=>{var t=new Tt(((t,r)=>{this._lock();const n=e(t,r,this);n&&n.then&&n.then(t,r)}));return t.finally((()=>this._unlock())),t._lib=!0,t}));var n=new Tt(((t,r)=>{var n=e(t,r,this);n&&n.then&&n.then(t,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const r=Tt.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((()=>r));else{e._waitingFor=r,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var i=e._waitingFor;return new Tt(((t,n)=>{r.then((r=>e._waitingQueue.push($t(t.bind(null,r)))),(t=>e._waitingQueue.push($t(n.bind(null,t))))).finally((()=>{e._waitingFor===i&&(e._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new J.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(s(e,t))return e[t];const r=this.schema[t];if(!r)throw new J.NotFound("Table "+t+" not part of transaction");const n=new this.db.Table(t,r,this);return n.core=this.db.core.table(t),e[t]=n,n}}function Je(t,e,r,n,i,o,s){return{name:t,keyPath:e,unique:r,multi:n,auto:i,compound:o,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+Ye(e)}}function Ye(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Qe(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:b(r,(t=>[t.name,t]))}}let tr=t=>{try{return t.only([[]]),tr=()=>[[]],[[]]}catch(t){return tr=()=>fe,fe}};function er(t){return null==t?()=>{}:"string"==typeof t?function(t){return 1===t.split(".").length?e=>e[t]:e=>w(e,t)}(t):e=>w(e,t)}function rr(t){return[].slice.call(t)}let nr=0;function ir(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function or(t,e,n){function i(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:i,upperOpen:o}=t;return void 0===r?void 0===n?null:e.upperBound(n,!!o):void 0===n?e.lowerBound(r,!!i):e.bound(r,n,!!i,!!o)}const{schema:o,hasGetAll:s}=function(t,e){const n=rr(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((t=>e.objectStore(t))).map((t=>{const{keyPath:e,autoIncrement:n}=t,i=r(e),o=null==e,s={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:i,keyPath:e,autoIncrement:n,unique:!0,extractKey:er(e)},indexes:rr(t.indexNames).map((e=>t.index(e))).map((t=>{const{name:e,unique:n,multiEntry:i,keyPath:o}=t,a={name:e,compound:r(o),keyPath:o,unique:n,multiEntry:i,extractKey:er(o)};return s[ir(o)]=a,a})),getIndexByKeyPath:t=>s[ir(t)]};return s[":id"]=a.primaryKey,null!=e&&(s[ir(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),a=o.tables.map((t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:r,keys:n,values:o,range:s}){return new Promise(((a,u)=>{a=$t(a);const c=t.objectStore(e),l=null==c.keyPath,h="put"===r||"add"===r;if(!h&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:d}=n||o||{length:1};if(n&&o&&n.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],y=[];let g=0;const m=t=>{++g,Ve(t)};if("deleteRange"===r){if(4===s.type)return a({numFailures:g,failures:y,results:[],lastResult:void 0});3===s.type?p.push(f=c.clear()):p.push(f=c.delete(i(s)))}else{const[t,e]=h?l?[o,n]:[o,null]:[n,null];if(h)for(let n=0;n<d;++n)p.push(f=e&&void 0!==e[n]?c[r](t[n],e[n]):c[r](t[n])),f.onerror=m;else for(let e=0;e<d;++e)p.push(f=c[r](t[e])),f.onerror=m}const b=t=>{const e=t.target.result;p.forEach(((t,e)=>null!=t.error&&(y[e]=t.error))),a({numFailures:g,failures:y,results:"delete"===r?n:p.map((t=>t.result)),lastResult:e})};f.onerror=t=>{m(t),b(t)},f.onsuccess=b}))},getMany:({trans:t,keys:r})=>new Promise(((n,i)=>{n=$t(n);const o=t.objectStore(e),s=r.length,a=new Array(s);let u,c=0,l=0;const h=t=>{const e=t.target;a[e._pos]=e.result,++l===c&&n(a)},d=Ze(i);for(let t=0;t<s;++t)null!=r[t]&&(u=o.get(r[t]),u._pos=t,u.onsuccess=h,u.onerror=d,++c);0===c&&n(a)})),get:({trans:t,key:r})=>new Promise(((n,i)=>{n=$t(n);const o=t.objectStore(e).get(r);o.onsuccess=t=>n(t.target.result),o.onerror=Ze(i)})),query:function(t){return r=>new Promise(((n,o)=>{n=$t(n);const{trans:s,values:a,limit:u,query:c}=r,l=u===1/0?void 0:u,{index:h,range:d}=c,f=s.objectStore(e),p=h.isPrimaryKey?f:f.index(h.name),y=i(d);if(0===u)return n({result:[]});if(t){const t=a?p.getAll(y,l):p.getAllKeys(y,l);t.onsuccess=t=>n({result:t.target.result}),t.onerror=Ze(o)}else{let t=0;const e=a||!("openKeyCursor"in p)?p.openCursor(y):p.openKeyCursor(y),r=[];e.onsuccess=i=>{const o=e.result;return o?(r.push(a?o.value:o.primaryKey),++t===u?n({result:r}):void o.continue()):n({result:r})},e.onerror=Ze(o)}}))}(s),openCursor:function({trans:t,values:r,query:n,reverse:o,unique:s}){return new Promise(((a,u)=>{a=$t(a);const{index:c,range:l}=n,h=t.objectStore(e),d=c.isPrimaryKey?h:h.index(c.name),f=o?s?"prevunique":"prev":s?"nextunique":"next",p=r||!("openKeyCursor"in d)?d.openCursor(i(l),f):d.openKeyCursor(i(l),f);p.onerror=Ze(u),p.onsuccess=$t((e=>{const r=p.result;if(!r)return void a(null);r.___id=++nr,r.done=!1;const n=r.continue.bind(r);let i=r.continuePrimaryKey;i&&(i=i.bind(r));const o=r.advance.bind(r),s=()=>{throw new Error("Cursor not stopped")};r.trans=t,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=$t(u),r.next=function(){let t=1;return this.start((()=>t--?this.continue():this.stop())).then((()=>this))},r.start=t=>{const e=new Promise(((t,e)=>{t=$t(t),p.onerror=Ze(e),r.fail=e,r.stop=e=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=s,t(e)}})),a=()=>{if(p.result)try{t()}catch(t){r.fail(t)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=$t((t=>{p.onsuccess=a,a()})),r.continue=n,r.continuePrimaryKey=i,r.advance=o,a(),e},a(r)}),u)}))},count({query:t,trans:r}){const{index:n,range:o}=t;return new Promise(((t,s)=>{const a=r.objectStore(e),u=n.isPrimaryKey?a:a.index(n.name),c=i(o),l=c?u.count(c):u.count();l.onsuccess=$t((e=>t(e.target.result))),l.onerror=Ze(s)}))}}}(t))),u={};return a.forEach((t=>u[t.name]=t)),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!u[t])throw new Error(`Table '${t}' not found`);return u[t]},MIN_KEY:-1/0,MAX_KEY:tr(e),schema:o}}function sr({_novip:t},e){const r=e.db,n=function(t,e,{IDBKeyRange:r,indexedDB:n},i){const o=function(t,e){return e.reduce(((t,{create:e})=>({...t,...e(t)})),t)}(or(e,r,i),t.dbcore);return{dbcore:o}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach((e=>{const r=e.name;t.core.schema.tables.some((t=>t.name===r))&&(e.core=t.core.table(r),t[r]instanceof t.Table&&(t[r].core=e.core))}))}function ar({_novip:t},e,r,n){r.forEach((r=>{const i=n[r];e.forEach((e=>{const n=d(e,r);(!n||"value"in n&&void 0===n.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?c(e,r,{get(){return this.table(r)},set(t){u(this,r,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[r]=new t.Table(r,i))}))}))}function ur({_novip:t},e){e.forEach((e=>{for(let r in e)e[r]instanceof t.Table&&delete e[r]}))}function cr(t,e){return t._cfg.version-e._cfg.version}function lr(t,r,n,i){const o=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,o);s.create(n),s._completion.catch(i);const a=s._reject.bind(s),u=At.transless||At;Yt((()=>{At.trans=s,At.transless=u,0===r?(e(o).forEach((t=>{dr(n,t,o[t].primKey,o[t].indexes)})),sr(t,n),Tt.follow((()=>t.on.populate.fire(s))).catch(a)):function({_novip:t},r,n,i){const o=[],s=t._versions;let a=t._dbSchema=pr(0,t.idbdb,i),u=!1;return s.filter((t=>t._cfg.version>=r)).forEach((s=>{o.push((()=>{const o=a,c=s._cfg.dbschema;yr(t,o,i),yr(t,c,i),a=t._dbSchema=c;const l=hr(o,c);l.add.forEach((t=>{dr(i,t[0],t[1].primKey,t[1].indexes)})),l.change.forEach((t=>{if(t.recreate)throw new J.Upgrade("Not yet support for changing primary key");{const e=i.objectStore(t.name);t.add.forEach((t=>fr(e,t))),t.change.forEach((t=>{e.deleteIndex(t.name),fr(e,t)})),t.del.forEach((t=>e.deleteIndex(t)))}}));const h=s._cfg.contentUpgrade;if(h&&s._cfg.version>r){sr(t,i),n._memoizedTables={},u=!0;let r=_(c);l.del.forEach((t=>{r[t]=o[t]})),ur(t,[t.Transaction.prototype]),ar(t,[t.Transaction.prototype],e(r),r),n.schema=r;const s=j(h);let a;s&&Qt();const d=Tt.follow((()=>{if(a=h(n),a&&s){var t=te.bind(null,null);a.then(t,t)}}));return a&&"function"==typeof a.then?Tt.resolve(a):d.then((()=>a))}})),o.push((e=>{u&&me||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((r=>null==t[r]&&e.db.deleteObjectStore(r)))}(s._cfg.dbschema,e),ur(t,[t.Transaction.prototype]),ar(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema}))})),function t(){return o.length?Tt.resolve(o.shift()(n.idbtrans)).then(t):Tt.resolve()}().then((()=>{var t,r;r=i,e(t=a).forEach((e=>{r.db.objectStoreNames.contains(e)||dr(r,e,t[e].primKey,t[e].indexes)}))}))}(t,r,s,n).catch(a)}))}function hr(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const i=t[n],o=e[n];if(i){const t={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!ge)t.recreate=!0,r.change.push(t);else{const e=i.idxByName,n=o.idxByName;let s;for(s in e)n[s]||t.del.push(s);for(s in n){const r=e[s],i=n[s];r?r.src!==i.src&&t.change.push(i):t.add.push(i)}(t.del.length>0||t.add.length>0||t.change.length>0)&&r.change.push(t)}}else r.add.push([n,o])}return r}function dr(t,e,r,n){const i=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((t=>fr(i,t))),i}function fr(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function pr(t,e,r){const n={};return p(e.objectStoreNames,0).forEach((t=>{const e=r.objectStore(t);let i=e.keyPath;const o=Je(Ye(i),i||"",!1,!1,!!e.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let t=0;t<e.indexNames.length;++t){const r=e.index(e.indexNames[t]);i=r.keyPath;var a=Je(r.name,i,!!r.unique,!!r.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}n[t]=Qe(t,o,s)})),n}function yr({_novip:e},r,n){const i=n.db.objectStoreNames;for(let t=0;t<i.length;++t){const o=i[t],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let t=0;t<s.indexNames.length;++t){const e=s.indexNames[t],n=s.index(e).keyPath,i="string"==typeof n?n:"["+p(n).join("+")+"]";if(r[o]){const t=r[o].idxByName[i];t&&(t.name=e,delete r[o].idxByName[i],r[o].idxByName[e]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&t.WorkerGlobalScope&&t instanceof t.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class gr{_parseStoresSpec(t,n){e(t).forEach((e=>{if(null!==t[e]){var i=t[e].split(",").map(((t,e)=>{const n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Je(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),r(i),0===e)})),o=i.shift();if(o.multi)throw new J.Schema("Primary key cannot be multi-valued");i.forEach((t=>{if(t.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string")})),n[e]=Qe(e,o,i)}}))}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?n(this._cfg.storesSource,t):t;const i=r._versions,o={};let s={};return i.forEach((t=>{n(o,t._cfg.storesSource),s=t._cfg.dbschema={},t._parseStoresSpec(o,s)})),r._dbSchema=s,ur(r,[r._allTables,r,r.Transaction.prototype]),ar(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],e(s),s),r._storeNames=e(s),this}upgrade(t){return this._cfg.contentUpgrade=ut(this._cfg.contentUpgrade||tt,t),this}}function mr(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new Ur("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function br(t){return t&&"function"==typeof t.databases}function wr(t){return Yt((function(){return At.letThrough=!0,t()}))}function vr(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function _r(t){var e=e=>t.next(e),n=o(e),i=o((e=>t.throw(e)));function o(t){return e=>{var o=t(e),s=o.value;return o.done?s:s&&"function"==typeof s.then?s.then(n,i):r(s)?Promise.all(s).then(n,i):n(s)}}return o(e)()}function kr(t,e,r){var n=arguments.length;if(n<2)throw new J.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];return r=i.pop(),[t,x(i),r]}function xr(t,e,r,n,i){return Tt.resolve().then((()=>{const o=At.transless||At,s=t._createTransaction(e,r,t._dbSchema,n),a={trans:s,transless:o};if(n)s.idbtrans=n.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(n){return n.name===G.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>xr(t,e,r,null,i)))):he(n)}const u=j(i);let c;u&&Qt();const l=Tt.follow((()=>{if(c=i.call(s,s),c)if(u){var t=te.bind(null,null);c.then(t,t)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=_r(c))}),a);return(c&&"function"==typeof c.then?Tt.resolve(c).then((t=>s.active?t:he(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((t=>(n&&s._resolve(),s._completion.then((()=>t))))).catch((t=>(s._reject(t),he(t))))}))}function Sr(t,e,n){const i=r(t)?t.slice():[t];for(let t=0;t<n;++t)i.push(e);return i}const Er={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,i={},o=[];function s(t,e,r){const n=ir(t),a=i[n]=i[n]||[],u=null==t?0:"string"==typeof t?1:t.length,c=e>0,l={...r,isVirtual:c,keyTail:e,keyLength:u,extractKey:er(t),unique:!c&&r.unique};return a.push(l),l.isPrimaryKey||o.push(l),u>1&&s(2===u?t[0]:t.slice(0,u-1),e+1,r),a.sort(((t,e)=>t.keyTail-e.keyTail)),l}const a=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[a];for(const t of n.indexes)s(t.keyPath,0,t);function u(e){const r=e.query.index;return r.isVirtual?{...e,query:{index:r,range:(n=e.query.range,i=r.keyTail,{type:1===n.type?2:n.type,lower:Sr(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,i),lowerOpen:!0,upper:Sr(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,i),upperOpen:!0})}}:e;var n,i}const c={...r,schema:{...n,primaryKey:a,indexes:o,getIndexByKeyPath:function(t){const e=i[ir(t)];return e&&e[0]}},count:t=>r.count(u(t)),query:t=>r.query(u(t)),openCursor(e){const{keyTail:n,isVirtual:i,keyLength:o}=e.query.index;return i?r.openCursor(u(e)).then((r=>r&&function(r){const i=Object.create(r,{continue:{value:function(i){null!=i?r.continue(Sr(i,e.reverse?t.MAX_KEY:t.MIN_KEY,n)):e.unique?r.continue(r.key.slice(0,o).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(e,i){r.continuePrimaryKey(Sr(e,t.MAX_KEY,n),i)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const t=r.key;return 1===o?t[0]:t.slice(0,o)}},value:{get:()=>r.value}});return i}(r))):r.openCursor(e)}};return c}}}};function Ar(t,r,n,i){return n=n||{},i=i||"",e(t).forEach((e=>{if(s(r,e)){var o=t[e],a=r[e];if("object"==typeof o&&"object"==typeof a&&o&&a){const t=T(o);t!==T(a)?n[i+e]=r[e]:"Object"===t?Ar(o,a,n,i+e+"."):o!==a&&(n[i+e]=r[e])}else o!==a&&(n[i+e]=r[e])}else n[i+e]=void 0})),e(r).forEach((e=>{s(t,e)||(n[i+e]=r[e])})),n}const Br={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema,i={...r,mutate(t){const i=At.trans,{deleting:o,creating:a,updating:u}=i.table(e).hook;switch(t.type){case"add":if(a.fire===tt)break;return i._promise("readwrite",(()=>c(t)),!0);case"put":if(a.fire===tt&&u.fire===tt)break;return i._promise("readwrite",(()=>c(t)),!0);case"delete":if(o.fire===tt)break;return i._promise("readwrite",(()=>c(t)),!0);case"deleteRange":if(o.fire===tt)break;return i._promise("readwrite",(()=>function(t){return l(t.trans,t.range,1e4)}(t)),!0)}return r.mutate(t);function c(t){const e=At.trans,i=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(n,t);if(!i)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:i}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,r){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:r,cache:"immutable"})}(r,t,i).then((c=>{const l=i.map(((r,i)=>{const l=c[i],h={onerror:null,onsuccess:null};if("delete"===t.type)o.fire.call(h,r,l,e);else if("add"===t.type||void 0===l){const o=a.fire.call(h,r,t.values[i],e);null==r&&null!=o&&(r=o,t.keys[i]=r,n.outbound||v(t.values[i],n.keyPath,r))}else{const n=Ar(l,t.values[i]),o=u.fire.call(h,n,r,l,e);if(o){const e=t.values[i];Object.keys(o).forEach((t=>{s(e,t)?e[t]=o[t]:v(e,t,o[t])}))}}return h}));return r.mutate(t).then((({failures:e,results:r,numFailures:n,lastResult:o})=>{for(let n=0;n<i.length;++n){const o=r?r[n]:i[n],s=l[n];null==o?s.onerror&&s.onerror(e[n]):s.onsuccess&&s.onsuccess("put"===t.type&&c[n]?t.values[n]:o)}return{failures:e,results:r,numFailures:n,lastResult:o}})).catch((t=>(l.forEach((e=>e.onerror&&e.onerror(t))),Promise.reject(t))))}))}function l(t,e,i){return r.query({trans:t,values:!1,query:{index:n,range:e},limit:i}).then((({result:r})=>c({type:"delete",keys:r,trans:t}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(t,{...e,lower:r[r.length-1],lowerOpen:!0},i)))))}}};return i}})};function Ir(t,e,r){try{if(!e)return null;if(e.keys.length<t.length)return null;const n=[];for(let i=0,o=0;i<e.keys.length&&o<t.length;++i)0===Ce(e.keys[i],t[o])&&(n.push(r?B(e.values[i]):e.values[i]),++o);return n.length===t.length?n:null}catch(t){return null}}const Rr={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:t=>{if(!t.cache)return r.getMany(t);const e=Ir(t.keys,t.trans._cache,"clone"===t.cache);return e?Tt.resolve(e):r.getMany(t).then((e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?B(e):e},e)))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),r.mutate(t))}}})};function Tr(t){return!("from"in t)}const Mr=function(t,e){if(!this){const e=new Mr;return t&&"d"in t&&n(e,t),e}n(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Or(t,e,r){const i=Ce(e,r);if(isNaN(i))return;if(i>0)throw RangeError();if(Tr(t))return n(t,{from:e,to:r,d:1});const o=t.l,s=t.r;if(Ce(r,t.from)<0)return o?Or(o,e,r):t.l={from:e,to:r,d:1,l:null,r:null},jr(t);if(Ce(e,t.to)>0)return s?Or(s,e,r):t.r={from:e,to:r,d:1,l:null,r:null},jr(t);Ce(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),Ce(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;o&&!t.l&&Cr(t,o),s&&a&&Cr(t,s)}function Cr(t,e){Tr(e)||function t(e,{from:r,to:n,l:i,r:o}){Or(e,r,n),i&&t(e,i),o&&t(e,o)}(t,e)}function Pr(t){let e=Tr(t)?null:{s:0,n:t};return{next(t){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Ce(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Ce(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function jr(t){var e,r;const n=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(r=t.l)||void 0===r?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const e="r"===i?"l":"r",r={...t},n=t[i];t.from=n.from,t.to=n.to,t[i]=n[i],r[i]=n[e],t[e]=r,r.d=Lr(r)}t.d=Lr(t)}function Lr({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}a(Mr.prototype,{add(t){return Cr(this,t),this},addKey(t){return Or(this,t,t),this},addKeys(t){return t.forEach((t=>Or(this,t,t))),this},[M](){return Pr(this)}});const zr={stack:"dbcore",level:0,create:t=>{const n=t.schema.name,i=new Mr(t.MIN_KEY,t.MAX_KEY);return{...t,table:o=>{const s=t.table(o),{schema:a}=s,{primaryKey:u}=a,{extractKey:c,outbound:l}=u,h={...s,mutate:t=>{const e=t.trans,u=e.mutatedParts||(e.mutatedParts={}),c=t=>{const e=`idb://${n}/${o}/${t}`;return u[e]||(u[e]=new Mr)},l=c(""),h=c(":dels"),{type:d}=t;let[f,p]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const y=t.trans._cache;return s.mutate(t).then((t=>{if(r(f)){"delete"!==d&&(f=t.results),l.addKeys(f);const e=Ir(f,y);e||"add"===d||h.addKeys(f),(e||p)&&function(t,e,n,i){e.indexes.forEach((function(e){const o=t(e.name||"");function s(t){return null!=t?e.extractKey(t):null}const a=t=>e.multiEntry&&r(t)?t.forEach((t=>o.addKey(t))):o.addKey(t);(n||i).forEach(((t,e)=>{const r=n&&s(n[e]),o=i&&s(i[e]);0!==Ce(r,o)&&(null!=r&&a(r),null!=o&&a(o))}))}))}(c,a,e,p)}else if(f){const t={from:f.lower,to:f.upper};h.add(t),l.add(t)}else l.add(i),h.add(i),a.indexes.forEach((t=>c(t.name).add(i)));return t}))}},d=({query:{index:e,range:r}})=>{var n,i;return[e,new Mr(null!==(n=r.lower)&&void 0!==n?n:t.MIN_KEY,null!==(i=r.upper)&&void 0!==i?i:t.MAX_KEY)]},f={get:t=>[u,new Mr(t.key)],getMany:t=>[u,(new Mr).addKeys(t.keys)],count:d,query:d,openCursor:d};return e(f).forEach((t=>{h[t]=function(e){const{subscr:r}=At;if(r){const a=t=>{const e=`idb://${n}/${o}/${t}`;return r[e]||(r[e]=new Mr)},u=a(""),h=a(":dels"),[d,p]=f[t](e);if(a(d.name||"").add(p),!d.isPrimaryKey){if("count"!==t){const r="query"===t&&l&&e.values&&s.query({...e,values:!1});return s[t].apply(this,arguments).then((n=>{if("query"===t){if(l&&e.values)return r.then((({result:t})=>(u.addKeys(t),n)));const t=e.values?n.result.map(c):n.result;e.values?u.addKeys(t):h.addKeys(t)}else if("openCursor"===t){const t=n,r=e.values;return t&&Object.create(t,{key:{get:()=>(h.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return h.addKey(e),e}},value:{get:()=>(r&&u.addKey(t.primaryKey),t.value)}})}return n}))}h.add(i)}}return s[t].apply(this,arguments)}})),h}}}};class Ur{constructor(t,e){this._middlewares={},this.verno=0;const r=Ur.dependencies;this._options=e={addons:Ur.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:n}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tt,dbReadyPromise:null,cancelOpen:tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new Tt((t=>{i.dbReadyResolve=t})),i.openCanceller=new Tt(((t,e)=>{i.cancelOpen=e})),this._state=i,this.name=t,this.on=Se(this,"populate","blocked","versionchange","close",{ready:[ut,tt]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(t=>(e,r)=>{Ur.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||Tt.resolve().then(e),r&&t(e);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(e),r&&t(e);else{t(e);const n=this;r||t((function t(){n.on.ready.unsubscribe(e),n.on.ready.unsubscribe(t)}))}}))})),this.Collection=(o=this,Ee(Le.prototype,(function(t,e){this.db=o;let r=_e,n=null;if(e)try{r=e()}catch(t){n=t}const i=t._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:a!==et?a:null}}))),this.Table=function(t){return Ee(xe.prototype,(function(e,r,n){this.db=t,this._tx=n,this.name=e,this.schema=r,this.hook=t._allTables[e]?t._allTables[e].hook:Se(null,{creating:[it,tt],reading:[rt,et],updating:[st,tt],deleting:[ot,tt]})}))}(this),this.Transaction=function(t){return Ee(Xe.prototype,(function(e,r,n,i,o){this.db=t,this.mode=e,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Se(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Tt(((t,e)=>{this._resolve=t,this._reject=e})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),he(t)}))}))}(this),this.Version=function(t){return Ee(gr.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Ee(We.prototype,(function(e,r,n){this.db=t,this._ctx={table:e,index:":id"===r?null:r,or:n};const i=t._deps.indexedDB;if(!i)throw new J.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(t,e)=>i.cmp(e,t),this._max=(t,e)=>i.cmp(t,e)>0?t:e,this._min=(t,e)=>i.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)})),this._maxKey=tr(e.IDBKeyRange),this._createTransaction=(t,e,r,n)=>new this.Transaction(t,e,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=t=>{this.on("blocked").fire(t),ye.filter((t=>t.name===this.name&&t!==this&&!t._state.vcFired)).map((e=>e.on("versionchange").fire(t)))},this.use(Er),this.use(Br),this.use(zr),this.use(Rr),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((t=>t(this)))}version(t){if(isNaN(t)||t<.1)throw new J.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var r=e.filter((e=>e._cfg.version===t))[0];return r||(r=new this.Version(t),e.push(r),e.sort(cr),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||At.letThrough||this._vip)?t():new Tt(((t,e)=>{if(this._state.openComplete)return e(new J.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new J.DatabaseClosed);this.open().catch(tt)}this._state.dbReadyPromise.then(t,e)})).then(t)}use({stack:t,create:e,level:r,name:n}){n&&this.unuse({stack:t,name:n});const i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:e,level:null==r?10:r,name:n}),i.sort(((t,e)=>t.level-e.level)),this}unuse({stack:t,name:e,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((t=>r?t.create!==r:!!e&&t.name!==e))),this}open(){return function(t){const r=t._state,{indexedDB:n}=t._deps;if(r.isBeingOpened||t.idbdb)return r.dbReadyPromise.then((()=>r.dbOpenError?he(r.dbOpenError):t));L&&(r.openCanceller._stackHolder=H()),r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;const i=r.openCanceller;function o(){if(r.openCanceller!==i)throw new J.DatabaseClosed("db.open() was cancelled")}let s=r.dbReadyResolve,a=null,u=!1;return Tt.race([i,("undefined"==typeof navigator?Tt.resolve():vr()).then((()=>new Tt(((i,s)=>{if(o(),!n)throw new J.MissingAPI;const c=t.name,l=r.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!l)throw new J.MissingAPI;l.onerror=Ze(s),l.onblocked=$t(t._fireOnBlocked),l.onupgradeneeded=$t((e=>{if(a=l.transaction,r.autoSchema&&!t._options.allowEmptyDB){l.onerror=Ve,a.abort(),l.result.close();const t=n.deleteDatabase(c);t.onsuccess=t.onerror=$t((()=>{s(new J.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=Ze(s);var i=e.oldVersion>Math.pow(2,62)?0:e.oldVersion;u=i<1,t._novip.idbdb=l.result,lr(t,i/10,a,s)}}),s),l.onsuccess=$t((()=>{a=null;const n=t._novip.idbdb=l.result,o=p(n.objectStoreNames);if(o.length>0)try{const i=n.transaction(1===(s=o).length?s[0]:s,"readonly");r.autoSchema?function({_novip:t},r,n){t.verno=r.version/10;const i=t._dbSchema=pr(0,r,n);t._storeNames=p(r.objectStoreNames,0),ar(t,[t._allTables],e(i),i)}(t,n,i):(yr(t,t._dbSchema,i),function(t,e){const r=hr(pr(0,t.idbdb,e),t._dbSchema);return!(r.add.length||r.change.some((t=>t.add.length||t.change.length)))}(t,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),sr(t,i)}catch(t){}var s;ye.push(t),n.onversionchange=$t((e=>{r.vcFired=!0,t.on("versionchange").fire(e)})),n.onclose=$t((e=>{t.on("close").fire(e)})),u&&function({indexedDB:t,IDBKeyRange:e},r){!br(t)&&"__dbnames"!==r&&mr(t,e).put({name:r}).catch(tt)}(t._deps,c),i()}),s)}))))]).then((()=>(o(),r.onReadyBeingFired=[],Tt.resolve(wr((()=>t.on.ready.fire(t.vip)))).then((function e(){if(r.onReadyBeingFired.length>0){let n=r.onReadyBeingFired.reduce(ut,tt);return r.onReadyBeingFired=[],Tt.resolve(wr((()=>n(t.vip)))).then(e)}}))))).finally((()=>{r.onReadyBeingFired=null,r.isBeingOpened=!1})).then((()=>t)).catch((e=>{r.dbOpenError=e;try{a&&a.abort()}catch(t){}return i===r.openCanceller&&t._close(),he(e)})).finally((()=>{r.openComplete=!0,s()}))}(this)}_close(){const t=this._state,e=ye.indexOf(this);if(e>=0&&ye.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new Tt((e=>{t.dbReadyResolve=e})),t.openCanceller=new Tt(((e,r)=>{t.cancelOpen=r}))}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new J.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new Tt(((r,n)=>{const i=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=$t((()=>{!function({indexedDB:t,IDBKeyRange:e},r){!br(t)&&"__dbnames"!==r&&mr(t,e).delete(r).catch(tt)}(this._deps,this.name),r()})),t.onerror=Ze(n),t.onblocked=this._fireOnBlocked};if(t)throw new J.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return e(this._allTables).map((t=>this._allTables[t]))}transaction(){const t=kr.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,r){let n=At.trans;n&&n.db===this&&-1===t.indexOf("!")||(n=null);const i=-1!==t.indexOf("?");let o,s;t=t.replace("!","").replace("?","");try{if(s=e.map((t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||"readonly"===t)o="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new J.InvalidArgument("Invalid transaction mode: "+t);o="readwrite"}if(n){if("readonly"===n.mode&&"readwrite"===o){if(!i)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&s.forEach((t=>{if(n&&-1===n.storeNames.indexOf(t)){if(!i)throw new J.SubTransaction("Table "+t+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(t){return n?n._promise(null,((e,r)=>{r(t)})):he(t)}const a=xr.bind(null,this,o,s,n,r);return n?n._promise(o,a,"lock"):At.trans?se(At.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(t){if(!s(this._allTables,t))throw new J.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Nr="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Hr{constructor(t){this._subscribe=t}subscribe(t,e,r){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:r})}[Nr](){return this}}function Dr(t,r){return e(r).forEach((e=>{Cr(t[e]||(t[e]=new Mr),r[e])})),t}let Fr;try{Fr={indexedDB:t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB,IDBKeyRange:t.IDBKeyRange||t.webkitIDBKeyRange}}catch(t){Fr={indexedDB:null,IDBKeyRange:null}}const qr=Ur;function Kr(t){let e=$r;try{$r=!0,Ge.storagemutated.fire(t)}finally{$r=e}}a(qr,{...Q,delete:t=>new qr(t,{addons:[]}).delete(),exists:t=>new qr(t,{addons:[]}).open().then((t=>(t.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return br(t)?Promise.resolve(t.databases()).then((t=>t.map((t=>t.name)).filter((t=>"__dbnames"!==t)))):mr(t,e).toCollection().primaryKeys()}(qr.dependencies).then(t)}catch(t){return he(new J.MissingAPI)}},defineClass:()=>function(t){n(this,t)},ignoreTransaction:t=>At.trans?se(At.transless,t):t(),vip:wr,async:function(t){return function(){try{var e=_r(t.apply(this,arguments));return e&&"function"==typeof e.then?e:Tt.resolve(e)}catch(t){return he(t)}}},spawn:function(t,e,r){try{var n=_r(t.apply(r,e||[]));return n&&"function"==typeof n.then?n:Tt.resolve(n)}catch(t){return he(t)}},currentTransaction:{get:()=>At.trans||null},waitFor:function(t,e){const r=Tt.resolve("function"==typeof t?qr.ignoreTransaction(t):t).timeout(e||6e4);return At.trans?At.trans.waitFor(r):r},Promise:Tt,debug:{get:()=>L,set:t=>{z(t,"dexie"===t?()=>!0:we)}},derive:l,extend:n,props:a,override:y,Events:Se,on:Ge,liveQuery:function(t){return new Hr((r=>{const n=j(t);let i=!1,o={},s={};const a={get closed(){return i},unsubscribe:()=>{i=!0,Ge.storagemutated.unsubscribe(h)}};r.start&&r.start(a);let u=!1,c=!1;function l(){return e(s).some((t=>o[t]&&function(t,e){const r=Pr(e);let n=r.next();if(n.done)return!1;let i=n.value;const o=Pr(t);let s=o.next(i.from),a=s.value;for(;!n.done&&!s.done;){if(Ce(a.from,i.to)<=0&&Ce(a.to,i.from)>=0)return!0;Ce(i.from,a.from)<0?i=(n=r.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}(o[t],s[t])))}const h=t=>{Dr(o,t),l()&&d()},d=()=>{if(u||i)return;o={};const e={},f=function(e){n&&Qt();const r=()=>Yt(t,{subscr:e,trans:null}),i=At.trans?se(At.transless,r):r();return n&&i.then(te,te),i}(e);c||(Ge("storagemutated",h),c=!0),u=!0,Promise.resolve(f).then((t=>{u=!1,i||(l()?d():(o={},s=e,r.next&&r.next(t)))}),(t=>{u=!1,r.error&&r.error(t),a.unsubscribe()}))};return d(),a}))},extendObservabilitySet:Dr,getByKeyPath:w,setByKeyPath:v,delByKeyPath:function(t,e){"string"==typeof e?v(t,e,void 0):"length"in e&&[].map.call(e,(function(e){v(t,e,void 0)}))},shallowClone:_,deepClone:B,getObjectDiff:Ar,cmp:Ce,asap:m,minKey:-1/0,addons:[],connections:ye,errnames:G,dependencies:Fr,semVer:"3.2.3",version:"3.2.3".split(".").map((t=>parseInt(t))).reduce(((t,e,r)=>t+e/Math.pow(10,2*r)))}),qr.maxKey=tr(qr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Ge("storagemutated",(t=>{if(!$r){let e;ge?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),$r=!0,dispatchEvent(e),$r=!1}})),addEventListener("x-storagemutated-1",(({detail:t})=>{$r||Kr(t)})));let $r=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel("x-storagemutated-1");"function"==typeof t.unref&&t.unref(),Ge("storagemutated",(e=>{$r||t.postMessage(e)})),t.onmessage=t=>{t.data&&Kr(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Ge("storagemutated",(t=>{try{$r||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((e=>e.postMessage({type:"x-storagemutated-1",changedParts:t}))))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(t=>{if("x-storagemutated-1"===t.key){const e=JSON.parse(t.newValue);e&&Kr(e.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:t}){t&&"x-storagemutated-1"===t.type&&Kr(t.changedParts)}))}Tt.rejectionMapper=function(t,e){if(!t||t instanceof $||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Y[t.name])return t;var r=new Y[t.name](e||t.message,t);return"stack"in t&&c(r,"stack",{get:function(){return this.inner.stack}}),r},z(L,we);var Wr=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};class Zr{beforeUpdate(t,e){return Wr(this,void 0,void 0,(function*(){return!0}))}beforeRemove(t){return Wr(this,void 0,void 0,(function*(){return!0}))}constructor(t){Object.defineProperty(this,"table",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.table=t}refresh(t){return Wr(this,void 0,void 0,(function*(){return this.getById(t.id)}))}getById(t){return Wr(this,void 0,void 0,(function*(){return this.table.get({id:t})}))}update(t,e){return Wr(this,void 0,void 0,(function*(){const r=yield this.getById(t);return(yield this.beforeUpdate(r,e))?this.table.update(t,e):Promise.reject(!1)}))}remove(t){return Wr(this,void 0,void 0,(function*(){const e=yield this.getById(t);return(yield this.beforeRemove(e))?this.table.delete(t):Promise.reject(!1)}))}getTable(){return this.table}}const Vr=new Ur("accounts");Vr.version(1).stores({address:"++id, &address, type_assigned, label",data:"++id, address_id, created_at",watched_address:"++id, &address_id, paused",datatype:"++id, label, program_id, discriminator",datatypefield:"++id, datatype_id, order_position ",program:"++id, &address_id, is_anchor, fetched",config:"&key"});const Gr=new Zr(Vr.table("address")),Xr=new Zr(Vr.table("data")),Jr=new Zr(Vr.table("watched_address")),Yr=new Zr(Vr.table("datatype")),Qr=new Zr(Vr.table("program"));var tn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const en="rpc_config",rn=Vr.table("config");function nn(t,e){return tn(this,void 0,void 0,(function*(){return rn.db.transaction("rw",rn,(()=>tn(this,void 0,void 0,(function*(){const r=yield rn.get({key:t});return null==r?(yield rn.add({key:t,value:e}),e):r.value}))))}))}var on=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const sn=new class extends Zr{beforeUpdate(t,e){return on(this,void 0,void 0,(function*(){const r=t;if(r.field_type!=e.field_type){const t=yield Yr.getById(r.datatype_id);if(null==t.id)return!1;t.info.size_bytes-=(yield un(r)),t.info.size_bytes+=(yield un(e)),yield Yr.update(t.id,t)}return!0}))}beforeRemove(t){return on(this,void 0,void 0,(function*(){const e=t,r=yield Yr.getById(e.datatype_id);return r.info.fields_count-=1,r.info.size_bytes-=(yield un(e)),yield Yr.update(r.id,r),!0}))}}(Vr.table("datatypefield")),an=sn.getTable();function un(t){return on(this,void 0,void 0,(function*(){if(t.is_complex_type)throw new Error("complex field types not implemented. can't calc size of field");{let e=t.optional?4:0,r=t.is_array?t.array_size:1,n=0;switch(t.field_type){case"u8":case"i8":case"bool":n=1;break;case"u16":case"i16":n=2;break;case"u32":case"i32":n=4;break;case"u64":case"i64":n=8;break;case"u128":case"i128":n=16;break;case"publicKey":n=32;break;default:throw new Error(`unsupported field type: ${t.field_type}`)}return t.is_dynamic_size?e+=4:e+=r*n,Promise.resolve(e)}}))}function cn(t){return on(this,void 0,void 0,(function*(){return an.where("datatype_id").equals(t).sortBy("order_position")}))}Yr.getTable();var ln=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function hn(t){return ln(this,void 0,void 0,(function*(){return{typ:t,fields:yield cn(t.id)}}))}function dn(t,e){return ln(this,void 0,void 0,(function*(){const r=Yr.getTable(),n={label:e.name,protect_updates:!0,program_id:t,info:e.info,is_anchor:!e.struct,discriminator:e.discriminator},i=yield r.add(n);let o=0;for(var s of e.fields)s.datatype_id=i,yield sn.getTable().add(s),n.info.fields_count+=1,n.info.size_bytes+=(yield un(s)),r.update(i,n),o+=1;return Promise.resolve(i)}))}function fn(t,e,r,n,i){return ln(this,void 0,void 0,(function*(){let o={fetched:e,morethanone:!1};if(t.type_assigned&&!n){const u=yield Yr.getById(t.type_assigned);if(null!=u){const c=yield hn(u);return console.log(" --- using cached type for address"),o.typ=c,o}console.warn(`this shouldn't happen, assigned type is null for ${t.address}, using fallback`)}const s=t.id;if(r){const l=yield function(t){return ln(this,void 0,void 0,(function*(){const e=Yr.getTable();return yield e.where("discriminator").equals(t).filter((t=>t.is_anchor)).toArray()}))}(r);if(l.length>0){l.length>1&&console.log("--- more than 1 datatype are found by discriminator, codec could be wrong, perform filtering by program owner first");const h=yield hn(l[0]);return o.typ=h,o}}const a=yield Jr.getById(s);if(null!=a){console.log("there is watched address there, type should be just fine to find");const d=yield Yr.getById(a.data_type_id),f=yield hn(d);return o.typ=f,o}if(console.log(" --- no watched address were found : ("),null!=(t=yield Gr.refresh(t))&&null!=t.program_owner){console.log(" ---- address found:",t);const p=yield Qr.getTable().where("address_id").equals(t.program_owner).first(),y=yield Gr.getById(t.program_owner);let g=!1;function m(e){return ln(this,void 0,void 0,(function*(){const n=yield function(t,e="",r){return ln(this,void 0,void 0,(function*(){const n=Yr.getTable();if(console.log("fetching datatypes for program with query :",e,t),""===e){const e=yield n.where("program_id").equals(t).limit(r).toArray();return console.log(" -- filtered out ",e.length," items"),e}return yield n.where("program_id").equals(t).filter((t=>-1!=t.label.toLowerCase().indexOf(e.toLowerCase()))).limit(r).toArray()}))}(y.address,"",500);if(0==n.length)console.warn(`no types for program ${y.address} found`);else{const i=n.filter((n=>e?function(t,e){if(t.byteLength!=e.byteLength)return!1;for(var r=0;r!=e.byteLength;r++)if(t[r]!=e[r])return!1;return!0}(n.discriminator,null!=r?r:new Uint8Array):n.info.size_bytes==t.datalen));console.log("found some types for addr: "+t.address,n.length,"filtered = ",i.length),i.length>=1?(o.morethanone=i.length>1,o.typ=yield hn(i[0]),g=!0):0==i.length&&(o.hasbyprogram=!0)}}))}if(yield m(!1),!g&&e&&!p)try{if(!i)throw new Error("no connection were provided  but idl is required to fetch for address: "+t.address);{const b=yield function(t,e){return Am(this,void 0,void 0,(function*(){const r=yield function(t){return Am(this,void 0,void 0,(function*(){const e=yield Vg(t),r=yield function(t){return Am(this,void 0,void 0,(function*(){const e=yield Bm.get({address_id:t});if(null==e){let e={address_id:t,is_anchor:!1,fetched:!1,imported:!1,idl_parsed:!1};const r=yield Bm.add(e);return e.id=r,Promise.resolve(e)}return Promise.resolve(e)}))}(e);return r}))}(e);if(console.log(`fetching ${e} program idl ... `,r),!r.fetched){const i=yield function(t){return cf(this,void 0,void 0,(function*(){let e=ia.findProgramAddressSync([],t)[0];return yield ia.createWithSeed(e,"anchor:idl",t)}))}(new ia(e));r.fetched=!0,yield Bm.update(r.id,r);const o=yield Vg(i.toBase58()),s=yield Gr.getById(o),a=yield function(t,e){var r;return Sm(this,void 0,void 0,(function*(){null!=e&&null!=e||console.error("looks like address is empty when getSignleRawAccountInfo");const n=yield function(t,e){return df(this,void 0,void 0,(function*(){return yield e.getAccountInfoAndContext(new ia(t),{commitment:"finalized"})}))}(e.address,t);if(null!=n.value){const t=Em(n.value,n.context.slot,!0);let i=e.program_owner;return null!=e.program_owner&&0!=e.program_owner||(i=yield Vg(null===(r=n.value)||void 0===r?void 0:r.owner.toBase58())),yield Xg(t,e.id,Math.floor((new Date).getTime()/1e3),i),t}return Promise.reject(`no account info found for ${e}`)}))}(t,s);r.is_anchor=!0,yield Bm.update(r.id,r);const u=function(t){try{let e=0,r=pn.Buffer.from(t.slice(e));const n=new Gi.BinaryReader(r),i=n.readU64(),o=new ia(n.readFixedArray(32));console.log(`authority and discriminator : ${i.toString()} : ${o.toBase58()}`);const s=n.readU32();if(s>1e5)throw new Error("error decoding idl account. size should be less than 100k at least");try{const t=n.readFixedArray(s),e=uf(t);return JSON.parse((new TextDecoder).decode(e))}catch(t){throw new Error("unable to parse idl",{cause:t})}}catch(t){throw new Error("unable to get idl data out of idl account",{cause:t})}}(a.data),c=yield function(t,e){return cf(this,void 0,void 0,(function*(){let e=[],r=new Map;for(var n of t.types)try{const t=yield lf(!0,n,r);t.name=n.name,r.set(n.name,t)}catch(t){e.push({name:n.name,cause:t}),console.error(`unable to parse type: ${n.name}: `,t)}for(var n of t.accounts)try{const t=yield lf(!1,n,r);t.name=n.name,t.discriminator=new Uint8Array(hf(n.name)),r.set(n.name,t)}catch(t){e.push({name:n.name,cause:t}),console.error(`unable to parse type: ${n.name}: `,t)}return{types:r,failed:e}}))}(u);console.log(`found ${c.types.size} types in idl`),r.idl_parsed=!0,yield Bm.update(r.id,r);let l=0;for(var n of c.types)try{yield dn(e,n[1]),l+=1}catch(t){console.log(`unable to import type ${n[0]}: ${t.message}`,t)}console.log(` idl fetch finished with ${l} types imported`),r.imported=!0,yield Bm.update(r.id,r)}return Promise.resolve(r)}))}(i,y.address);b.is_anchor&&(yield m(!0))}}catch(w){console.log("unable to fetch idl "+w.message,w)}}else if(null==t.program_owner)throw console.log("not enough info on account to get type",t),new Error("no address.program_owner was set prior using getTypeToDecode");return o.typ&&(yield function(t,e){return Zg(this,void 0,void 0,(function*(){Gr.update(t,{type_assigned:e})}))}(s,o.typ.typ.id)),o}))}var pn=__webpack_require__("../node_modules/buffer/index.js");function yn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gn(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const mn={number:yn,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:gn,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");yn(t.outputLen),yn(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){gn(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},bn=mn,wn=("object"==typeof self&&"crypto"in self&&self.crypto,t=>new DataView(t.buffer,t.byteOffset,t.byteLength)),vn=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function _n(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));class kn{clone(){return this._cloneInto()}}function xn(t){const e=e=>t().update(_n(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}class Sn extends kn{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wn(this.buffer)}update(t){bn.exists(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=_n(t)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=wn(t);for(;n<=i-o;o+=n)this.process(e,o)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){bn.exists(this),bn.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let t=o;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;t.setUint32(e+u,s,n),t.setUint32(e+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=wn(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)s.setUint32(4*t,c[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=o,n%e&&t.buffer.set(r),t}}const En=BigInt(2**32-1),An=BigInt(32);function Bn(t,e=!1){return e?{h:Number(t&En),l:Number(t>>An&En)}:{h:0|Number(t>>An&En),l:0|Number(t&En)}}const In={fromBig:Bn,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=Bn(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(t,e)=>BigInt(t>>>0)<<An|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},Rn=In,[Tn,Mn]=Rn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),On=new Uint32Array(80),Cn=new Uint32Array(80);class Pn extends Sn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:y}=this;return[t,e,r,n,i,o,s,a,u,c,l,h,d,f,p,y]}set(t,e,r,n,i,o,s,a,u,c,l,h,d,f,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let r=0;r<16;r++,e+=4)On[r]=t.getUint32(e),Cn[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|On[t-15],r=0|Cn[t-15],n=Rn.rotrSH(e,r,1)^Rn.rotrSH(e,r,8)^Rn.shrSH(e,r,7),i=Rn.rotrSL(e,r,1)^Rn.rotrSL(e,r,8)^Rn.shrSL(e,r,7),o=0|On[t-2],s=0|Cn[t-2],a=Rn.rotrSH(o,s,19)^Rn.rotrBH(o,s,61)^Rn.shrSH(o,s,6),u=Rn.rotrSL(o,s,19)^Rn.rotrBL(o,s,61)^Rn.shrSL(o,s,6),c=Rn.add4L(i,u,Cn[t-7],Cn[t-16]),l=Rn.add4H(c,n,a,On[t-7],On[t-16]);On[t]=0|l,Cn[t]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:l,El:h,Fh:d,Fl:f,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let t=0;t<80;t++){const e=Rn.rotrSH(l,h,14)^Rn.rotrSH(l,h,18)^Rn.rotrBH(l,h,41),b=Rn.rotrSL(l,h,14)^Rn.rotrSL(l,h,18)^Rn.rotrBL(l,h,41),w=l&d^~l&p,v=h&f^~h&y,_=Rn.add5L(m,b,v,Mn[t],Cn[t]),k=Rn.add5H(_,g,e,w,Tn[t],On[t]),x=0|_,S=Rn.rotrSH(r,n,28)^Rn.rotrBH(r,n,34)^Rn.rotrBH(r,n,39),E=Rn.rotrSL(r,n,28)^Rn.rotrBL(r,n,34)^Rn.rotrBL(r,n,39),A=r&i^r&s^i&s,B=n&o^n&a^o&a;g=0|p,m=0|y,p=0|d,y=0|f,d=0|l,f=0|h,({h:l,l:h}=Rn.add(0|u,0|c,0|k,0|x)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const I=Rn.add3L(x,E,B);r=Rn.add3H(I,k,S,A),n=0|I}({h:r,l:n}=Rn.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=Rn.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Rn.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=Rn.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:h}=Rn.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=Rn.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:y}=Rn.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=Rn.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,o,s,a,u,c,l,h,d,f,p,y,g,m)}roundClean(){On.fill(0),Cn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class jn extends Pn{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Ln extends Pn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class zn extends Pn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Un=xn((()=>new Pn));xn((()=>new jn)),xn((()=>new Ln)),xn((()=>new zn));var Nn=__webpack_require__("?db77"),Hn=__webpack_require__.t(Nn,2);const Dn=BigInt(0),Fn=BigInt(1),qn=BigInt(2),Kn=BigInt(8),$n=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Wn=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:$n,n:$n,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),Zn=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Vn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Gn=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),Xn=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Jn=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Yn=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Qn{constructor(t,e,r,n){this.x=t,this.y=e,this.z=r,this.t=n}static fromAffine(t){if(!(t instanceof si))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(si.ZERO)?Qn.ZERO:new Qn(t.x,t.y,Fn,bi(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=Wn.P){const r=new Array(t.length),n=t.reduce(((t,n,i)=>n===Dn?t:(r[i]=t,bi(t*n,e))),Fn),i=wi(n,e);return t.reduceRight(((t,n,i)=>n===Dn?t:(r[i]=bi(t*r[i],e),bi(t*n,e))),i),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){ei(t);const{x:e,y:r,z:n}=this,{x:i,y:o,z:s}=t,a=bi(e*s),u=bi(i*n),c=bi(r*s),l=bi(o*n);return a===u&&c===l}negate(){return new Qn(bi(-this.x),this.y,this.z,bi(-this.t))}double(){const{x:t,y:e,z:r}=this,{a:n}=Wn,i=bi(t*t),o=bi(e*e),s=bi(qn*bi(r*r)),a=bi(n*i),u=t+e,c=bi(bi(u*u)-i-o),l=a+o,h=l-s,d=a-o,f=bi(c*h),p=bi(l*d),y=bi(c*d),g=bi(h*l);return new Qn(f,p,g,y)}add(t){ei(t);const{x:e,y:r,z:n,t:i}=this,{x:o,y:s,z:a,t:u}=t,c=bi((r-e)*(s+o)),l=bi((r+e)*(s-o)),h=bi(l-c);if(h===Dn)return this.double();const d=bi(n*qn*u),f=bi(i*qn*a),p=f+d,y=l+c,g=f-d,m=bi(p*h),b=bi(y*g),w=bi(p*g),v=bi(h*y);return new Qn(m,b,v,w)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(Qn.BASE)&&(e=si.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&oi.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=Qn.normalizeZ(n),oi.set(e,n)));let i=Qn.ZERO,o=Qn.BASE;const s=1+256/r,a=2**(r-1),u=BigInt(2**r-1),c=2**r,l=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(t&u);t>>=l,s>a&&(s-=c,t+=Fn);const h=r,d=r+Math.abs(s)-1,f=e%2!=0,p=s<0;0===s?o=o.add(ti(f,n[h])):i=i.add(ti(p,n[d]))}return Qn.normalizeZ([i,o])[0]}multiply(t,e){return this.wNAF(Ei(t,Wn.l),e)}multiplyUnsafe(t){let e=Ei(t,Wn.l,!1);const r=Qn.BASE,n=Qn.ZERO;if(e===Dn)return n;if(this.equals(n)||e===Fn)return this;if(this.equals(r))return this.wNAF(e);let i=n,o=this;for(;e>Dn;)e&Fn&&(i=i.add(o)),o=o.double(),e>>=Fn;return i}isSmallOrder(){return this.multiplyUnsafe(Wn.h).equals(Qn.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Wn.l/qn).double();return Wn.l%qn&&(t=t.add(this)),t.equals(Qn.ZERO)}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(Qn.ZERO);null==t&&(t=i?Kn:wi(n));const o=bi(e*t),s=bi(r*t),a=bi(n*t);if(i)return si.ZERO;if(a!==Fn)throw new Error("invZ was invalid");return new si(o,s)}fromRistrettoBytes(){ni()}toRistrettoBytes(){ni()}fromRistrettoHash(){ni()}}function ti(t,e){const r=e.negate();return t?r:e}function ei(t){if(!(t instanceof Qn))throw new TypeError("ExtendedPoint expected")}function ri(t){if(!(t instanceof ii))throw new TypeError("RistrettoPoint expected")}function ni(){throw new Error("Legacy method: switch to RistrettoPoint")}Qn.BASE=new Qn(Wn.Gx,Wn.Gy,Fn,bi(Wn.Gx*Wn.Gy)),Qn.ZERO=new Qn(Dn,Fn,Fn,Dn);class ii{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Wn,r=bi(Vn*t*t),n=bi((r+Fn)*Jn);let i=BigInt(-1);const o=bi((i-e*r)*bi(r+e));let{isValid:s,value:a}=_i(n,o),u=bi(a*t);pi(u)||(u=bi(-u)),s||(a=u),s||(i=r);const c=bi(i*(r-Fn)*Yn-o),l=a*a,h=bi((a+a)*o),d=bi(c*Gn),f=bi(Fn-l),p=bi(Fn+l);return new Qn(bi(h*p),bi(f*d),bi(d*p),bi(h*f))}static hashToCurve(t){const e=mi((t=Si(t,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(e),n=mi(t.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new ii(r.add(i))}static fromHex(t){t=Si(t,32);const{a:e,d:r}=Wn,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=mi(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(fi(i),t)||pi(i))throw new Error(n);const o=bi(i*i),s=bi(Fn+e*o),a=bi(Fn-e*o),u=bi(s*s),c=bi(a*a),l=bi(e*r*u-c),{isValid:h,value:d}=ki(bi(l*c)),f=bi(d*a),p=bi(d*f*l);let y=bi((i+i)*f);pi(y)&&(y=bi(-y));const g=bi(s*p),m=bi(y*g);if(!h||pi(m)||g===Dn)throw new Error(n);return new ii(new Qn(y,g,Fn,m))}toRawBytes(){let{x:t,y:e,z:r,t:n}=this.ep;const i=bi(bi(r+e)*bi(r-e)),o=bi(t*e),s=bi(o*o),{value:a}=ki(bi(i*s)),u=bi(a*i),c=bi(a*o),l=bi(u*c*n);let h;if(pi(n*l)){let r=bi(e*Vn),n=bi(t*Vn);t=r,e=n,h=bi(u*Xn)}else h=c;pi(t*l)&&(e=bi(-e));let d=bi((r-e)*h);return pi(d)&&(d=bi(-d)),fi(d)}toHex(){return li(this.toRawBytes())}toString(){return this.toHex()}equals(t){ri(t);const e=this.ep,r=t.ep,n=bi(e.x*r.y)===bi(e.y*r.x),i=bi(e.y*r.y)===bi(e.x*r.x);return n||i}add(t){return ri(t),new ii(this.ep.add(t.ep))}subtract(t){return ri(t),new ii(this.ep.subtract(t.ep))}multiply(t){return new ii(this.ep.multiply(t))}multiplyUnsafe(t){return new ii(this.ep.multiplyUnsafe(t))}}ii.BASE=new ii(Qn.BASE),ii.ZERO=new ii(Qn.ZERO);const oi=new WeakMap;class si{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,oi.delete(this)}static fromHex(t,e=!0){const{d:r,P:n}=Wn,i=(t=Si(t,32)).slice();i[31]=-129&t[31];const o=yi(i);if(e&&o>=n)throw new Error("Expected 0 < hex < P");if(!e&&o>=Zn)throw new Error("Expected 0 < hex < 2**256");const s=bi(o*o),a=bi(s-Fn),u=bi(r*s+Fn);let{isValid:c,value:l}=_i(a,u);if(!c)throw new Error("Point.fromHex: invalid y coordinate");const h=(l&Fn)===Fn;return 0!=(128&t[31])!==h&&(l=bi(-l)),new si(l,o)}static async fromPrivateKey(t){return(await Ti(t)).point}toRawBytes(){const t=fi(this.y);return t[31]|=this.x&Fn?128:0,t}toHex(){return li(this.toRawBytes())}toX25519(){const{y:t}=this;return fi(bi((Fn+t)*wi(Fn-t)))}isTorsionFree(){return Qn.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new si(bi(-this.x),this.y)}add(t){return Qn.fromAffine(this).add(Qn.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Qn.fromAffine(this).multiply(t,this).toAffine()}}si.BASE=new si(Wn.Gx,Wn.Gy),si.ZERO=new si(Dn,Fn);class ai{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=Si(t,64),r=si.fromHex(e.slice(0,32),!1),n=yi(e.slice(32,64));return new ai(r,n)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof si))throw new Error("Expected Point instance");return Ei(e,Wn.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(fi(this.s),32),t}toHex(){return li(this.toRawBytes())}}function ui(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}const ci=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function li(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=ci[t[r]];return e}function hi(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function di(t){return hi(t.toString(16).padStart(64,"0"))}function fi(t){return di(t).reverse()}function pi(t){return(bi(t)&Fn)===Fn}function yi(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+li(Uint8Array.from(t).reverse()))}const gi=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function mi(t){return bi(yi(t)&gi)}function bi(t,e=Wn.P){const r=t%e;return r>=Dn?r:e+r}function wi(t,e=Wn.P){if(t===Dn||e<=Dn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=bi(t,e),n=e,i=Dn,o=Fn,s=Fn,a=Dn;for(;r!==Dn;){const t=n/r,e=n%r,u=i-s*t,c=o-a*t;n=r,r=e,i=s,o=a,s=u,a=c}if(n!==Fn)throw new Error("invert: does not exist");return bi(i,e)}function vi(t,e){const{P:r}=Wn;let n=t;for(;e-- >Dn;)n*=n,n%=r;return n}function _i(t,e){const r=bi(e*e*e),n=bi(r*r*e);let i=bi(t*r*function(t){const{P:e}=Wn,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=t*t%e*t%e,u=vi(a,qn)*a%e,c=vi(u,Fn)*t%e,l=vi(c,r)*c%e,h=vi(l,n)*l%e,d=vi(h,i)*h%e,f=vi(d,o)*d%e,p=vi(f,s)*f%e,y=vi(p,s)*f%e,g=vi(y,n)*l%e;return{pow_p_5_8:vi(g,qn)*t%e,b2:a}}(t*n).pow_p_5_8);const o=bi(e*i*i),s=i,a=bi(i*Vn),u=o===t,c=o===bi(-t),l=o===bi(-t*Vn);return u&&(i=s),(c||l)&&(i=a),pi(i)&&(i=bi(-i)),{isValid:u||c,value:i}}function ki(t){return _i(Fn,t)}function xi(t){return bi(yi(t),Wn.l)}function Si(t,e){const r=t instanceof Uint8Array?Uint8Array.from(t):hi(t);if("number"==typeof e&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Ei(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(r){if(Dn<t)return t}else if(Dn<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Ai(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?di(Ei(t,Zn)):Si(t)).length)throw new Error("Expected 32 bytes");return t}function Bi(t){const e=function(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}(t.slice(0,32)),r=t.slice(32,64),n=xi(e),i=si.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}let Ii;function Ri(...t){if("function"!=typeof Ii)throw new Error("utils.sha512Sync must be set to use sync methods");return Ii(...t)}async function Ti(t){return Bi(await Li.sha512(Ai(t)))}function Mi(t){return Bi(Ri(Ai(t)))}const Oi=function(t){return Mi(t).pointBytes},Ci=function(t,e){t=Si(t);const{prefix:r,scalar:n,pointBytes:i}=Mi(e),o=xi(Ri(r,t)),s=si.BASE.multiply(o),a=bi(o+xi(Ri(s.toRawBytes(),i,t))*n,Wn.l);return new ai(s,a).toRawBytes()},Pi=function(t,e,r){const{r:n,SB:i,msg:o,pub:s}=function(t,e,r){e=Si(e),r instanceof si||(r=si.fromHex(r,!1));const{r:n,s:i}=t instanceof ai?t.assertValidity():ai.fromHex(t);return{r:n,s:i,SB:Qn.BASE.multiplyUnsafe(i),pub:r,msg:e}}(t,e,r),a=Ri(n.toRawBytes(),s.toRawBytes(),o);return function(t,e,r,n){const i=xi(n),o=Qn.fromAffine(t).multiplyUnsafe(i);return Qn.fromAffine(e).add(o).subtract(r).multiplyUnsafe(Wn.h).equals(Qn.ZERO)}(s,n,i,a)};si.BASE._setWindowSize(8);const ji={node:Hn,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Li={bytesToHex:li,hexToBytes:hi,concatBytes:ui,getExtendedPublicKey:Ti,mod:bi,invert:wi,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=Si(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return bi(yi(t),Wn.l-Fn)+Fn},randomBytes:(t=32)=>{if(ji.web)return ji.web.getRandomValues(new Uint8Array(t));if(ji.node){const{randomBytes:e}=ji.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Li.randomBytes(32),sha512:async(...t)=>{const e=ui(...t);if(ji.web){const t=await ji.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(ji.node)return Uint8Array.from(ji.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=si.BASE){const r=e.equals(si.BASE)?e:new si(e.x,e.y);return r._setWindowSize(t),r.multiply(qn),r},sha512Sync:void 0};Object.defineProperties(Li,{sha512Sync:{configurable:!1,get:()=>Ii,set(t){Ii||(Ii=t)}}});var zi=__webpack_require__("../node_modules/bn.js/lib/bn.js"),Ui=__webpack_require__.n(zi),Ni=__webpack_require__("../node_modules/bs58/index.js"),Hi=__webpack_require__.n(Ni);const Di=(t,e,r)=>t&e^~t&r,Fi=(t,e,r)=>t&e^t&r^e&r,qi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ki=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$i=new Uint32Array(64);class Wi extends Sn{constructor(){super(64,32,8,!1),this.A=0|Ki[0],this.B=0|Ki[1],this.C=0|Ki[2],this.D=0|Ki[3],this.E=0|Ki[4],this.F=0|Ki[5],this.G=0|Ki[6],this.H=0|Ki[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[t,e,r,n,i,o,s,a]}set(t,e,r,n,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)$i[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=$i[t-15],r=$i[t-2],n=vn(e,7)^vn(e,18)^e>>>3,i=vn(r,17)^vn(r,19)^r>>>10;$i[t]=i+$i[t-7]+n+$i[t-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let t=0;t<64;t++){const e=c+(vn(s,6)^vn(s,11)^vn(s,25))+Di(s,a,u)+qi[t]+$i[t]|0,l=(vn(r,2)^vn(r,13)^vn(r,22))+Fi(r,n,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){$i.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Zi extends Wi{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Vi=xn((()=>new Wi));xn((()=>new Zi));var Gi=__webpack_require__("../node_modules/borsh/lib/index.js"),Xi=__webpack_require__("../node_modules/@solana/buffer-layout/lib/Layout.js"),Ji=__webpack_require__("../node_modules/bigint-buffer/dist/browser.js");class Yi extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:o}=t;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function Qi(t){return"object"==typeof t&&null!=t}function to(t){return"string"==typeof t?JSON.stringify(t):""+t}function eo(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:u="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+to(n)+"`"}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:u}}function*ro(t,e,r,n){(function(t){return Qi(t)&&"function"==typeof t[Symbol.iterator]})(t)||(t=[t]);for(const i of t){const t=eo(i,e,r,n);t&&(yield t)}}function*no(t,e,r={}){const{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&Qi(e.schema)&&Qi(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let u=!0;for(const r of e.validator(t,a))u=!1,yield[r,void 0];for(let[r,c,l]of e.entries(t,a)){const e=no(c,l,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,c],coerce:o,mask:s});for(const n of e)n[0]?(u=!1,yield[n[0],void 0]):o&&(c=n[1],void 0===r?t=c:t instanceof Map?t.set(r,c):t instanceof Set?t.add(c):Qi(t)&&(t[r]=c))}if(u)for(const r of e.refiner(t,a))u=!1,yield[r,void 0];u&&(yield[void 0,t])}class io{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(t,e)=>ro(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>ro(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=ao(t,e);if(r[0])throw r[0]}(t,this)}create(t){return oo(t,this)}is(t){return so(t,this)}mask(t){return function(t,e){const r=ao(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e={}){return ao(t,this,e)}}function oo(t,e){const r=ao(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function so(t,e){return!ao(t,e)[0]}function ao(t,e,r={}){const n=no(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){const t=new Yi(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])}));return[t,void 0]}return[void 0,i[1]]}function uo(t,e){return new io({type:t,schema:null,validator:e})}function co(t){return new io({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+to(t)})}function lo(){return uo("boolean",(t=>"boolean"==typeof t))}function ho(t){return uo("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+to(e)))}function fo(t){const e=to(t),r=typeof t;return new io({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+to(r)})}function po(t){return new io({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function yo(){return uo("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+to(t)))}function go(t){return new io({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function mo(t,e){return new io({type:"record",schema:null,*entries(r){if(Qi(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>Qi(t)||"Expected an object, but received: "+to(t)})}function bo(){return uo("string",(t=>"string"==typeof t||"Expected a string, but received: "+to(t)))}function wo(t){const e=uo("never",(()=>!1));return new io({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+to(t)})}function vo(t){const e=Object.keys(t);return new io({type:"type",schema:t,*entries(r){if(Qi(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>Qi(t)||"Expected an object, but received: "+to(t)})}function _o(t){const e=t.map((t=>t.type)).join(" | ");return new io({type:"union",schema:null,validator(r,n){const i=[];for(const e of t){const[...t]=no(r,e,n),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+to(r),...i]}})}function ko(){return uo("unknown",(()=>!0))}function xo(t,e,r){return new io({...t,coercer:(n,i)=>so(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var So=__webpack_require__("../node_modules/jayson/lib/client/browser/index.js"),Eo=__webpack_require__.n(So),Ao=__webpack_require__("../node_modules/rpc-websockets/dist/lib/client.js"),Bo=__webpack_require__("../node_modules/rpc-websockets/dist/lib/client/websocket.browser.js");const[Io,Ro,To]=[[],[],[]],Mo=BigInt(0),Oo=BigInt(1),Co=BigInt(2),Po=BigInt(7),jo=BigInt(256),Lo=BigInt(113);for(let t=0,e=Oo,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Io.push(2*(5*n+r)),Ro.push((t+1)*(t+2)/2%64);let i=Mo;for(let t=0;t<7;t++)e=(e<<Oo^(e>>Po)*Lo)%jo,e&Co&&(i^=Oo<<(Oo<<BigInt(t))-Oo);To.push(i)}const[zo,Uo]=Rn.split(To,!0),No=(t,e,r)=>r>32?Rn.rotlBH(t,e,r):Rn.rotlSH(t,e,r),Ho=(t,e,r)=>r>32?Rn.rotlBL(t,e,r):Rn.rotlSL(t,e,r);class Do extends kn{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,bn.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,o=r[i],s=r[i+1],a=No(o,s,1)^r[n],u=Ho(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=Ro[r],o=No(e,i,n),s=Ho(e,i,n),a=Io[r];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=zo[n],t[1]^=Uo[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){bn.exists(this);const{blockLen:e,state:r}=this,n=(t=_n(t)).length;for(let i=0;i<n;){const o=Math.min(e-this.pos,n-i);for(let e=0;e<o;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){bn.exists(this,!1),bn.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return bn.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(bn.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return t||(t=new Do(e,r,n,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Fo=(t,e,r)=>xn((()=>new Do(e,t,r))),qo=(Fo(6,144,28),Fo(6,136,32),Fo(6,104,48),Fo(6,72,64),Fo(1,144,28),Fo(1,136,32)),Ko=(Fo(1,104,48),Fo(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(_n(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((n={})=>new Do(e,t,void 0===n.dkLen?r:n.dkLen,!0))));Ko(31,168,16),Ko(31,136,32);class $o extends kn{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,bn.hash(t);const r=_n(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return bn.exists(this),this.iHash.update(t),this}digestInto(t){bn.exists(this),bn.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Wo=(t,e,r)=>new $o(t,e).update(r).digest();Wo.create=(t,e)=>new $o(t,e);var Zo=__webpack_require__("?e97e"),Vo=__webpack_require__.t(Zo,2);const Go=BigInt(0),Xo=BigInt(1),Jo=BigInt(2),Yo=BigInt(3),Qo=BigInt(8),ts=Object.freeze({a:Go,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Xo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),es=(t,e)=>(t+e/Jo)/e,rs={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=ts,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Xo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=es(o*t,e),u=es(-n*t,e);let c=Ts(t-a*r-u*i,e),l=Ts(-a*n-u*o,e);const h=c>s,d=l>s;if(h&&(c=e-c),d&&(l=e-l),c>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:d,k2:l}}},ns=32,is=32,os=ns+1,ss=2*ns+1;function as(t){const{a:e,b:r}=ts,n=Ts(t*t),i=Ts(n*t);return Ts(i+e*t+r)}const us=ts.a===Go;class cs extends Error{constructor(t){super(t)}}function ls(t){if(!(t instanceof hs))throw new TypeError("JacobianPoint expected")}class hs{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof ps))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(ps.ZERO)?hs.ZERO:new hs(t.x,t.y,Xo)}static toAffineBatch(t){const e=function(t,e=ts.P){const r=new Array(t.length),n=t.reduce(((t,n,i)=>n===Go?t:(r[i]=t,Ts(t*n,e))),Xo),i=Os(n,e);return t.reduceRight(((t,n,i)=>n===Go?t:(r[i]=Ts(t*r[i],e),Ts(t*n,e))),i),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return hs.toAffineBatch(t).map(hs.fromAffine)}equals(t){ls(t);const{x:e,y:r,z:n}=this,{x:i,y:o,z:s}=t,a=Ts(n*n),u=Ts(s*s),c=Ts(e*u),l=Ts(i*a),h=Ts(Ts(r*s)*u),d=Ts(Ts(o*n)*a);return c===l&&h===d}negate(){return new hs(this.x,Ts(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=Ts(t*t),i=Ts(e*e),o=Ts(i*i),s=t+i,a=Ts(Jo*(Ts(s*s)-n-o)),u=Ts(Yo*n),c=Ts(u*u),l=Ts(c-Jo*a),h=Ts(u*(a-l)-Qo*o),d=Ts(Jo*e*r);return new hs(l,h,d)}add(t){ls(t);const{x:e,y:r,z:n}=this,{x:i,y:o,z:s}=t;if(i===Go||o===Go)return this;if(e===Go||r===Go)return t;const a=Ts(n*n),u=Ts(s*s),c=Ts(e*u),l=Ts(i*a),h=Ts(Ts(r*s)*u),d=Ts(Ts(o*n)*a),f=Ts(l-c),p=Ts(d-h);if(f===Go)return p===Go?this.double():hs.ZERO;const y=Ts(f*f),g=Ts(f*y),m=Ts(c*y),b=Ts(p*p-g-Jo*m),w=Ts(p*(m-b)-h*g),v=Ts(n*s*f);return new hs(b,w,v)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=hs.ZERO;if("bigint"==typeof t&&t===Go)return e;let r=Rs(t);if(r===Xo)return this;if(!us){let t=e,n=this;for(;r>Go;)r&Xo&&(t=t.add(n)),n=n.double(),r>>=Xo;return t}let{k1neg:n,k1:i,k2neg:o,k2:s}=rs.splitScalar(r),a=e,u=e,c=this;for(;i>Go||s>Go;)i&Xo&&(a=a.add(c)),s&Xo&&(u=u.add(c)),c=c.double(),i>>=Xo,s>>=Xo;return n&&(a=a.negate()),o&&(u=u.negate()),u=new hs(Ts(u.x*rs.beta),u.y,u.z),a.add(u)}precomputeWindow(t){const e=us?128/t+1:256/t+1,r=[];let n=this,i=n;for(let o=0;o<e;o++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(hs.BASE)&&(e=ps.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&fs.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=hs.normalizeZ(n),fs.set(e,n)));let i=hs.ZERO,o=hs.BASE;const s=1+(us?128/r:256/r),a=2**(r-1),u=BigInt(2**r-1),c=2**r,l=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(t&u);t>>=l,s>a&&(s-=c,t+=Xo);const h=r,d=r+Math.abs(s)-1,f=e%2!=0,p=s<0;0===s?o=o.add(ds(f,n[h])):i=i.add(ds(p,n[d]))}return{p:i,f:o}}multiply(t,e){let r,n,i=Rs(t);if(us){const{k1neg:t,k1:o,k2neg:s,k2:a}=rs.splitScalar(i);let{p:u,f:c}=this.wNAF(o,e),{p:l,f:h}=this.wNAF(a,e);u=ds(t,u),l=ds(s,l),l=new hs(Ts(l.x*rs.beta),l.y,l.z),r=u.add(l),n=c.add(h)}else{const{p:t,f:o}=this.wNAF(i,e);r=t,n=o}return hs.normalizeZ([r,n])[0]}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(hs.ZERO);null==t&&(t=i?Qo:Os(n));const o=t,s=Ts(o*o),a=Ts(s*o),u=Ts(e*s),c=Ts(r*a),l=Ts(n*o);if(i)return ps.ZERO;if(l!==Xo)throw new Error("invZ was invalid");return new ps(u,c)}}function ds(t,e){const r=e.negate();return t?r:e}hs.BASE=new hs(ts.Gx,ts.Gy,Xo),hs.ZERO=new hs(Go,Xo,Go);const fs=new WeakMap;class ps{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,fs.delete(this)}hasEvenY(){return this.y%Jo===Go}static fromCompressedHex(t){const e=32===t.length,r=Bs(e?t:t.subarray(1));if(!Us(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=ts,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=t*t*t%e,c=u*u*t%e,l=Ms(c,Yo)*c%e,h=Ms(l,Yo)*c%e,d=Ms(h,Jo)*u%e,f=Ms(d,n)*d%e,p=Ms(f,i)*f%e,y=Ms(p,s)*p%e,g=Ms(y,a)*y%e,m=Ms(g,s)*p%e,b=Ms(m,Yo)*c%e,w=Ms(b,o)*f%e,v=Ms(w,r)*u%e,_=Ms(v,Jo);if(_*_%e!==t)throw new Error("Cannot find square root");return _}(as(r));const i=(n&Xo)===Xo;e?i&&(n=Ts(-n)):1==(1&t[0])!==i&&(n=Ts(-n));const o=new ps(r,n);return o.assertValidity(),o}static fromUncompressedHex(t){const e=Bs(t.subarray(1,ns+1)),r=Bs(t.subarray(ns+1,2*ns+1)),n=new ps(e,r);return n.assertValidity(),n}static fromHex(t){const e=Is(t),r=e.length,n=e[0];if(r===ns)return this.fromCompressedHex(e);if(r===os&&(2===n||3===n))return this.fromCompressedHex(e);if(r===ss&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${os} compressed bytes or ${ss} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return ps.BASE.multiply(Hs(t))}static fromSignature(t,e,r){const{r:n,s:i}=function(t){if(t instanceof ms)return t.assertValidity(),t;try{return ms.fromDER(t)}catch(e){return ms.fromCompact(t)}}(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=Cs(Is(t)),{n:s}=ts,a=2===r||3===r?n+s:n,u=Os(a,s),c=Ts(-o*u,s),l=Ts(i*u,s),h=1&r?"03":"02",d=ps.fromHex(h+ks(a)),f=ps.BASE.multiplyAndAddUnsafe(d,c,l);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(t=!1){return As(this.toHex(t))}toHex(t=!1){const e=ks(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${ks(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!Us(e)||!Us(r))throw new Error(t);const n=Ts(r*r);if(Ts(n-as(e))!==Go)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ps(this.x,Ts(-this.y))}double(){return hs.fromAffine(this).double().toAffine()}add(t){return hs.fromAffine(this).add(hs.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return hs.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=hs.fromAffine(this),i=e===Go||e===Xo||this!==ps.BASE?n.multiplyUnsafe(e):n.multiply(e),o=hs.fromAffine(t).multiplyUnsafe(r),s=i.add(o);return s.equals(hs.ZERO)?void 0:s.toAffine()}}function ys(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function gs(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${vs(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Bs(r),left:t.subarray(e+2)}}ps.BASE=new ps(ts.Gx,ts.Gy),ps.ZERO=new ps(Go,Go);class ms{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?vs(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new ms(Es(n.slice(0,64)),Es(n.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${vs(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=gs(t.subarray(2)),{data:n,left:i}=gs(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${vs(i)}`);return{r:e,s:n}}(e?t:As(t));return new ms(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!zs(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!zs(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=ts.n>>Xo;return this.s>t}normalizeS(){return this.hasHighS()?new ms(this.r,Ts(-this.s,ts.n)):this}toDERRawBytes(){return As(this.toDERHex())}toDERHex(){const t=ys(Ss(this.s)),e=ys(Ss(this.r)),r=t.length/2,n=e.length/2,i=Ss(r),o=Ss(n);return`30${Ss(n+r+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return As(this.toCompactHex())}toCompactHex(){return ks(this.r)+ks(this.s)}}function bs(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}const ws=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function vs(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=ws[t[r]];return e}const _s=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function ks(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(Go<=t&&t<_s))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function xs(t){const e=As(ks(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function Ss(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Es(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function As(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Bs(t){return Es(vs(t))}function Is(t){return t instanceof Uint8Array?Uint8Array.from(t):As(t)}function Rs(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&zs(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ts(t,e=ts.P){const r=t%e;return r>=Go?r:e+r}function Ms(t,e){const{P:r}=ts;let n=t;for(;e-- >Go;)n*=n,n%=r;return n}function Os(t,e=ts.P){if(t===Go||e<=Go)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ts(t,e),n=e,i=Go,o=Xo,s=Xo,a=Go;for(;r!==Go;){const t=n/r,e=n%r,u=i-s*t,c=o-a*t;n=r,r=e,i=s,o=a,s=u,a=c}if(n!==Xo)throw new Error("invert: does not exist");return Ts(i,e)}function Cs(t,e=!1){const r=function(t){const e=8*t.length-8*is,r=Bs(t);return e>0?r>>BigInt(e):r}(t);if(e)return r;const{n}=ts;return r>=n?r-n:r}let Ps,js;class Ls{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Ws.hmacSha256(this.k,...t)}hmacSync(...t){return js(this.k,...t)}checkSync(){if("function"!=typeof js)throw new cs("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return bs(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return bs(...e)}}function zs(t){return Go<t&&t<ts.n}function Us(t){return Go<t&&t<ts.P}function Ns(t,e,r,n=!0){const{n:i}=ts,o=Cs(t,!0);if(!zs(o))return;const s=Os(o,i),a=ps.BASE.multiply(o),u=Ts(a.x,i);if(u===Go)return;const c=Ts(s*Ts(e+r*u,i),i);if(c===Go)return;let l=new ms(u,c),h=(a.x===l.r?0:2)|Number(a.y&Xo);return n&&l.hasHighS()&&(l=l.normalizeS(),h^=1),{sig:l,recovery:h}}function Hs(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*is)throw new Error("Expected 32 bytes of private key");e=Es(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==is)throw new Error("Expected 32 bytes of private key");e=Bs(t)}if(!zs(e))throw new Error("Expected private key: 0 < key < n");return e}function Ds(t){return Bs(t.length>ns?t.slice(0,ns):t)}function Fs(t){const e=Ds(t),r=Ts(e,ts.n);return qs(r<Go?e:r)}function qs(t){return xs(t)}ps.BASE._setWindowSize(8);const Ks={node:Vo,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},$s={},Ws={bytesToHex:vs,hexToBytes:As,concatBytes:bs,mod:Ts,invert:Os,isValidPrivateKey(t){try{return Hs(t),!0}catch(t){return!1}},_bigintTo32Bytes:xs,_normalizePrivateKey:Hs,hashToPrivateKey:t=>{t=Is(t);const e=is+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return xs(Ts(Bs(t),ts.n-Xo)+Xo)},randomBytes:(t=32)=>{if(Ks.web)return Ks.web.getRandomValues(new Uint8Array(t));if(Ks.node){const{randomBytes:e}=Ks.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ws.hashToPrivateKey(Ws.randomBytes(is+8)),precompute(t=8,e=ps.BASE){const r=e===ps.BASE?e:new ps(e.x,e.y);return r._setWindowSize(t),r.multiply(Yo),r},sha256:async(...t)=>{if(Ks.web){const e=await Ks.web.subtle.digest("SHA-256",bs(...t));return new Uint8Array(e)}if(Ks.node){const{createHash:e}=Ks.node,r=e("sha256");return t.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Ks.web){const r=await Ks.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=bs(...e),i=await Ks.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(Ks.node){const{createHmac:r}=Ks.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=$s[t];if(void 0===r){const e=await Ws.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=bs(e,e),$s[t]=r}return Ws.sha256(r,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof Ps)throw new cs("sha256Sync is undefined, you need to set it");let r=$s[t];if(void 0===r){const e=Ps(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=bs(e,e),$s[t]=r}return Ps(r,...e)},_JacobianPoint:hs};Object.defineProperties(Ws,{sha256Sync:{configurable:!1,get:()=>Ps,set(t){Ps||(Ps=t)}},hmacSha256Sync:{configurable:!1,get:()=>js,set(t){js||(js=t)}}}),Li.sha512Sync=(...t)=>Un(Li.concatBytes(...t)),Li.randomPrivateKey;const Zs=()=>{const t=Li.randomPrivateKey(),e=Vs(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Vs=Oi;function Gs(t){try{return si.fromHex(t,!0),!0}catch{return!1}}const Xs=(t,e)=>Ci(t,e.slice(0,32)),Js=Pi,Ys=t=>pn.Buffer.isBuffer(t)?t:t instanceof Uint8Array?pn.Buffer.from(t.buffer,t.byteOffset,t.byteLength):pn.Buffer.from(t);class Qs{constructor(t){Object.assign(this,t)}encode(){return pn.Buffer.from((0,Gi.serialize)(ta,this))}static decode(t){return(0,Gi.deserialize)(ta,this,t)}static decodeUnchecked(t){return(0,Gi.deserializeUnchecked)(ta,this,t)}}const ta=new Map;let ea;const ra=32;let na=1;ea=Symbol.toStringTag;class ia extends Qs{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Hi().decode(t);if(e.length!=ra)throw new Error("Invalid public key input");this._bn=new(Ui())(e)}else this._bn=new(Ui())(t);if(this._bn.byteLength()>ra)throw new Error("Invalid public key input")}}static unique(){const t=new ia(na);return na+=1,new ia(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Hi().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(pn.Buffer);if(t.length===ra)return t;const e=pn.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[ea](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=pn.Buffer.concat([t.toBuffer(),pn.Buffer.from(e),r.toBuffer()]),i=Vi(n);return new ia(i)}static createProgramAddressSync(t,e){let r=pn.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=pn.Buffer.concat([r,Ys(t)])})),r=pn.Buffer.concat([r,e.toBuffer(),pn.Buffer.from("ProgramDerivedAddress")]);const n=Vi(r);if(Gs(n))throw new Error("Invalid seeds, address must fall off the curve");return new ia(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const i=t.concat(pn.Buffer.from([n]));r=this.createProgramAddressSync(i,e)}catch(t){if(t instanceof TypeError)throw t;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Gs(new ia(t).toBytes())}}ia.default=new ia("11111111111111111111111111111111"),ta.set(ia,{kind:"struct",fields:[["_bn","u256"]]}),new ia("BPFLoader1111111111111111111111111111111111");const oa=1232;class sa extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(sa.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class aa extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(aa.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ua extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ua.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ca{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const la=(t="publicKey")=>Xi.Ik(32,t),ha=(t="string")=>{const e=Xi.n_([Xi.Jq("length"),Xi.Jq("lengthPadding"),Xi.Ik(Xi.cv(Xi.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(t,e)=>r(t,e).chars.toString(),i.encode=(t,e,r)=>{const i={chars:pn.Buffer.from(t,"utf8")};return n(i,e,r)},i.alloc=t=>Xi.Jq().span+Xi.Jq().span+pn.Buffer.from(t,"utf8").length,i};function da(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const n=e[t.property];if(Array.isArray(n))return n.length*r(t.elementLayout)}else if("fields"in t)return da({layout:t},e[t.property]);return 0};let n=0;return t.layout.fields.forEach((t=>{n+=r(t)})),n}function fa(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0==(128&n))break}return e}function pa(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function ya(t,e){if(!t)throw new Error(e||"Assertion failed")}class ga{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,n=t=>{const e=t.toBase58();let n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},i=n(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){n(e.programId).isInvoked=!0;for(const t of e.keys){const e=n(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new ga(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ya(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ya(e.length>0,"Expected at least one writable signer key");const[t]=e[0];ya(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new ia(t))),...r.map((([t])=>new ia(t))),...n.map((([t])=>new ia(t))),...i.map((([t])=>new ia(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,n=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new ia(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(ya(o<256,"Max lookup table index exceeded"),r.push(o),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}}class ma{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new ia(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Hi().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new ca(this.staticAccountKeys)}static compile(t){const e=ga.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new ca(n).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Hi().encode(t.data)})));return new ma({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];pa(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(Hi().decode(t.data));let i=[];pa(i,e.length);let o=[];return pa(o,n.length),{programIdIndex:r,keyIndicesCount:pn.Buffer.from(i),keyIndices:e,dataLength:pn.Buffer.from(o),data:n}}));let n=[];pa(n,r.length);let i=pn.Buffer.alloc(oa);pn.Buffer.from(n).copy(i);let o=n.length;r.forEach((t=>{const e=Xi.n_([Xi.u8("programIdIndex"),Xi.Ik(t.keyIndicesCount.length,"keyIndicesCount"),Xi.A9(Xi.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Xi.Ik(t.dataLength.length,"dataLength"),Xi.A9(Xi.u8("userdatum"),t.data.length,"data")]).encode(t,i,o);o+=e})),i=i.slice(0,o);const s=Xi.n_([Xi.Ik(1,"numRequiredSignatures"),Xi.Ik(1,"numReadonlySignedAccounts"),Xi.Ik(1,"numReadonlyUnsignedAccounts"),Xi.Ik(e.length,"keyCount"),Xi.A9(la("key"),t,"keys"),la("recentBlockhash")]),a={numRequiredSignatures:pn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:pn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:pn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:pn.Buffer.from(e),keys:this.accountKeys.map((t=>Ys(t.toBytes()))),recentBlockhash:Hi().decode(this.recentBlockhash)};let u=pn.Buffer.alloc(2048);const c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(t){let e=[...t];const r=e.shift();if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=e.shift(),i=e.shift(),o=fa(e);let s=[];for(let t=0;t<o;t++){const t=e.slice(0,ra);e=e.slice(ra),s.push(new ia(pn.Buffer.from(t)))}const a=e.slice(0,ra);e=e.slice(ra);const u=fa(e);let c=[];for(let t=0;t<u;t++){const t=e.shift(),r=fa(e),n=e.slice(0,r);e=e.slice(r);const i=fa(e),o=e.slice(0,i),s=Hi().encode(pn.Buffer.from(o));e=e.slice(i),c.push({programIdIndex:t,accounts:n,data:s})}const l={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:Hi().encode(pn.Buffer.from(a)),accountKeys:s,instructions:c};return new ma(l)}}class ba{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ca(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;return t>=r?t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0):t>=this.header.numRequiredSignatures?t-e<r-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=t.find((t=>t.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(n.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(n.state.addresses[t])}}return e}static compile(t){const e=ga.compile(t.instructions,t.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:o}]=i;r.push(t),n.writable.push(...e),n.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new ca(s,n).compileInstructions(t.instructions);return new ba({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();pa(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();pa(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();pa(i,this.addressTableLookups.length);const o=Xi.n_([Xi.u8("prefix"),Xi.n_([Xi.u8("numRequiredSignatures"),Xi.u8("numReadonlySignedAccounts"),Xi.u8("numReadonlyUnsignedAccounts")],"header"),Xi.Ik(t.length,"staticAccountKeysLength"),Xi.A9(la(),this.staticAccountKeys.length,"staticAccountKeys"),la("recentBlockhash"),Xi.Ik(r.length,"instructionsLength"),Xi.Ik(e.length,"serializedInstructions"),Xi.Ik(i.length,"addressTableLookupsLength"),Xi.Ik(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(oa),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Hi().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(oa);for(const r of this.compiledInstructions){const n=Array();pa(n,r.accountKeyIndexes.length);const i=Array();pa(i,r.data.length),t+=Xi.n_([Xi.u8("programIdIndex"),Xi.Ik(n.length,"encodedAccountKeyIndexesLength"),Xi.A9(Xi.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Xi.Ik(i.length,"encodedDataLength"),Xi.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(oa);for(const r of this.addressTableLookups){const n=Array();pa(n,r.writableIndexes.length);const i=Array();pa(i,r.readonlyIndexes.length),t+=Xi.n_([la("accountKey"),Xi.Ik(n.length,"encodedWritableIndexesLength"),Xi.A9(Xi.u8(),r.writableIndexes.length,"writableIndexes"),Xi.Ik(i.length,"encodedReadonlyIndexesLength"),Xi.A9(Xi.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=e.shift(),n=127&r;ya(r!==n,"Expected versioned message but received legacy message"),ya(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},o=[],s=fa(e);for(let t=0;t<s;t++)o.push(new ia(e.splice(0,ra)));const a=Hi().encode(e.splice(0,ra)),u=fa(e),c=[];for(let t=0;t<u;t++){const t=e.shift(),r=fa(e),n=e.splice(0,r),i=fa(e),o=new Uint8Array(e.splice(0,i));c.push({programIdIndex:t,accountKeyIndexes:n,data:o})}const l=fa(e),h=[];for(let t=0;t<l;t++){const t=new ia(e.splice(0,ra)),r=fa(e),n=e.splice(0,r),i=fa(e),o=e.splice(0,i);h.push({accountKey:t,writableIndexes:n,readonlyIndexes:o})}return new ba({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:c,addressTableLookups:h})}}let wa;!function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"}(wa||(wa={}));const va=pn.Buffer.alloc(64).fill(0);class _a{constructor(t){this.keys=void 0,this.programId=void 0,this.data=pn.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class ka{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new _a(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const n=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new ia(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),r=o.findIndex((t=>t.pubkey.toString()===e));r>-1?(o[r].isWritable=o[r].isWritable||t.isWritable,o[r].isSigner=o[r].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58())}));const s=o.findIndex((t=>t.pubkey.equals(r)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const l=[],h=[];o.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(u+=1)):(h.push(t.toString()),r||(c+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:Hi().encode(e)}}));return f.forEach((t=>{ya(t.programIdIndex>=0),t.accounts.forEach((t=>ya(t>=0)))})),new ma({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,r)=>e[r].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=Xs(r,t.secretKey);this._addSignature(t.publicKey,Ys(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){ya(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=pn.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}_verifySignatures(t,e){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(e)return!1}else if(!Js(r,t,n.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r&&!this._verifySignatures(n,e))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];pa(r,e.length);const n=r.length+64*e.length+t.length,i=pn.Buffer.alloc(n);return ya(e.length<256),pn.Buffer.from(r).copy(i,0),e.forEach((({signature:t},e)=>{null!==t&&(ya(64===t.length,"signature has invalid length"),pn.Buffer.from(t).copy(i,r.length+64*e))})),t.copy(i,r.length+64*e.length),ya(i.length<=oa,`Transaction too large: ${i.length} > 1232`),i}get keys(){return ya(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return ya(1===this.instructions.length),this.instructions[0].programId}get data(){return ya(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=fa(e);let n=[];for(let t=0;t<r;t++){const t=e.slice(0,64);e=e.slice(64),n.push(Hi().encode(pn.Buffer.from(t)))}return ka.populate(ma.from(e),n)}static populate(t,e=[]){const r=new ka;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==Hi().encode(va)?null:Hi().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new _a({keys:n,programId:t.accountKeys[e.programIdIndex],data:Hi().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}const xa=new ia("SysvarC1ock11111111111111111111111111111111"),Sa=(new ia("SysvarEpochSchedu1e111111111111111111111111"),new ia("Sysvar1nstructions1111111111111111111111111"),new ia("SysvarRecentB1ockHashes11111111111111111111")),Ea=new ia("SysvarRent111111111111111111111111111111111"),Aa=(new ia("SysvarRewards111111111111111111111111111111"),new ia("SysvarS1otHashes111111111111111111111111111"),new ia("SysvarS1otHistory11111111111111111111111111"),new ia("SysvarStakeHistory1111111111111111111111111"));async function Ba(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,i=r.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Ia(t){return new Promise((e=>setTimeout(e,t)))}function Ra(t,e){const r=t.layout.span>=0?t.layout.span:da(t,e),n=pn.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}const Ta=Xi._O("lamportsPerSignature"),Ma=Xi.n_([Xi.Jq("version"),Xi.Jq("state"),la("authorizedPubkey"),la("nonce"),Xi.n_([Ta],"feeCalculator")]),Oa=Ma.span;class Ca{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Ma.decode(Ys(t),0);return new Ca({authorizedPubkey:new ia(e.authorizedPubkey),nonce:new ia(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Pa=(8,t=>{const e=(0,Xi.Ik)(8,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),i=e;return i.decode=(t,e)=>{const r=n(t,e);return(0,Ji.oU)(pn.Buffer.from(r))},i.encode=(t,e,n)=>{const i=(0,Ji.k$)(t,8);return r(i,e,n)},i});const ja=Object.freeze({Create:{index:0,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("lamports"),Xi.gM("space"),la("programId")])},Assign:{index:1,layout:Xi.n_([Xi.Jq("instruction"),la("programId")])},Transfer:{index:2,layout:Xi.n_([Xi.Jq("instruction"),Pa("lamports")])},CreateWithSeed:{index:3,layout:Xi.n_([Xi.Jq("instruction"),la("base"),ha("seed"),Xi.gM("lamports"),Xi.gM("space"),la("programId")])},AdvanceNonceAccount:{index:4,layout:Xi.n_([Xi.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Xi.n_([Xi.Jq("instruction"),la("authorized")])},AuthorizeNonceAccount:{index:7,layout:Xi.n_([Xi.Jq("instruction"),la("authorized")])},Allocate:{index:8,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("space")])},AllocateWithSeed:{index:9,layout:Xi.n_([Xi.Jq("instruction"),la("base"),ha("seed"),Xi.gM("space"),la("programId")])},AssignWithSeed:{index:10,layout:Xi.n_([Xi.Jq("instruction"),la("base"),ha("seed"),la("programId")])},TransferWithSeed:{index:11,layout:Xi.n_([Xi.Jq("instruction"),Pa("lamports"),ha("seed"),la("programId")])},UpgradeNonceAccount:{index:12,layout:Xi.n_([Xi.Jq("instruction")])}});class La{constructor(){}static createAccount(t){const e=Ra(ja.Create,{lamports:t.lamports,space:t.space,programId:Ys(t.programId.toBuffer())});return new _a({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;return"basePubkey"in t?(e=Ra(ja.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Ys(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=Ra(ja.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new _a({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;return"basePubkey"in t?(e=Ra(ja.AssignWithSeed,{base:Ys(t.basePubkey.toBuffer()),seed:t.seed,programId:Ys(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Ra(ja.Assign,{programId:Ys(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new _a({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Ra(ja.CreateWithSeed,{base:Ys(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Ys(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new _a({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new ka;"basePubkey"in t&&"seed"in t?e.add(La.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Oa,programId:this.programId})):e.add(La.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Oa,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=Ra(ja.InitializeNonceAccount,{authorized:Ys(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new _a(r)}static nonceAdvance(t){const e=Ra(ja.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new _a(r)}static nonceWithdraw(t){const e=Ra(ja.WithdrawNonceAccount,{lamports:t.lamports});return new _a({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Ra(ja.AuthorizeNonceAccount,{authorized:Ys(t.newAuthorizedPubkey.toBuffer())});return new _a({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;return"basePubkey"in t?(e=Ra(ja.AllocateWithSeed,{base:Ys(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Ys(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Ra(ja.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new _a({keys:r,programId:this.programId,data:e})}}La.programId=new ia("11111111111111111111111111111111");class za{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/za.chunkSize)+1+1)}static async load(t,e,r,n,i){{const o=await t.getMinimumBalanceForRentExemption(i.length),s=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new ka,a.add(La.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new ka,a.add(La.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new ka,a.add(La.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new ka).add(La.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await Ba(t,a,[e,r],{commitment:"confirmed"})}const o=Xi.n_([Xi.Jq("instruction"),Xi.Jq("offset"),Xi.Jq("bytesLength"),Xi.Jq("bytesLengthPadding"),Xi.A9(Xi.u8("byte"),Xi.cv(Xi.Jq(),-8),"bytes")]),s=za.chunkSize;let a=0,u=i,c=[];for(;u.length>0;){const i=u.slice(0,s),l=pn.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},l);const h=(new ka).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(c.push(Ba(t,h,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Ia(1e3/t)}a+=s,u=u.slice(s)}await Promise.all(c);{const i=Xi.n_([Xi.Jq("instruction")]),o=pn.Buffer.alloc(i.span);i.encode({instruction:1},o);const s=(new ka).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1}],programId:n,data:o});await Ba(t,s,[e,r],{commitment:"confirmed"})}return!0}}za.chunkSize=932,new ia("BPFLoader2111111111111111111111111111111111");var Ua=Object.prototype.toString,Na=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function Ha(t,e){var r,n,i,o,s,a,u;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return Ha(t.toJSON(),e);if("[object Array]"===(u=Ua.call(t))){for(i="[",n=t.length-1,r=0;r<n;r++)i+=Ha(t[r],!0)+",";return n>-1&&(i+=Ha(t[r],!0)),i+"]"}if("[object Object]"===u){for(n=(o=Na(t).sort()).length,i="",r=0;r<n;)void 0!==(a=Ha(t[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Da=function(t){var e=Ha(t,!1);if(void 0!==e)return""+e};function Fa(t){let e=0;for(;t>1;)t/=2,e++;return e}class qa{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Fa(function(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32))}(t+32+1))-Fa(32)-1;return[e,t-(this.getSlotsInEpoch(e)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Fa(32)):this.slotsPerEpoch}}class Ka extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class $a extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}var Wa=globalThis.fetch;class Za extends Ao.Z{constructor(t,e,r){super((t=>{const r=(0,Bo.Z)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class Va{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(Ga,t),r=t.length-56;ya(r>=0,"lookup table is invalid"),ya(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=Xi.n_([Xi.A9(la(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new ia(e.authority[0]):void 0,addresses:i.map((t=>new ia(t)))}}}const Ga={index:1,layout:Xi.n_([Xi.Jq("typeIndex"),Pa("deactivationSlot"),Xi._O("lastExtendedSlot"),Xi.u8("lastExtendedStartIndex"),Xi.u8(),Xi.A9(la(),Xi.cv(Xi.u8(),-1),"authority")])},Xa=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,Ja=xo(ho(ia),bo(),(t=>new ia(t))),Ya=wo([bo(),fo("base64")]),Qa=xo(ho(pn.Buffer),Ya,(t=>pn.Buffer.from(t[0],"base64")));function tu(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function eu(t){return _o([vo({jsonrpc:fo("2.0"),id:bo(),result:t}),vo({jsonrpc:fo("2.0"),id:bo(),error:vo({code:ko(),message:bo(),data:go(uo("any",(()=>!0)))})})])}const ru=eu(ko());function nu(t){return xo(eu(t),ru,(e=>"error"in e?e:{...e,result:oo(e.result,t)}))}function iu(t){return nu(vo({context:vo({slot:yo()}),value:t}))}function ou(t){return vo({context:vo({slot:yo()}),value:t})}function su(t,e){return 0===t?new ba({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new ia(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Hi().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new ma(e)}const au=vo({foundation:yo(),foundationTerm:yo(),initial:yo(),taper:yo(),terminal:yo()}),uu=nu(co(po(vo({epoch:yo(),effectiveSlot:yo(),amount:yo(),postBalance:yo(),commission:go(po(yo()))})))),cu=vo({total:yo(),validator:yo(),foundation:yo(),epoch:yo()}),lu=vo({epoch:yo(),slotIndex:yo(),slotsInEpoch:yo(),absoluteSlot:yo(),blockHeight:go(yo()),transactionCount:go(yo())}),hu=vo({slotsPerEpoch:yo(),leaderScheduleSlotOffset:yo(),warmup:lo(),firstNormalEpoch:yo(),firstNormalSlot:yo()}),du=mo(bo(),co(yo())),fu=po(_o([vo({}),bo()])),pu=vo({err:fu}),yu=fo("receivedSignature"),gu=vo({"solana-core":bo(),"feature-set":go(yo())}),mu=iu(vo({err:po(_o([vo({}),bo()])),logs:po(co(bo())),accounts:go(po(co(po(vo({executable:lo(),owner:bo(),lamports:yo(),data:co(bo()),rentEpoch:go(yo())}))))),unitsConsumed:go(yo()),returnData:go(po(vo({programId:bo(),data:wo([bo(),fo("base64")])})))})),bu=iu(vo({byIdentity:mo(bo(),co(yo())),range:vo({firstSlot:yo(),lastSlot:yo()})})),wu=nu(au),vu=nu(cu),_u=nu(lu),ku=nu(hu),xu=nu(du),Su=nu(yo()),Eu=iu(vo({total:yo(),circulating:yo(),nonCirculating:yo(),nonCirculatingAccounts:co(Ja)})),Au=vo({amount:bo(),uiAmount:po(yo()),decimals:yo(),uiAmountString:go(bo())}),Bu=iu(co(vo({address:Ja,amount:bo(),uiAmount:po(yo()),decimals:yo(),uiAmountString:go(bo())}))),Iu=iu(co(vo({pubkey:Ja,account:vo({executable:lo(),owner:Ja,lamports:yo(),data:Qa,rentEpoch:yo()})}))),Ru=vo({program:bo(),parsed:ko(),space:yo()}),Tu=iu(co(vo({pubkey:Ja,account:vo({executable:lo(),owner:Ja,lamports:yo(),data:Ru,rentEpoch:yo()})}))),Mu=iu(co(vo({lamports:yo(),address:Ja}))),Ou=vo({executable:lo(),owner:Ja,lamports:yo(),data:Qa,rentEpoch:yo()}),Cu=vo({pubkey:Ja,account:Ou}),Pu=xo(_o([ho(pn.Buffer),Ru]),_o([Ya,Ru]),(t=>Array.isArray(t)?oo(t,Qa):t)),ju=vo({executable:lo(),owner:Ja,lamports:yo(),data:Pu,rentEpoch:yo()}),Lu=vo({pubkey:Ja,account:ju}),zu=vo({state:_o([fo("active"),fo("inactive"),fo("activating"),fo("deactivating")]),active:yo(),inactive:yo()}),Uu=nu(co(vo({signature:bo(),slot:yo(),err:fu,memo:po(bo()),blockTime:go(po(yo()))}))),Nu=nu(co(vo({signature:bo(),slot:yo(),err:fu,memo:po(bo()),blockTime:go(po(yo()))}))),Hu=vo({subscription:yo(),result:ou(Ou)}),Du=vo({pubkey:Ja,account:Ou}),Fu=vo({subscription:yo(),result:ou(Du)}),qu=vo({parent:yo(),slot:yo(),root:yo()}),Ku=vo({subscription:yo(),result:qu}),$u=_o([vo({type:_o([fo("firstShredReceived"),fo("completed"),fo("optimisticConfirmation"),fo("root")]),slot:yo(),timestamp:yo()}),vo({type:fo("createdBank"),parent:yo(),slot:yo(),timestamp:yo()}),vo({type:fo("frozen"),slot:yo(),timestamp:yo(),stats:vo({numTransactionEntries:yo(),numSuccessfulTransactions:yo(),numFailedTransactions:yo(),maxTransactionsPerEntry:yo()})}),vo({type:fo("dead"),slot:yo(),timestamp:yo(),err:bo()})]),Wu=vo({subscription:yo(),result:$u}),Zu=vo({subscription:yo(),result:ou(_o([pu,yu]))}),Vu=vo({subscription:yo(),result:yo()}),Gu=vo({pubkey:bo(),gossip:po(bo()),tpu:po(bo()),rpc:po(bo()),version:po(bo())}),Xu=vo({votePubkey:bo(),nodePubkey:bo(),activatedStake:yo(),epochVoteAccount:lo(),epochCredits:co(wo([yo(),yo(),yo()])),commission:yo(),lastVote:yo(),rootSlot:po(yo())}),Ju=nu(vo({current:co(Xu),delinquent:co(Xu)})),Yu=_o([fo("processed"),fo("confirmed"),fo("finalized")]),Qu=vo({slot:yo(),confirmations:po(yo()),err:fu,confirmationStatus:go(Yu)}),tc=iu(co(po(Qu))),ec=nu(yo()),rc=vo({accountKey:Ja,writableIndexes:co(yo()),readonlyIndexes:co(yo())}),nc=vo({signatures:co(bo()),message:vo({accountKeys:co(bo()),header:vo({numRequiredSignatures:yo(),numReadonlySignedAccounts:yo(),numReadonlyUnsignedAccounts:yo()}),instructions:co(vo({accounts:co(yo()),data:bo(),programIdIndex:yo()})),recentBlockhash:bo(),addressTableLookups:go(co(rc))})}),ic=vo({pubkey:Ja,signer:lo(),writable:lo(),source:go(_o([fo("transaction"),fo("lookupTable")]))}),oc=vo({accountKeys:co(ic),signatures:co(bo())}),sc=vo({parsed:ko(),program:bo(),programId:Ja}),ac=vo({accounts:co(Ja),data:bo(),programId:Ja}),uc=xo(_o([ac,sc]),_o([vo({parsed:ko(),program:bo(),programId:bo()}),vo({accounts:co(bo()),data:bo(),programId:bo()})]),(t=>oo(t,"accounts"in t?ac:sc))),cc=vo({signatures:co(bo()),message:vo({accountKeys:co(ic),instructions:co(uc),recentBlockhash:bo(),addressTableLookups:go(po(co(rc)))})}),lc=vo({accountIndex:yo(),mint:bo(),owner:go(bo()),uiTokenAmount:Au}),hc=vo({writable:co(Ja),readonly:co(Ja)}),dc=vo({err:fu,fee:yo(),innerInstructions:go(po(co(vo({index:yo(),instructions:co(vo({accounts:co(yo()),data:bo(),programIdIndex:yo()}))})))),preBalances:co(yo()),postBalances:co(yo()),logMessages:go(po(co(bo()))),preTokenBalances:go(po(co(lc))),postTokenBalances:go(po(co(lc))),loadedAddresses:go(hc),computeUnitsConsumed:go(yo())}),fc=vo({err:fu,fee:yo(),innerInstructions:go(po(co(vo({index:yo(),instructions:co(uc)})))),preBalances:co(yo()),postBalances:co(yo()),logMessages:go(po(co(bo()))),preTokenBalances:go(po(co(lc))),postTokenBalances:go(po(co(lc))),loadedAddresses:go(hc),computeUnitsConsumed:go(yo())}),pc=_o([fo(0),fo("legacy")]),yc=vo({pubkey:bo(),lamports:yo(),postBalance:po(yo()),rewardType:po(bo()),commission:go(po(yo()))}),gc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),transactions:co(vo({transaction:nc,meta:po(dc),version:go(pc)})),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),mc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),bc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),transactions:co(vo({transaction:oc,meta:po(dc),version:go(pc)})),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),wc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),transactions:co(vo({transaction:cc,meta:po(fc),version:go(pc)})),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),vc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),transactions:co(vo({transaction:oc,meta:po(fc),version:go(pc)})),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),_c=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),rewards:go(co(yc)),blockTime:po(yo()),blockHeight:po(yo())}))),kc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),transactions:co(vo({transaction:nc,meta:po(dc)})),rewards:go(co(yc)),blockTime:po(yo())}))),xc=nu(po(vo({blockhash:bo(),previousBlockhash:bo(),parentSlot:yo(),signatures:co(bo()),blockTime:po(yo())}))),Sc=nu(po(vo({slot:yo(),meta:dc,blockTime:go(po(yo())),transaction:nc,version:go(pc)}))),Ec=nu(po(vo({slot:yo(),transaction:cc,meta:po(fc),blockTime:go(po(yo())),version:go(pc)}))),Ac=iu(vo({blockhash:bo(),feeCalculator:vo({lamportsPerSignature:yo()})})),Bc=iu(vo({blockhash:bo(),lastValidBlockHeight:yo()})),Ic=nu(co(vo({slot:yo(),numTransactions:yo(),numSlots:yo(),samplePeriodSecs:yo()}))),Rc=iu(po(vo({feeCalculator:vo({lamportsPerSignature:yo()})}))),Tc=nu(bo()),Mc=nu(bo()),Oc=vo({err:fu,logs:co(bo()),signature:bo()}),Cc=vo({result:ou(Oc),subscription:yo()}),Pc={"solana-client":"js/0.0.0-development"};class jc{constructor(t,e){let r,n,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(Xa);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${n}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,r,n,i,o){const s=r||Wa;let a;null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{const r=await new Promise(((r,i)=>{try{n(t,e,((t,e)=>r([t,e])))}catch(t){i(t)}}));return await s(...r)});const u=new(Eo())((async(r,n)=>{const o={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Pc)};try{let e,r=5,u=500;for(;e=a?await a(t,o):await s(t,o),429===e.status&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${u}ms delay...`),await Ia(u),u*=2;const c=await e.text();e.ok?n(null,c):n(new Error(`${e.status} ${e.statusText}: ${c}`))}catch(t){t instanceof Error&&n(t)}}),{});return u}(t,n,i,o,s,a),this._rpcRequest=function(t){return(e,r)=>new Promise(((n,i)=>{t.request(e,r,((t,e)=>{t?i(t):n(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new Za(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgs([t.toBase58()],r,void 0,n),o=oo(await this._rpcRequest("getBalance",i),iu(yo()));if("error"in o)throw new $a(o.error,`failed to get balance for ${t.toBase58()}`);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=oo(await this._rpcRequest("getBlockTime",[t]),nu(po(yo())));if("error"in e)throw new $a(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=oo(await this._rpcRequest("minimumLedgerSlot",[]),nu(yo()));if("error"in t)throw new $a(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=oo(await this._rpcRequest("getFirstAvailableBlock",[]),Su);if("error"in t)throw new $a(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=oo(await this._rpcRequest("getSupply",[e]),Eu);if("error"in r)throw new $a(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=oo(await this._rpcRequest("getTokenSupply",r),iu(Au));if("error"in n)throw new $a(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=oo(await this._rpcRequest("getTokenAccountBalance",r),iu(Au));if("error"in n)throw new $a(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(t,e,r){const{commitment:n,config:i}=tu(r);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=oo(await this._rpcRequest("getTokenAccountsByOwner",s),Iu);if("error"in a)throw new $a(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=oo(await this._rpcRequest("getTokenAccountsByOwner",i),Tu);if("error"in o)throw new $a(o.error,`failed to get token accounts owned by account ${t.toBase58()}`);return o.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=oo(await this._rpcRequest("getLargestAccounts",r),Mu);if("error"in n)throw new $a(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=oo(await this._rpcRequest("getTokenLargestAccounts",r),Bu);if("error"in n)throw new $a(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgs([t.toBase58()],r,"base64",n),o=oo(await this._rpcRequest("getAccountInfo",i),iu(po(Ou)));if("error"in o)throw new $a(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getParsedAccountInfo(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=oo(await this._rpcRequest("getAccountInfo",i),iu(po(ju)));if("error"in o)throw new $a(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:n}=tu(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],r,"jsonParsed",n),s=oo(await this._rpcRequest("getMultipleAccounts",o),iu(co(po(ju))));if("error"in s)throw new $a(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:n}=tu(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],r,"base64",n),s=oo(await this._rpcRequest("getMultipleAccounts",o),iu(co(po(Ou))));if("error"in s)throw new $a(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:n,config:i}=tu(e),o=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),s=oo(await this._rpcRequest("getStakeActivation",o),nu(zu));if("error"in s)throw new $a(s.error,`failed to get Stake Activation ${t.toBase58()}`);return s.result}async getProgramAccounts(t,e){const{commitment:r,config:n}=tu(e),{encoding:i,...o}=n||{},s=this._buildArgs([t.toBase58()],r,i||"base64",o),a=oo(await this._rpcRequest("getProgramAccounts",s),nu(co(Cu)));if("error"in a)throw new $a(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),o=oo(await this._rpcRequest("getProgramAccounts",i),nu(co(Lu)));if("error"in o)throw new $a(o.error,`failed to get accounts owned by program ${t.toBase58()}`);return o.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=Hi().decode(r)}catch(t){throw new Error("signature must be base58 encoded: "+r)}return ya(64===n.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n,i=!1;const o=new Promise(((o,s)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const n={context:e,value:t};o({__type:wa.PROCESSED,response:n})}),t);const a=new Promise((t=>{null==r?t():n=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(e);if(i)return;if(null==r)return;const{context:n,value:u}=r;if(null!=u)if(u?.err)s(u.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,o({__type:wa.PROCESSED,response:{context:n,value:u}})}})()}catch(t){s(t)}}));return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i=!1;const o=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await n();if(!i){for(;t<=r;){if(await Ia(1e3),i)return;if(t=await n(),i)return}e({__type:wa.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),u=this.getCancellationPromise(e);let c;try{const t=await Promise.race([u,a,o]);if(t.__type!==wa.PROCESSED)throw new sa(n);c=t.response}finally{i=!0,s()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((e=>{let o=i,a=null;const u=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return a=e.slot,i?.nonce}catch(t){return o}};(async()=>{if(o=await u(),!s)for(;;){if(i!==o)return void e({__type:wa.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Ia(2e3),s)return;if(o=await u(),s)return}})()})),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,c,a]);if(e.__type===wa.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await Ia(400)}if(!n?.value)throw new ua(o);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new ua(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new ua(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new ua(o)}h={context:n.context,value:{err:n.value.err}}}}}finally{s=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const n=new Promise((e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:wa.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,n]);if(t.__type!==wa.PROCESSED)throw new aa(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(r),i()}return s}async getClusterNodes(){const t=oo(await this._rpcRequest("getClusterNodes",[]),nu(co(Gu)));if("error"in t)throw new $a(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=oo(await this._rpcRequest("getVoteAccounts",e),Ju);if("error"in r)throw new $a(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getSlot",n),nu(yo()));if("error"in i)throw new $a(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getSlotLeader",n),nu(bo()));if("error"in i)throw new $a(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const r=[t,e],n=oo(await this._rpcRequest("getSlotLeaders",r),nu(co(Ja)));if("error"in n)throw new $a(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);return ya(1===n.length),{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=oo(await this._rpcRequest("getSignatureStatuses",r),tc);if("error"in n)throw new $a(n.error,"failed to get signature status");return n.result}async getTransactionCount(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getTransactionCount",n),nu(yo()));if("error"in i)throw new $a(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=oo(await this._rpcRequest("getInflationGovernor",e),wu);if("error"in r)throw new $a(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:n,config:i}=tu(r),o=this._buildArgs([t.map((t=>t.toBase58()))],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=oo(await this._rpcRequest("getInflationReward",o),uu);if("error"in s)throw new $a(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const t=oo(await this._rpcRequest("getInflationRate",[]),vu);if("error"in t)throw new $a(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getEpochInfo",n),_u);if("error"in i)throw new $a(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=oo(await this._rpcRequest("getEpochSchedule",[]),ku);if("error"in t)throw new $a(t.error,"failed to get epoch schedule");const e=t.result;return new qa(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=oo(await this._rpcRequest("getLeaderSchedule",[]),xu);if("error"in t)throw new $a(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=oo(await this._rpcRequest("getMinimumBalanceForRentExemption",r),ec);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=oo(await this._rpcRequest("getRecentBlockhash",e),Ac);if("error"in r)throw new $a(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=oo(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Ic);if("error"in e)throw new $a(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=oo(await this._rpcRequest("getFeeCalculatorForBlockhash",r),Rc);if("error"in n)throw new $a(n.error,"failed to get fee calculator");const{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(t,e){const r=Ys(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=oo(await this._rpcRequest("getFeeForMessage",n),iu(po(yo())));if("error"in i)throw new $a(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getLatestBlockhash",n),Bc);if("error"in i)throw new $a(i.error,"failed to get latest blockhash");return i.result}async getVersion(){const t=oo(await this._rpcRequest("getVersion",[]),nu(gu));if("error"in t)throw new $a(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=oo(await this._rpcRequest("getGenesisHash",[]),nu(bo()));if("error"in t)throw new $a(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=oo(o,bc);if("error"in t)throw t.error;return t.result}case"none":{const t=oo(o,mc);if("error"in t)throw t.error;return t.result}default:{const t=oo(o,gc);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:su(r,t.message)},version:r})))}:null}}}catch(t){throw new $a(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=oo(o,vc);if("error"in t)throw t.error;return t.result}case"none":{const t=oo(o,_c);if("error"in t)throw t.error;return t.result}default:{const t=oo(o,wc);if("error"in t)throw t.error;return t.result}}}catch(t){throw new $a(t,"failed to get block")}}async getBlockHeight(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,void 0,r),i=oo(await this._rpcRequest("getBlockHeight",n),nu(yo()));if("error"in i)throw new $a(i.error,"failed to get block height information");return i.result}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=oo(await this._rpcRequest("getBlockProduction",n),bu);if("error"in i)throw new $a(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),o=oo(await this._rpcRequest("getTransaction",i),Sc);if("error"in o)throw new $a(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:su(s.version,s.transaction.message)}}:s}async getParsedTransaction(t,e){const{commitment:r,config:n}=tu(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),o=oo(await this._rpcRequest("getTransaction",i),Ec);if("error"in o)throw new $a(o.error,"failed to get transaction");return o.result}async getParsedTransactions(t,e){const{commitment:r,config:n}=tu(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oo(t,Ec);if("error"in e)throw new $a(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:n}=tu(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oo(t,Sc);if("error"in e)throw new $a(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:su(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=oo(await this._rpcRequest("getConfirmedBlock",r),kc);if("error"in n)throw new $a(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");const o={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const r=new ma(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...o,transactions:o.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:ka.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=oo(await this._rpcRequest("getBlocks",n),nu(co(yo())));if("error"in i)throw new $a(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=oo(await this._rpcRequest("getBlock",r),xc);if("error"in n)throw new $a(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=oo(await this._rpcRequest("getConfirmedBlock",r),xc);if("error"in n)throw new $a(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=oo(await this._rpcRequest("getConfirmedTransaction",r),Sc);if("error"in n)throw new $a(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const o=new ma(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:ka.populate(o,s)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=oo(await this._rpcRequest("getConfirmedTransaction",r),Ec);if("error"in n)throw new $a(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=oo(t,Ec);if("error"in e)throw new $a(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let o=await this.getSlot("finalized");for(;!("before"in n||++r>o);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=oo(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),Uu);if("error"in i)throw new $a(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=oo(await this._rpcRequest("getSignaturesForAddress",n),Nu);if("error"in i)throw new $a(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=new Va({key:t,state:Va.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=Ca.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=oo(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Tc);if("error"in r)throw new $a(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Ia(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Ia(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=tu(t),n=this._buildArgs([],e,"base64",r),i=oo(await this._rpcRequest("getStakeMinimumDelegation",n),iu(yo()));if("error"in i)throw new $a(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,r){if("message"in t){const n=t.serialize(),i=pn.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment);const s=[i,o],a=oo(await this._rpcRequest("simulateTransaction",s),mu);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let n;if(t instanceof ka){let e=t;n=new ka,n.feePayer=e.feePayer,n.instructions=t.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures}else n=ka.populate(t),n._message=n._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(n.nonceInfo&&i)n.sign(...i);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=e.lastValidBlockHeight,n.recentBlockhash=e.blockhash,!i)break;if(n.sign(...i),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const o=n._compile(),s=o.serialize(),a=n._serialize(s).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:o.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}i&&(u.sigVerify=!0);const c=[a,u],l=oo(await this._rpcRequest("simulateTransaction",c),mu);if("error"in l){let t;if("data"in l.error&&(t=l.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(l.error.message,r)}throw new Ka("failed to simulate transaction: "+l.error.message,t)}return l.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,r)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(t.nonceInfo)t.sign(...n);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...n),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Ys(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[t,r],s=oo(await this._rpcRequest("sendTransaction",o),Mc);if("error"in s){let t;throw"data"in s.error&&(t=s.error.data.logs),new Ka("failed to send transaction: "+s.error.message,t)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){var r;const n=this._subscriptionHashByClientSubscriptionId[t];if(null==n)return()=>{};const i=(r=this._subscriptionStateChangeCallbacksByHash)[n]||(r[n]=new Set);return i.add(e),()=>{i.delete(e),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(i,n);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(t){console.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=oo(t,Hu);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=Da([t.method,e]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];ya(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=oo(t,Fu);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=oo(t,Cc);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=oo(t,Ku);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=oo(t,Wu);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=oo(t,Zu);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],n,void 0,i),s=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(s)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=oo(t,Vu);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Lc{constructor(t){this._keypair=void 0,this._keypair=t??Zs()}static generate(){return new Lc(Zs())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),n=Vs(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw new Error("provided secretKey is invalid")}return new Lc({publicKey:r,secretKey:t})}static fromSeed(t){const e=Vs(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Lc({publicKey:e,secretKey:r})}get publicKey(){return new ia(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:Xi.n_([Xi.Jq("instruction"),Pa("recentSlot"),Xi.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Xi.n_([Xi.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Xi.n_([Xi.Jq("instruction"),Pa(),Xi.A9(la(),Xi.cv(Xi.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Xi.n_([Xi.Jq("instruction")])},CloseLookupTable:{index:4,layout:Xi.n_([Xi.Jq("instruction")])}});new ia("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Xi.n_([Xi.u8("instruction"),Xi.Jq("units"),Xi.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Xi.n_([Xi.u8("instruction"),Xi.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Xi.n_([Xi.u8("instruction"),Xi.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Xi.n_([Xi.u8("instruction"),Pa("microLamports")])}});new ia("ComputeBudget111111111111111111111111111111");const zc=Xi.n_([Xi.u8("numSignatures"),Xi.u8("padding"),Xi.KB("signatureOffset"),Xi.KB("signatureInstructionIndex"),Xi.KB("publicKeyOffset"),Xi.KB("publicKeyInstructionIndex"),Xi.KB("messageDataOffset"),Xi.KB("messageDataSize"),Xi.KB("messageInstructionIndex")]);class Uc{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:i}=t;ya(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),ya(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=zc.span,s=o+e.length,a=s+n.length,u=pn.Buffer.alloc(a+r.length),c=null==i?65535:i;return zc.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(e,o),u.fill(n,s),u.fill(r,a),new _a({keys:[],programId:Uc.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ya(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Lc.fromSecretKey(e),i=t.publicKey.toBytes(),o=Xs(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}Uc.programId=new ia("Ed25519SigVerify111111111111111111111111111"),Ws.hmacSha256Sync=(t,...e)=>{const r=Wo.create(Vi,t);return e.forEach((t=>r.update(t))),r.digest()};const Nc=(t,e)=>function(t,e,r={}){const{seed:n,m:i,d:o}=function(t,e,r){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const n=Is(t),i=Hs(e),o=[qs(i),Fs(n)];if(null!=r){!0===r&&(r=Ws.randomBytes(ns));const t=Is(r);if(t.length!==ns)throw new Error(`sign: Expected ${ns} bytes of extra data`);o.push(t)}return{seed:bs(...o),m:Ds(n),d:i}}(t,e,r.extraEntropy),s=new Ls(32,is);let a;for(s.reseedSync(n);!(a=Ns(s.generateSync(),i,o,r.canonical));)s.reseedSync();return function(t,e){const{sig:r,recovery:n}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}(a,r)}(t,e,{der:!1,recovered:!0});Ws.isValidPrivateKey;const Hc=Xi.n_([Xi.u8("numSignatures"),Xi.KB("signatureOffset"),Xi.u8("signatureInstructionIndex"),Xi.KB("ethAddressOffset"),Xi.u8("ethAddressInstructionIndex"),Xi.KB("messageDataOffset"),Xi.KB("messageDataSize"),Xi.u8("messageInstructionIndex"),Xi.Ik(20,"ethAddress"),Xi.Ik(64,"signature"),Xi.u8("recoveryId")]);class Dc{constructor(){}static publicKeyToEthAddress(t){ya(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return pn.Buffer.from(qo(Ys(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:o}=t;return Dc.createInstructionWithEthAddress({ethAddress:Dc.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=t;let s;s="string"==typeof e?e.startsWith("0x")?pn.Buffer.from(e.substr(2),"hex"):pn.Buffer.from(e,"hex"):e,ya(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,u=a+n.length+1,c=pn.Buffer.alloc(Hc.span+r.length);return Hc.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:Ys(n),ethAddress:Ys(s),recoveryId:i},c),c.fill(Ys(r),Hc.span),new _a({keys:[],programId:Dc.programId,data:c})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ya(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Ys(e),i=function(t,e=!1){return ps.fromPrivateKey(t).toRawBytes(e)}(t,!1).slice(1),o=pn.Buffer.from(qo(Ys(r))),[s,a]=Nc(o,t);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,recoveryId:a,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}Dc.programId=new ia("KeccakSecp256k11111111111111111111111111111");const Fc=new ia("StakeConfig11111111111111111111111111111111");class qc{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}qc.default=new qc(0,0,ia.default);const Kc=Object.freeze({Initialize:{index:0,layout:Xi.n_([Xi.Jq("instruction"),((t="authorized")=>Xi.n_([la("staker"),la("withdrawer")],t))(),((t="lockup")=>Xi.n_([Xi.gM("unixTimestamp"),Xi.gM("epoch"),la("custodian")],t))()])},Authorize:{index:1,layout:Xi.n_([Xi.Jq("instruction"),la("newAuthorized"),Xi.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Xi.n_([Xi.Jq("instruction")])},Split:{index:3,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("lamports")])},Withdraw:{index:4,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("lamports")])},Deactivate:{index:5,layout:Xi.n_([Xi.Jq("instruction")])},Merge:{index:7,layout:Xi.n_([Xi.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Xi.n_([Xi.Jq("instruction"),la("newAuthorized"),Xi.Jq("stakeAuthorizationType"),ha("authoritySeed"),la("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class $c{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||qc.default,o=Ra(Kc.Initialize,{authorized:{staker:Ys(r.staker.toBuffer()),withdrawer:Ys(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Ys(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new _a(s)}static createAccountWithSeed(t){const e=new ka;e.add(La.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new ka;e.add(La.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=Ra(Kc.Delegate);return(new ka).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:Fc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=t,s=Ra(Kc.Authorize,{newAuthorized:Ys(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new ka).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,u=Ra(Kc.AuthorizeWithSeed,{newAuthorized:Ys(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:Ys(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:xa,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new ka).add({keys:c,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,o=Ra(Kc.Split,{lamports:i});return new _a({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new ka;return e.add(La.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=t,a=new ka;return a.add(La.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=Ra(Kc.Merge);return(new ka).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=t,s=Ra(Kc.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new ka).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=Ra(Kc.Deactivate);return(new ka).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}$c.programId=new ia("Stake11111111111111111111111111111111111111"),$c.space=200;const Wc=Object.freeze({InitializeAccount:{index:0,layout:Xi.n_([Xi.Jq("instruction"),((t="voteInit")=>Xi.n_([la("nodePubkey"),la("authorizedVoter"),la("authorizedWithdrawer"),Xi.u8("commission")],t))()])},Authorize:{index:1,layout:Xi.n_([Xi.Jq("instruction"),la("newAuthorized"),Xi.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Xi.n_([Xi.Jq("instruction"),Xi.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Xi.n_([Xi.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>Xi.n_([Xi.Jq("voteAuthorizationType"),la("currentAuthorityDerivedKeyOwnerPubkey"),ha("currentAuthorityDerivedKeySeed"),la("newAuthorized")],t))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Zc{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=Ra(Wc.InitializeAccount,{voteInit:{nodePubkey:Ys(n.nodePubkey.toBuffer()),authorizedVoter:Ys(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Ys(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new _a(o)}static createAccount(t){const e=new ka;return e.add(La.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,o=Ra(Wc.Authorize,{newAuthorized:Ys(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ka).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=Ra(Wc.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ys(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Ys(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:xa,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new ka).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,o=Ra(Wc.Withdraw,{lamports:n}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ka).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Zc.withdraw(t)}}Zc.programId=new ia("Vote111111111111111111111111111111111111111"),Zc.space=3731,new ia("Va1idator1nfo111111111111111111111111111111"),vo({name:bo(),website:go(bo()),details:go(bo()),keybaseUsername:go(bo())}),new ia("Vote111111111111111111111111111111111111111"),Xi.n_([la("nodePubkey"),la("authorizedWithdrawer"),Xi.u8("commission"),Xi._O(),Xi.A9(Xi.n_([Xi._O("slot"),Xi.Jq("confirmationCount")]),Xi.cv(Xi.Jq(),-8),"votes"),Xi.u8("rootSlotValid"),Xi._O("rootSlot"),Xi._O(),Xi.A9(Xi.n_([Xi._O("epoch"),la("authorizedVoter")]),Xi.cv(Xi.Jq(),-8),"authorizedVoters"),Xi.n_([Xi.A9(Xi.n_([la("authorizedPubkey"),Xi._O("epochOfLastAuthorizedSwitch"),Xi._O("targetEpoch")]),32,"buf"),Xi._O("idx"),Xi.u8("isEmpty")],"priorVoters"),Xi._O(),Xi.A9(Xi.n_([Xi._O("epoch"),Xi._O("credits"),Xi._O("prevCredits")]),Xi.cv(Xi.Jq(),-8),"epochCredits"),Xi.n_([Xi._O("slot"),Xi._O("timestamp")],"lastTimestamp")]);var Vc=__webpack_require__("../node_modules/js-sha256/src/sha256.js");function Gc(t){let e=t.length;for(;--e>=0;)t[e]=0}const Xc=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Jc=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Qc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tl=new Array(576);Gc(tl);const el=new Array(60);Gc(el);const rl=new Array(512);Gc(rl);const nl=new Array(256);Gc(nl);const il=new Array(29);Gc(il);const ol=new Array(30);function sl(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let al,ul,cl;function ll(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Gc(ol);const hl=t=>t<256?rl[t]:rl[256+(t>>>7)],dl=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},fl=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,dl(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},pl=(t,e,r)=>{fl(t,r[2*e],r[2*e+1])},yl=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},gl=(t,e,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=yl(n[e]++,e))}},ml=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bl=t=>{t.bi_valid>8?dl(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},wl=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},vl=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&wl(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!wl(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},_l=(t,e,r)=>{let n,i,o,s,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?pl(t,i,e):(o=nl[i],pl(t,o+256+1,e),s=Xc[o],0!==s&&(i-=il[o],fl(t,i,s)),n--,o=hl(n),pl(t,o,r),s=Jc[o],0!==s&&(n-=ol[o],fl(t,n,s)))}while(a<t.sym_next);pl(t,256,e)},kl=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,u,c=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)vl(t,r,s);u=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],vl(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,r[2*u]=r[2*s]+r[2*a],t.depth[u]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,r[2*s+1]=r[2*a+1]=u,t.heap[1]=u++,vl(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let c,l,h,d,f,p,y=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)l=t.heap[c],d=r[2*r[2*l+1]+1]+1,d>u&&(d=u,y++),r[2*l+1]=d,l>n||(t.bl_count[d]++,f=0,l>=a&&(f=s[l-a]),p=r[2*l],t.opt_len+=p*(d+f),o&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==y){do{for(d=u-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[u]--,y-=2}while(y>0);for(d=u;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--c],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),l--)}})(t,e),gl(r,c,t.bl_count)},xl=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<u&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))},Sl=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<u&&i===s)){if(a<c)do{pl(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(pl(t,i,t.bl_tree),a--),pl(t,16,t.bl_tree),fl(t,a-3,2)):a<=10?(pl(t,17,t.bl_tree),fl(t,a-3,3)):(pl(t,18,t.bl_tree),fl(t,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}};let El=!1;const Al=(t,e,r,n)=>{fl(t,0+(n?1:0),3),bl(t),dl(t,r),dl(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Bl={_tr_init:t=>{El||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(il[n]=r,t=0;t<1<<Xc[n];t++)nl[r++]=n;for(nl[r-1]=n,i=0,n=0;n<16;n++)for(ol[n]=i,t=0;t<1<<Jc[n];t++)rl[i++]=n;for(i>>=7;n<30;n++)for(ol[n]=i<<7,t=0;t<1<<Jc[n]-7;t++)rl[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)tl[2*t+1]=8,t++,o[8]++;for(;t<=255;)tl[2*t+1]=9,t++,o[9]++;for(;t<=279;)tl[2*t+1]=7,t++,o[7]++;for(;t<=287;)tl[2*t+1]=8,t++,o[8]++;for(gl(tl,287,o),t=0;t<30;t++)el[2*t+1]=5,el[2*t]=yl(t,5);al=new sl(tl,Xc,257,286,15),ul=new sl(el,Jc,0,30,15),cl=new sl(new Array(0),Yc,0,19,7)})(),El=!0),t.l_desc=new ll(t.dyn_ltree,al),t.d_desc=new ll(t.dyn_dtree,ul),t.bl_desc=new ll(t.bl_tree,cl),t.bi_buf=0,t.bi_valid=0,ml(t)},_tr_stored_block:Al,_tr_flush_block:(t,e,r,n)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),kl(t,t.l_desc),kl(t,t.d_desc),s=(t=>{let e;for(xl(t,t.dyn_ltree,t.l_desc.max_code),xl(t,t.dyn_dtree,t.d_desc.max_code),kl(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Qc[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?Al(t,e,r,n):4===t.strategy||o===i?(fl(t,2+(n?1:0),3),_l(t,tl,el)):(fl(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(fl(t,e-257,5),fl(t,r-1,5),fl(t,n-4,4),i=0;i<n;i++)fl(t,t.bl_tree[2*Qc[i]+1],3);Sl(t,t.dyn_ltree,e-1),Sl(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),_l(t,t.dyn_ltree,t.dyn_dtree)),ml(t),n&&bl(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(nl[r]+256+1)]++,t.dyn_dtree[2*hl(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{fl(t,2,3),pl(t,256,tl),(t=>{16===t.bi_valid?(dl(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Il=(t,e,r,n)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Rl=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var Tl=(t,e,r,n)=>{const i=Rl,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},Ml={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ol={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Cl,_tr_stored_block:Pl,_tr_flush_block:jl,_tr_tally:Ll,_tr_align:zl}=Bl,{Z_NO_FLUSH:Ul,Z_PARTIAL_FLUSH:Nl,Z_FULL_FLUSH:Hl,Z_FINISH:Dl,Z_BLOCK:Fl,Z_OK:ql,Z_STREAM_END:Kl,Z_STREAM_ERROR:$l,Z_DATA_ERROR:Wl,Z_BUF_ERROR:Zl,Z_DEFAULT_COMPRESSION:Vl,Z_FILTERED:Gl,Z_HUFFMAN_ONLY:Xl,Z_RLE:Jl,Z_FIXED:Yl,Z_DEFAULT_STRATEGY:Ql,Z_UNKNOWN:th,Z_DEFLATED:eh}=Ol,rh=286,nh=30,ih=19,oh=2*rh+1,sh=15,ah=258,uh=262,ch=42,lh=113,hh=666,dh=(t,e)=>(t.msg=Ml[e],e),fh=t=>2*t-(t>4?9:0),ph=t=>{let e=t.length;for(;--e>=0;)t[e]=0},yh=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let gh=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const mh=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},bh=(t,e)=>{jl(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,mh(t.strm)},wh=(t,e)=>{t.pending_buf[t.pending++]=e},vh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},_h=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Il(t.adler,e,i,r):2===t.state.wrap&&(t.adler=Tl(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},kh=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-uh?t.strstart-(t.w_size-uh):0,c=t.window,l=t.w_mask,h=t.prev,d=t.strstart+ah;let f=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,c[r+s]===p&&c[r+s-1]===f&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<d);if(n=ah-(d-o),o=d-ah,n>s){if(t.match_start=e,s=n,n>=a)break;f=c[o+s-1],p=c[o+s]}}}while((e=h[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead},xh=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-uh)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),yh(t),n+=e),0===t.strm.avail_in)break;if(r=_h(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=gh(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=gh(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<uh&&0!==t.strm.avail_in)},Sh=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==Dl||e===Ul||r!==n+t.strm.avail_in))break;s=e===Dl&&r===n+t.strm.avail_in?1:0,Pl(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,mh(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(_h(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==Ul&&e!==Dl&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(_h(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===Dl)&&e!==Ul&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,s=e===Dl&&0===t.strm.avail_in&&r===n?1:0,Pl(t,t.block_start,r,s),t.block_start+=r,mh(t.strm)),s?3:1)},Eh=(t,e)=>{let r,n;for(;;){if(t.lookahead<uh){if(xh(t),t.lookahead<uh&&e===Ul)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-uh&&(t.match_length=kh(t,r)),t.match_length>=3)if(n=Ll(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=gh(t,t.ins_h,t.window[t.strstart+1]);else n=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(bh(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Dl?(bh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(bh(t,!1),0===t.strm.avail_out)?1:2},Ah=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<uh){if(xh(t),t.lookahead<uh&&e===Ul)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-uh&&(t.match_length=kh(t,r),t.match_length<=5&&(t.strategy===Gl||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Ll(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=gh(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(bh(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Ll(t,0,t.window[t.strstart-1]),n&&bh(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ll(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Dl?(bh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(bh(t,!1),0===t.strm.avail_out)?1:2};function Bh(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Ih=[new Bh(0,0,0,0,Sh),new Bh(4,4,8,4,Eh),new Bh(4,5,16,8,Eh),new Bh(4,6,32,32,Eh),new Bh(4,4,16,16,Ah),new Bh(8,16,32,32,Ah),new Bh(8,16,128,128,Ah),new Bh(8,32,128,256,Ah),new Bh(32,128,258,1024,Ah),new Bh(32,258,258,4096,Ah)];function Rh(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=eh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*oh),this.dyn_dtree=new Uint16Array(2*(2*nh+1)),this.bl_tree=new Uint16Array(2*(2*ih+1)),ph(this.dyn_ltree),ph(this.dyn_dtree),ph(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(sh+1),this.heap=new Uint16Array(2*rh+1),ph(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*rh+1),ph(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Th=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ch&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==lh&&e.status!==hh?1:0},Mh=t=>{if(Th(t))return dh(t,$l);t.total_in=t.total_out=0,t.data_type=th;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ch:lh,t.adler=2===e.wrap?0:1,e.last_flush=-2,Cl(e),ql},Oh=t=>{const e=Mh(t);return e===ql&&(t=>{t.window_size=2*t.w_size,ph(t.head),t.max_lazy_match=Ih[t.level].max_lazy,t.good_match=Ih[t.level].good_length,t.nice_match=Ih[t.level].nice_length,t.max_chain_length=Ih[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},Ch=(t,e,r,n,i,o)=>{if(!t)return $l;let s=1;if(e===Vl&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==eh||n<8||n>15||e<0||e>9||o<0||o>Yl||8===n&&1!==s)return dh(t,$l);8===n&&(n=9);const a=new Rh;return t.state=a,a.strm=t,a.status=ch,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=r,Oh(t)};var Ph={deflateInit:(t,e)=>Ch(t,e,eh,15,8,Ql),deflateInit2:Ch,deflateReset:Oh,deflateResetKeep:Mh,deflateSetHeader:(t,e)=>Th(t)||2!==t.state.wrap?$l:(t.state.gzhead=e,ql),deflate:(t,e)=>{if(Th(t)||e>Fl||e<0)return t?dh(t,$l):$l;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===hh&&e!==Dl)return dh(t,0===t.avail_out?Zl:$l);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(mh(t),0===t.avail_out)return r.last_flush=-1,ql}else if(0===t.avail_in&&fh(e)<=fh(n)&&e!==Dl)return dh(t,Zl);if(r.status===hh&&0!==t.avail_in)return dh(t,Zl);if(r.status===ch&&0===r.wrap&&(r.status=lh),r.status===ch){let e=eh+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=Xl||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,vh(r,e),0!==r.strstart&&(vh(r,t.adler>>>16),vh(r,65535&t.adler)),t.adler=1,r.status=lh,mh(t),0!==r.pending)return r.last_flush=-1,ql}if(57===r.status)if(t.adler=0,wh(r,31),wh(r,139),wh(r,8),r.gzhead)wh(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),wh(r,255&r.gzhead.time),wh(r,r.gzhead.time>>8&255),wh(r,r.gzhead.time>>16&255),wh(r,r.gzhead.time>>24&255),wh(r,9===r.level?2:r.strategy>=Xl||r.level<2?4:0),wh(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(wh(r,255&r.gzhead.extra.length),wh(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Tl(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(wh(r,0),wh(r,0),wh(r,0),wh(r,0),wh(r,0),wh(r,9===r.level?2:r.strategy>=Xl||r.level<2?4:0),wh(r,3),r.status=lh,mh(t),0!==r.pending)return r.last_flush=-1,ql;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,mh(t),0!==r.pending)return r.last_flush=-1,ql;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-n,n)),mh(t),0!==r.pending)return r.last_flush=-1,ql;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,wh(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-n,n)),mh(t),0!==r.pending)return r.last_flush=-1,ql;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,wh(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Tl(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(mh(t),0!==r.pending))return r.last_flush=-1,ql;wh(r,255&t.adler),wh(r,t.adler>>8&255),t.adler=0}if(r.status=lh,mh(t),0!==r.pending)return r.last_flush=-1,ql}if(0!==t.avail_in||0!==r.lookahead||e!==Ul&&r.status!==hh){let n=0===r.level?Sh(r,e):r.strategy===Xl?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(xh(t),0===t.lookahead)){if(e===Ul)return 1;break}if(t.match_length=0,r=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(bh(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Dl?(bh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(bh(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===Jl?((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=ah){if(xh(t),t.lookahead<=ah&&e===Ul)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+ah;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=ah-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Ll(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Ll(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(bh(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Dl?(bh(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(bh(t,!1),0===t.strm.avail_out)?1:2})(r,e):Ih[r.level].func(r,e);if(3!==n&&4!==n||(r.status=hh),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),ql;if(2===n&&(e===Nl?zl(r):e!==Fl&&(Pl(r,0,0,!1),e===Hl&&(ph(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),mh(t),0===t.avail_out))return r.last_flush=-1,ql}return e!==Dl?ql:r.wrap<=0?Kl:(2===r.wrap?(wh(r,255&t.adler),wh(r,t.adler>>8&255),wh(r,t.adler>>16&255),wh(r,t.adler>>24&255),wh(r,255&t.total_in),wh(r,t.total_in>>8&255),wh(r,t.total_in>>16&255),wh(r,t.total_in>>24&255)):(vh(r,t.adler>>>16),vh(r,65535&t.adler)),mh(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ql:Kl)},deflateEnd:t=>{if(Th(t))return $l;const e=t.state.status;return t.state=null,e===lh?dh(t,Wl):ql},deflateSetDictionary:(t,e)=>{let r=e.length;if(Th(t))return $l;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==ch||n.lookahead)return $l;if(1===i&&(t.adler=Il(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(ph(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,xh(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=gh(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,xh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,ql},deflateInfo:"pako deflate (from Nodeca project)"};const jh=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Lh={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)jh(r,e)&&(t[e]=r[e])}}return t},flattenChunks:t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r}};let zh=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){zh=!1}const Uh=new Uint8Array(256);for(let t=0;t<256;t++)Uh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Uh[254]=Uh[254]=1;var Nh={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},buf2string:(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let s=Uh[e];if(s>4)o[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<r;)e=e<<6|63&t[n++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&zh)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Uh[t[r]]>e?r:e}},Hh=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Dh=Object.prototype.toString,{Z_NO_FLUSH:Fh,Z_SYNC_FLUSH:qh,Z_FULL_FLUSH:Kh,Z_FINISH:$h,Z_OK:Wh,Z_STREAM_END:Zh,Z_DEFAULT_COMPRESSION:Vh,Z_DEFAULT_STRATEGY:Gh,Z_DEFLATED:Xh}=Ol;function Jh(t){this.options=Lh.assign({level:Vh,method:Xh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Gh},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hh,this.strm.avail_out=0;let r=Ph.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Wh)throw new Error(Ml[r]);if(e.header&&Ph.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nh.string2buf(e.dictionary):"[object ArrayBuffer]"===Dh.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Ph.deflateSetDictionary(this.strm,t),r!==Wh)throw new Error(Ml[r]);this._dict_set=!0}}function Yh(t,e){const r=new Jh(e);if(r.push(t,!0),r.err)throw r.msg||Ml[r.err];return r.result}Jh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?$h:Fh,"string"==typeof t?r.input=Nh.string2buf(t):"[object ArrayBuffer]"===Dh.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===qh||o===Kh)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Ph.deflate(r,o),i===Zh)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Ph.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wh;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Jh.prototype.onData=function(t){this.chunks.push(t)},Jh.prototype.onEnd=function(t){t===Wh&&(this.result=Lh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Qh={Deflate:Jh,deflate:Yh,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Yh(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Yh(t,e)},constants:Ol};const td=16209;var ed=function(t,e){let r,n,i,o,s,a,u,c,l,h,d,f,p,y,g,m,b,w,v,_,k,x,S,E;const A=t.state;r=t.next_in,S=t.input,n=r+(t.avail_in-5),i=t.next_out,E=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=A.dmax,u=A.wsize,c=A.whave,l=A.wnext,h=A.window,d=A.hold,f=A.bits,p=A.lencode,y=A.distcode,g=(1<<A.lenbits)-1,m=(1<<A.distbits)-1;t:do{f<15&&(d+=S[r++]<<f,f+=8,d+=S[r++]<<f,f+=8),b=p[d&g];e:for(;;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,0===w)E[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){A.mode=16191;break t}t.msg="invalid literal/length code",A.mode=td;break t}v=65535&b,w&=15,w&&(f<w&&(d+=S[r++]<<f,f+=8),v+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=S[r++]<<f,f+=8,d+=S[r++]<<f,f+=8),b=y[d&m];r:for(;;){if(w=b>>>24,d>>>=w,f-=w,w=b>>>16&255,!(16&w)){if(0==(64&w)){b=y[(65535&b)+(d&(1<<w)-1)];continue r}t.msg="invalid distance code",A.mode=td;break t}if(_=65535&b,w&=15,f<w&&(d+=S[r++]<<f,f+=8,f<w&&(d+=S[r++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",A.mode=td;break t}if(d>>>=w,f-=w,w=i-o,_>w){if(w=_-w,w>c&&A.sane){t.msg="invalid distance too far back",A.mode=td;break t}if(k=0,x=h,0===l){if(k+=u-w,w<v){v-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}}else if(l<w){if(k+=u+l-w,w-=l,w<v){v-=w;do{E[i++]=h[k++]}while(--w);if(k=0,l<v){w=l,v-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}}}else if(k+=l-w,w<v){v-=w;do{E[i++]=h[k++]}while(--w);k=i-_,x=E}for(;v>2;)E[i++]=x[k++],E[i++]=x[k++],E[i++]=x[k++],v-=3;v&&(E[i++]=x[k++],v>1&&(E[i++]=x[k++]))}else{k=i-_;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],v-=3}while(v>2);v&&(E[i++]=E[k++],v>1&&(E[i++]=E[k++]))}break}}break}}while(r<n&&i<s);v=f>>3,r-=v,f-=v<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),A.hold=d,A.bits=f};const rd=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),id=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),od=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var sd=(t,e,r,n,i,o,s,a)=>{const u=a.bits;let c,l,h,d,f,p,y=0,g=0,m=0,b=0,w=0,v=0,_=0,k=0,x=0,S=0,E=null;const A=new Uint16Array(16),B=new Uint16Array(16);let I,R,T,M=null;for(y=0;y<=15;y++)A[y]=0;for(g=0;g<n;g++)A[e[r+g]]++;for(w=u,b=15;b>=1&&0===A[b];b--);if(w>b&&(w=b),0===b)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(m=1;m<b&&0===A[m];m++);for(w<m&&(w=m),k=1,y=1;y<=15;y++)if(k<<=1,k-=A[y],k<0)return-1;if(k>0&&(0===t||1!==b))return-1;for(B[1]=0,y=1;y<15;y++)B[y+1]=B[y]+A[y];for(g=0;g<n;g++)0!==e[r+g]&&(s[B[e[r+g]]++]=g);if(0===t?(E=M=s,p=20):1===t?(E=rd,M=nd,p=257):(E=id,M=od,p=0),S=0,g=0,y=m,f=o,v=w,_=0,h=-1,x=1<<w,d=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){I=y-_,s[g]+1<p?(R=0,T=s[g]):s[g]>=p?(R=M[s[g]-p],T=E[s[g]-p]):(R=96,T=0),c=1<<y-_,l=1<<v,m=l;do{l-=c,i[f+(S>>_)+l]=I<<24|R<<16|T|0}while(0!==l);for(c=1<<y-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0==--A[y]){if(y===b)break;y=e[r+s[g]]}if(y>w&&(S&d)!==h){for(0===_&&(_=w),f+=m,v=y-_,k=1<<v;v+_<b&&(k-=A[v+_],!(k<=0));)v++,k<<=1;if(x+=1<<v,1===t&&x>852||2===t&&x>592)return 1;h=S&d,i[h]=w<<24|v<<16|f-o|0}}return 0!==S&&(i[f+S]=y-_<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:ad,Z_BLOCK:ud,Z_TREES:cd,Z_OK:ld,Z_STREAM_END:hd,Z_NEED_DICT:dd,Z_STREAM_ERROR:fd,Z_DATA_ERROR:pd,Z_MEM_ERROR:yd,Z_BUF_ERROR:gd,Z_DEFLATED:md}=Ol,bd=16180,wd=16190,vd=16191,_d=16192,kd=16194,xd=16199,Sd=16200,Ed=16206,Ad=16209,Bd=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Id(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<bd||e.mode>16211?1:0},Td=t=>{if(Rd(t))return fd;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=bd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ld},Md=t=>{if(Rd(t))return fd;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Td(t)},Od=(t,e)=>{let r;if(Rd(t))return fd;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?fd:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Md(t))},Cd=(t,e)=>{if(!t)return fd;const r=new Id;t.state=r,r.strm=t,r.window=null,r.mode=bd;const n=Od(t,e);return n!==ld&&(t.state=null),n};let Pd,jd,Ld=!0;const zd=t=>{if(Ld){Pd=new Int32Array(512),jd=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(sd(1,t.lens,0,288,Pd,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;sd(2,t.lens,0,32,jd,0,t.work,{bits:5}),Ld=!1}t.lencode=Pd,t.lenbits=9,t.distcode=jd,t.distbits=5},Ud=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Nd={inflateReset:Md,inflateReset2:Od,inflateResetKeep:Td,inflateInit:t=>Cd(t,15),inflateInit2:Cd,inflate:(t,e)=>{let r,n,i,o,s,a,u,c,l,h,d,f,p,y,g,m,b,w,v,_,k,x,S=0;const E=new Uint8Array(4);let A,B;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rd(t)||!t.output||!t.input&&0!==t.avail_in)return fd;r=t.state,r.mode===vd&&(r.mode=_d),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,h=a,d=u,x=ld;t:for(;;)switch(r.mode){case bd:if(0===r.wrap){r.mode=_d;break}for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,E[0]=255&c,E[1]=c>>>8&255,r.check=Tl(r.check,E,2,0),c=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Ad;break}if((15&c)!==md){t.msg="unknown compression method",r.mode=Ad;break}if(c>>>=4,l-=4,k=8+(15&c),0===r.wbits&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Ad;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&c?16189:vd,c=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(r.flags=c,(255&r.flags)!==md){t.msg="unknown compression method",r.mode=Ad;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Ad;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(E[0]=255&c,E[1]=c>>>8&255,r.check=Tl(r.check,E,2,0)),c=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=Tl(r.check,E,4,0)),c=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(E[0]=255&c,E[1]=c>>>8&255,r.check=Tl(r.check,E,2,0)),c=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(E[0]=255&c,E[1]=c>>>8&255,r.check=Tl(r.check,E,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),k)),512&r.flags&&4&r.wrap&&(r.check=Tl(r.check,n,f,o)),a-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;f=0;do{k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Tl(r.check,n,f,o)),a-=f,o+=f,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;f=0;do{k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=Tl(r.check,n,f,o)),a-=f,o+=f,k)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(4&r.wrap&&c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Ad;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=vd;break;case 16189:for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}t.adler=r.check=Bd(c),c=0,l=0,r.mode=wd;case wd:if(0===r.havedict)return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,dd;t.adler=r.check=1,r.mode=vd;case vd:if(e===ud||e===cd)break t;case _d:if(r.last){c>>>=7&l,l-=7&l,r.mode=Ed;break}for(;l<3;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}switch(r.last=1&c,c>>>=1,l-=1,3&c){case 0:r.mode=16193;break;case 1:if(zd(r),r.mode=xd,e===cd){c>>>=2,l-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=Ad}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ad;break}if(r.length=65535&c,c=0,l=0,r.mode=kd,e===cd)break t;case kd:r.mode=16195;case 16195:if(f=r.length,f){if(f>a&&(f=a),f>u&&(f=u),0===f)break t;i.set(n.subarray(o,o+f),s),a-=f,o+=f,u-=f,s+=f,r.length-=f;break}r.mode=vd;break;case 16196:for(;l<14;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ad;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.lens[I[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},x=sd(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,x){t.msg="invalid code lengths set",r.mode=Ad;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[c&(1<<r.lenbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(b<16)c>>>=g,l-=g,r.lens[r.have++]=b;else{if(16===b){for(B=g+2;l<B;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(c>>>=g,l-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=Ad;break}k=r.lens[r.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===b){for(B=g+3;l<B;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=g,l-=g,k=0,f=3+(7&c),c>>>=3,l-=3}else{for(B=g+7;l<B;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=g,l-=g,k=0,f=11+(127&c),c>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ad;break}for(;f--;)r.lens[r.have++]=k}}if(r.mode===Ad)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Ad;break}if(r.lenbits=9,A={bits:r.lenbits},x=sd(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,x){t.msg="invalid literal/lengths set",r.mode=Ad;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},x=sd(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,x){t.msg="invalid distances set",r.mode=Ad;break}if(r.mode=xd,e===cd)break t;case xd:r.mode=Sd;case Sd:if(a>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,ed(t,d),s=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,r.mode===vd&&(r.back=-1);break}for(r.back=0;S=r.lencode[c&(1<<r.lenbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(m&&0==(240&m)){for(w=g,v=m,_=b;S=r.lencode[_+((c&(1<<w+v)-1)>>w)],g=S>>>24,m=S>>>16&255,b=65535&S,!(w+g<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=w,l-=w,r.back+=w}if(c>>>=g,l-=g,r.back+=g,r.length=b,0===m){r.mode=16205;break}if(32&m){r.back=-1,r.mode=vd;break}if(64&m){t.msg="invalid literal/length code",r.mode=Ad;break}r.extra=15&m,r.mode=16201;case 16201:if(r.extra){for(B=r.extra;l<B;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;S=r.distcode[c&(1<<r.distbits)-1],g=S>>>24,m=S>>>16&255,b=65535&S,!(g<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(0==(240&m)){for(w=g,v=m,_=b;S=r.distcode[_+((c&(1<<w+v)-1)>>w)],g=S>>>24,m=S>>>16&255,b=65535&S,!(w+g<=l);){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}c>>>=w,l-=w,r.back+=w}if(c>>>=g,l-=g,r.back+=g,64&m){t.msg="invalid distance code",r.mode=Ad;break}r.offset=b,r.extra=15&m,r.mode=16203;case 16203:if(r.extra){for(B=r.extra;l<B;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ad;break}r.mode=16204;case 16204:if(0===u)break t;if(f=d-u,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ad;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),y=r.window}else y=i,p=s-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do{i[s++]=y[p++]}while(--f);0===r.length&&(r.mode=Sd);break;case 16205:if(0===u)break t;i[s++]=r.length,u--,r.mode=Sd;break;case Ed:if(r.wrap){for(;l<32;){if(0===a)break t;a--,c|=n[o++]<<l,l+=8}if(d-=u,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Tl(r.check,i,d,s-d):Il(r.check,i,d,s-d)),d=u,4&r.wrap&&(r.flags?c:Bd(c))!==r.check){t.msg="incorrect data check",r.mode=Ad;break}c=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,c+=n[o++]<<l,l+=8}if(4&r.wrap&&c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Ad;break}c=0,l=0}r.mode=16208;case 16208:x=hd;break t;case Ad:x=pd;break t;case 16210:return yd;default:return fd}return t.next_out=s,t.avail_out=u,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<Ad&&(r.mode<Ed||e!==ad))&&Ud(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?Tl(r.check,i,d,t.next_out-d):Il(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===vd?128:0)+(r.mode===xd||r.mode===kd?256:0),(0===h&&0===d||e===ad)&&x===ld&&(x=gd),x},inflateEnd:t=>{if(Rd(t))return fd;let e=t.state;return e.window&&(e.window=null),t.state=null,ld},inflateGetHeader:(t,e)=>{if(Rd(t))return fd;const r=t.state;return 0==(2&r.wrap)?fd:(r.head=e,e.done=!1,ld)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return Rd(t)?fd:(n=t.state,0!==n.wrap&&n.mode!==wd?fd:n.mode===wd&&(i=1,i=Il(i,e,r,0),i!==n.check)?pd:(o=Ud(t,e,r,r),o?(n.mode=16210,yd):(n.havedict=1,ld)))},inflateInfo:"pako inflate (from Nodeca project)"},Hd=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Dd=Object.prototype.toString,{Z_NO_FLUSH:Fd,Z_FINISH:qd,Z_OK:Kd,Z_STREAM_END:$d,Z_NEED_DICT:Wd,Z_STREAM_ERROR:Zd,Z_DATA_ERROR:Vd,Z_MEM_ERROR:Gd}=Ol;function Xd(t){this.options=Lh.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hh,this.strm.avail_out=0;let r=Nd.inflateInit2(this.strm,e.windowBits);if(r!==Kd)throw new Error(Ml[r]);if(this.header=new Hd,Nd.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nh.string2buf(e.dictionary):"[object ArrayBuffer]"===Dd.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Nd.inflateSetDictionary(this.strm,e.dictionary),r!==Kd)))throw new Error(Ml[r])}function Jd(t,e){const r=new Xd(e);if(r.push(t),r.err)throw r.msg||Ml[r.err];return r.result}Xd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?qd:Fd,"[object ArrayBuffer]"===Dd.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Nd.inflate(r,s),o===Wd&&i&&(o=Nd.inflateSetDictionary(r,i),o===Kd?o=Nd.inflate(r,s):o===Vd&&(o=Wd));r.avail_in>0&&o===$d&&r.state.wrap>0&&0!==t[r.next_in];)Nd.inflateReset(r),o=Nd.inflate(r,s);switch(o){case Zd:case Vd:case Wd:case Gd:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||o===$d))if("string"===this.options.to){let t=Nh.utf8border(r.output,r.next_out),e=r.next_out-t,i=Nh.buf2string(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==Kd||0!==a){if(o===$d)return o=Nd.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Xd.prototype.onData=function(t){this.chunks.push(t)},Xd.prototype.onEnd=function(t){t===Kd&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Lh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Yd={Inflate:Xd,inflate:Jd,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Jd(t,e)},ungzip:Jd,constants:Ol};const{Deflate:Qd,deflate:tf,deflateRaw:ef,gzip:rf}=Qh,{Inflate:nf,inflate:of,inflateRaw:sf,ungzip:af}=Yd;var uf=of,cf=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function lf(t,e,r){return cf(this,void 0,void 0,(function*(){try{let i=[],o=t?0:1,s=t?0:8,a=!0;if(!t){let t={datatype_id:0,order_position:0,optional:!1,label:"discriminator",field_type:"u64",is_complex_type:!1,is_array:!1,array_size:1,hide:!0,references_type:!1,is_dynamic_size:!1,referenced_type_id:0};i.push(t)}for(var n of e.type.fields){const t="string"!=typeof n.type;let e={datatype_id:0,order_position:o,optional:!1,label:n.name,field_type:n.type,is_complex_type:!1,hide:!1,is_array:!1,array_size:1,references_type:!1,is_dynamic_size:!1,referenced_type_id:0};if(t)if(e.is_array=!0,e.field_type="u8","array"in n.type){let t=n.type.array[1],i="string"!=typeof n.type.array[0];if(e.array_size=t,i)if("array"in n.type.array[0])console.log("found too nested array. not supported right now"),a=!1;else{let t=n.type.array[0].defined;const i=r.get(t);i?(console.log("%found referenced type ",t,i),e.field_type="u8",e.array_size=i.info.size_bytes):(console.log("%not found type ",t),a=!1)}else e.field_type=n.type.array[0]}else if("defined"in n.type){let t=n.type.defined;const i=r.get(t);i?(e.field_type="u8",e.array_size=i.info.size_bytes):(console.log("not found type ",t),a=!1)}s+=(yield un(e)),i.push(e),o+=1}return Promise.resolve({name:"",fields:i,complex:!a,info:{fields_count:i.length,size_bytes:s,used_by:0},struct:t,discriminator:new Uint8Array(8),is_anchor:!t})}catch(t){throw new Error("unable to parse json idl: "+t.message,{cause:t})}}))}function hf(t){let e=`account:${t}`;return Vc.sha256.array(e).slice(0,8)}var df=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const ff="https://try-rpc.mainnet.solana.blockdaemon.tech",pf="finalized";var yf=__webpack_require__("../node_modules/react/jsx-runtime.js"),gf=__webpack_require__("../node_modules/react/index.js"),mf=__webpack_require__.t(gf,2);function bf(t){return(0,gf.forwardRef)(t)}var wf=(...t)=>t.filter(Boolean).join(" ");function vf(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)&&!Array.isArray(t)}function _f(t,...e){return kf(t)?t(...e):t}var kf=t=>"function"==typeof t,xf=t=>t?"":void 0;function Sf(...t){return function(e){t.some((t=>(null==t||t(e),null==e?void 0:e.defaultPrevented)))}}var Ef=__webpack_require__("../node_modules/lodash.mergewith/index.js"),Af=t=>"string"==typeof t?t.replace(/!(important)?$/,"").trim():t,Bf=(t,e)=>r=>{const n=String(e),i=(t=>/!(important)?$/.test(t))(n),o=Af(n),s=t?`${t}.${o}`:o;let a=vf(r.__cssMap)&&s in r.__cssMap?r.__cssMap[s].varRef:e;return a=Af(a),i?`${a} !important`:a};function If(t){const{scale:e,transform:r,compose:n}=t;return(t,i)=>{var o;const s=Bf(e,t)(i);let a=null!=(o=null==r?void 0:r(s,i))?o:s;return n&&(a=n(a,i)),a}}var Rf=(...t)=>e=>t.reduce(((t,e)=>e(t)),e);function Tf(t,e){return r=>{const n={property:r,scale:t};return n.transform=If({scale:t,transform:e}),n}}var Mf=({rtl:t,ltr:e})=>r=>"rtl"===r.direction?t:e,Of=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],Cf={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Pf={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},jf={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Lf={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},zf=new Set(Object.values(Lf)),Uf=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Nf=t=>t.trim(),Hf=t=>"string"==typeof t&&t.includes("(")&&t.includes(")"),Df=t=>e=>`${t}(${e})`,Ff={filter:t=>"auto"!==t?t:Cf,backdropFilter:t=>"auto"!==t?t:Pf,ring:t=>function(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Ff.px(t)),bgClip:t=>"text"===t?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t},transform:t=>"auto"===t?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...Of].join(" "):"auto-gpu"===t?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...Of].join(" "):t,vh:t=>"$100vh"===t?"var(--chakra-vh)":t,px(t){if(null==t)return t;const{unitless:e}=(t=>{const e=parseFloat(t.toString()),r=t.toString().replace(String(e),"");return{unitless:!r,value:e,unit:r}})(t);return e||"number"==typeof t?`${t}px`:t},fraction:t=>"number"!=typeof t||t>1?t:100*t+"%",float:(t,e)=>"rtl"===e.direction?{left:"right",right:"left"}[t]:t,degree(t){if(function(t){return/^var\(--.+\)$/.test(t)}(t)||null==t)return t;const e="string"==typeof t&&!t.endsWith("deg");return"number"==typeof t||e?`${t}deg`:t},gradient:(t,e)=>function(t,e){if(null==t||Uf.has(t))return t;const r=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),n=null==r?void 0:r[1],i=null==r?void 0:r[2];if(!n||!i)return t;const o=n.includes("-gradient")?n:`${n}-gradient`,[s,...a]=i.split(",").map(Nf).filter(Boolean);if(0===(null==a?void 0:a.length))return t;const u=s in Lf?Lf[s]:s;return a.unshift(u),`${o}(${a.map((t=>{if(zf.has(t))return t;const r=t.indexOf(" "),[n,i]=-1!==r?[t.substr(0,r),t.substr(r+1)]:[t],o=Hf(i)?i:i&&i.split(" "),s=`colors.${n}`,a=s in e.__cssMap?e.__cssMap[s].varRef:n;return o?[a,...Array.isArray(o)?o:[o]].join(" "):a})).join(", ")})`}(t,null!=e?e:{}),blur:Df("blur"),opacity:Df("opacity"),brightness:Df("brightness"),contrast:Df("contrast"),dropShadow:Df("drop-shadow"),grayscale:Df("grayscale"),hueRotate:Df("hue-rotate"),invert:Df("invert"),saturate:Df("saturate"),sepia:Df("sepia"),bgImage:t=>null==t||Hf(t)||Uf.has(t)?t:`url(${t})`,outline(t){const e="0"===String(t)||"none"===String(t);return null!==t&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:r,divide:n}=null!=(e=jf[t])?e:{},i={flexDirection:t};return r&&(i[r]=1),n&&(i[n]=1),i}},qf={borderWidths:Tf("borderWidths"),borderStyles:Tf("borderStyles"),colors:Tf("colors"),borders:Tf("borders"),radii:Tf("radii",Ff.px),space:Tf("space",Rf(Ff.vh,Ff.px)),spaceT:Tf("space",Rf(Ff.vh,Ff.px)),degreeT:t=>({property:t,transform:Ff.degree}),prop:(t,e,r)=>({property:t,scale:e,...e&&{transform:If({scale:e,transform:r})}}),propT:(t,e)=>({property:t,transform:e}),sizes:Tf("sizes",Rf(Ff.vh,Ff.px)),sizesT:Tf("sizes",Rf(Ff.vh,Ff.fraction)),shadows:Tf("shadows"),logical:function(t){const{property:e,scale:r,transform:n}=t;return{scale:r,property:Mf(e),transform:r?If({scale:r,compose:n}):n}},blur:Tf("blur",Ff.blur)},Kf={background:qf.colors("background"),backgroundColor:qf.colors("backgroundColor"),backgroundImage:qf.propT("backgroundImage",Ff.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Ff.bgClip},bgSize:qf.prop("backgroundSize"),bgPosition:qf.prop("backgroundPosition"),bg:qf.colors("background"),bgColor:qf.colors("backgroundColor"),bgPos:qf.prop("backgroundPosition"),bgRepeat:qf.prop("backgroundRepeat"),bgAttachment:qf.prop("backgroundAttachment"),bgGradient:qf.propT("backgroundImage",Ff.gradient),bgClip:{transform:Ff.bgClip}};Object.assign(Kf,{bgImage:Kf.backgroundImage,bgImg:Kf.backgroundImage});var $f={border:qf.borders("border"),borderWidth:qf.borderWidths("borderWidth"),borderStyle:qf.borderStyles("borderStyle"),borderColor:qf.colors("borderColor"),borderRadius:qf.radii("borderRadius"),borderTop:qf.borders("borderTop"),borderBlockStart:qf.borders("borderBlockStart"),borderTopLeftRadius:qf.radii("borderTopLeftRadius"),borderStartStartRadius:qf.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:qf.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:qf.radii("borderTopRightRadius"),borderStartEndRadius:qf.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:qf.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:qf.borders("borderRight"),borderInlineEnd:qf.borders("borderInlineEnd"),borderBottom:qf.borders("borderBottom"),borderBlockEnd:qf.borders("borderBlockEnd"),borderBottomLeftRadius:qf.radii("borderBottomLeftRadius"),borderBottomRightRadius:qf.radii("borderBottomRightRadius"),borderLeft:qf.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:qf.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:qf.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:qf.borders(["borderLeft","borderRight"]),borderInline:qf.borders("borderInline"),borderY:qf.borders(["borderTop","borderBottom"]),borderBlock:qf.borders("borderBlock"),borderTopWidth:qf.borderWidths("borderTopWidth"),borderBlockStartWidth:qf.borderWidths("borderBlockStartWidth"),borderTopColor:qf.colors("borderTopColor"),borderBlockStartColor:qf.colors("borderBlockStartColor"),borderTopStyle:qf.borderStyles("borderTopStyle"),borderBlockStartStyle:qf.borderStyles("borderBlockStartStyle"),borderBottomWidth:qf.borderWidths("borderBottomWidth"),borderBlockEndWidth:qf.borderWidths("borderBlockEndWidth"),borderBottomColor:qf.colors("borderBottomColor"),borderBlockEndColor:qf.colors("borderBlockEndColor"),borderBottomStyle:qf.borderStyles("borderBottomStyle"),borderBlockEndStyle:qf.borderStyles("borderBlockEndStyle"),borderLeftWidth:qf.borderWidths("borderLeftWidth"),borderInlineStartWidth:qf.borderWidths("borderInlineStartWidth"),borderLeftColor:qf.colors("borderLeftColor"),borderInlineStartColor:qf.colors("borderInlineStartColor"),borderLeftStyle:qf.borderStyles("borderLeftStyle"),borderInlineStartStyle:qf.borderStyles("borderInlineStartStyle"),borderRightWidth:qf.borderWidths("borderRightWidth"),borderInlineEndWidth:qf.borderWidths("borderInlineEndWidth"),borderRightColor:qf.colors("borderRightColor"),borderInlineEndColor:qf.colors("borderInlineEndColor"),borderRightStyle:qf.borderStyles("borderRightStyle"),borderInlineEndStyle:qf.borderStyles("borderInlineEndStyle"),borderTopRadius:qf.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:qf.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:qf.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:qf.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign($f,{rounded:$f.borderRadius,roundedTop:$f.borderTopRadius,roundedTopLeft:$f.borderTopLeftRadius,roundedTopRight:$f.borderTopRightRadius,roundedTopStart:$f.borderStartStartRadius,roundedTopEnd:$f.borderStartEndRadius,roundedBottom:$f.borderBottomRadius,roundedBottomLeft:$f.borderBottomLeftRadius,roundedBottomRight:$f.borderBottomRightRadius,roundedBottomStart:$f.borderEndStartRadius,roundedBottomEnd:$f.borderEndEndRadius,roundedLeft:$f.borderLeftRadius,roundedRight:$f.borderRightRadius,roundedStart:$f.borderInlineStartRadius,roundedEnd:$f.borderInlineEndRadius,borderStart:$f.borderInlineStart,borderEnd:$f.borderInlineEnd,borderTopStartRadius:$f.borderStartStartRadius,borderTopEndRadius:$f.borderStartEndRadius,borderBottomStartRadius:$f.borderEndStartRadius,borderBottomEndRadius:$f.borderEndEndRadius,borderStartRadius:$f.borderInlineStartRadius,borderEndRadius:$f.borderInlineEndRadius,borderStartWidth:$f.borderInlineStartWidth,borderEndWidth:$f.borderInlineEndWidth,borderStartColor:$f.borderInlineStartColor,borderEndColor:$f.borderInlineEndColor,borderStartStyle:$f.borderInlineStartStyle,borderEndStyle:$f.borderInlineEndStyle});var Wf={color:qf.colors("color"),textColor:qf.colors("color"),fill:qf.colors("fill"),stroke:qf.colors("stroke")},Zf={boxShadow:qf.shadows("boxShadow"),mixBlendMode:!0,blendMode:qf.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:qf.prop("backgroundBlendMode"),opacity:!0};Object.assign(Zf,{shadow:Zf.boxShadow});var Vf={filter:{transform:Ff.filter},blur:qf.blur("--chakra-blur"),brightness:qf.propT("--chakra-brightness",Ff.brightness),contrast:qf.propT("--chakra-contrast",Ff.contrast),hueRotate:qf.degreeT("--chakra-hue-rotate"),invert:qf.propT("--chakra-invert",Ff.invert),saturate:qf.propT("--chakra-saturate",Ff.saturate),dropShadow:qf.propT("--chakra-drop-shadow",Ff.dropShadow),backdropFilter:{transform:Ff.backdropFilter},backdropBlur:qf.blur("--chakra-backdrop-blur"),backdropBrightness:qf.propT("--chakra-backdrop-brightness",Ff.brightness),backdropContrast:qf.propT("--chakra-backdrop-contrast",Ff.contrast),backdropHueRotate:qf.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:qf.propT("--chakra-backdrop-invert",Ff.invert),backdropSaturate:qf.propT("--chakra-backdrop-saturate",Ff.saturate)},Gf={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Ff.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:qf.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:qf.space("gap"),rowGap:qf.space("rowGap"),columnGap:qf.space("columnGap")};Object.assign(Gf,{flexDir:Gf.flexDirection});var Xf={gridGap:qf.space("gridGap"),gridColumnGap:qf.space("gridColumnGap"),gridRowGap:qf.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Jf={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Ff.outline},outlineOffset:!0,outlineColor:qf.colors("outlineColor")},Yf={width:qf.sizesT("width"),inlineSize:qf.sizesT("inlineSize"),height:qf.sizes("height"),blockSize:qf.sizes("blockSize"),boxSize:qf.sizes(["width","height"]),minWidth:qf.sizes("minWidth"),minInlineSize:qf.sizes("minInlineSize"),minHeight:qf.sizes("minHeight"),minBlockSize:qf.sizes("minBlockSize"),maxWidth:qf.sizes("maxWidth"),maxInlineSize:qf.sizes("maxInlineSize"),maxHeight:qf.sizes("maxHeight"),maxBlockSize:qf.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var r,n,i;return{[null!=(i=null==(n=null==(r=e.__breakpoints)?void 0:r.get(t))?void 0:n.minWQuery)?i:`@media screen and (min-width: ${t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var r,n,i;return{[null!=(i=null==(n=null==(r=e.__breakpoints)?void 0:r.get(t))?void 0:n.maxWQuery)?i:`@media screen and (max-width: ${t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:qf.propT("float",Ff.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Yf,{w:Yf.width,h:Yf.height,minW:Yf.minWidth,maxW:Yf.maxWidth,minH:Yf.minHeight,maxH:Yf.maxHeight,overscroll:Yf.overscrollBehavior,overscrollX:Yf.overscrollBehaviorX,overscrollY:Yf.overscrollBehaviorY});var Qf={listStyleType:!0,listStylePosition:!0,listStylePos:qf.prop("listStylePosition"),listStyleImage:!0,listStyleImg:qf.prop("listStyleImage")},tp=(t=>{const e=new WeakMap;return(r,n,i,o)=>{if(void 0===r)return t(r,n,i);e.has(r)||e.set(r,new Map);const s=e.get(r);if(s.has(n))return s.get(n);const a=t(r,n,i,o);return s.set(n,a),a}})((function(t,e,r,n){const i="string"==typeof e?e.split("."):[e];for(n=0;n<i.length&&t;n+=1)t=t[i[n]];return void 0===t?r:t})),ep={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},rp={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},np=(t,e,r)=>{const n={},i=tp(t,e,{});for(const t in i)t in r&&null!=r[t]||(n[t]=i[t]);return n},ip={srOnly:{transform:t=>!0===t?ep:"focusable"===t?rp:{}},layerStyle:{processResult:!0,transform:(t,e,r)=>np(e,`layerStyles.${t}`,r)},textStyle:{processResult:!0,transform:(t,e,r)=>np(e,`textStyles.${t}`,r)},apply:{processResult:!0,transform:(t,e,r)=>np(e,t,r)}},op={position:!0,pos:qf.prop("position"),zIndex:qf.prop("zIndex","zIndices"),inset:qf.spaceT("inset"),insetX:qf.spaceT(["left","right"]),insetInline:qf.spaceT("insetInline"),insetY:qf.spaceT(["top","bottom"]),insetBlock:qf.spaceT("insetBlock"),top:qf.spaceT("top"),insetBlockStart:qf.spaceT("insetBlockStart"),bottom:qf.spaceT("bottom"),insetBlockEnd:qf.spaceT("insetBlockEnd"),left:qf.spaceT("left"),insetInlineStart:qf.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:qf.spaceT("right"),insetInlineEnd:qf.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(op,{insetStart:op.insetInlineStart,insetEnd:op.insetInlineEnd});var sp={ring:{transform:Ff.ring},ringColor:qf.colors("--chakra-ring-color"),ringOffset:qf.prop("--chakra-ring-offset-width"),ringOffsetColor:qf.colors("--chakra-ring-offset-color"),ringInset:qf.prop("--chakra-ring-inset")},ap={margin:qf.spaceT("margin"),marginTop:qf.spaceT("marginTop"),marginBlockStart:qf.spaceT("marginBlockStart"),marginRight:qf.spaceT("marginRight"),marginInlineEnd:qf.spaceT("marginInlineEnd"),marginBottom:qf.spaceT("marginBottom"),marginBlockEnd:qf.spaceT("marginBlockEnd"),marginLeft:qf.spaceT("marginLeft"),marginInlineStart:qf.spaceT("marginInlineStart"),marginX:qf.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:qf.spaceT("marginInline"),marginY:qf.spaceT(["marginTop","marginBottom"]),marginBlock:qf.spaceT("marginBlock"),padding:qf.space("padding"),paddingTop:qf.space("paddingTop"),paddingBlockStart:qf.space("paddingBlockStart"),paddingRight:qf.space("paddingRight"),paddingBottom:qf.space("paddingBottom"),paddingBlockEnd:qf.space("paddingBlockEnd"),paddingLeft:qf.space("paddingLeft"),paddingInlineStart:qf.space("paddingInlineStart"),paddingInlineEnd:qf.space("paddingInlineEnd"),paddingX:qf.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:qf.space("paddingInline"),paddingY:qf.space(["paddingTop","paddingBottom"]),paddingBlock:qf.space("paddingBlock")};Object.assign(ap,{m:ap.margin,mt:ap.marginTop,mr:ap.marginRight,me:ap.marginInlineEnd,marginEnd:ap.marginInlineEnd,mb:ap.marginBottom,ml:ap.marginLeft,ms:ap.marginInlineStart,marginStart:ap.marginInlineStart,mx:ap.marginX,my:ap.marginY,p:ap.padding,pt:ap.paddingTop,py:ap.paddingY,px:ap.paddingX,pb:ap.paddingBottom,pl:ap.paddingLeft,ps:ap.paddingInlineStart,paddingStart:ap.paddingInlineStart,pr:ap.paddingRight,pe:ap.paddingInlineEnd,paddingEnd:ap.paddingInlineEnd});var up={textDecorationColor:qf.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:qf.shadows("textShadow")},cp={clipPath:!0,transform:qf.propT("transform",Ff.transform),transformOrigin:!0,translateX:qf.spaceT("--chakra-translate-x"),translateY:qf.spaceT("--chakra-translate-y"),skewX:qf.degreeT("--chakra-skew-x"),skewY:qf.degreeT("--chakra-skew-y"),scaleX:qf.prop("--chakra-scale-x"),scaleY:qf.prop("--chakra-scale-y"),scale:qf.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:qf.degreeT("--chakra-rotate")},lp={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:qf.prop("transitionDuration","transition.duration"),transitionProperty:qf.prop("transitionProperty","transition.property"),transitionTimingFunction:qf.prop("transitionTimingFunction","transition.easing")},hp={fontFamily:qf.prop("fontFamily","fonts"),fontSize:qf.prop("fontSize","fontSizes",Ff.px),fontWeight:qf.prop("fontWeight","fontWeights"),lineHeight:qf.prop("lineHeight","lineHeights"),letterSpacing:qf.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(!0===t)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},dp={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:qf.spaceT("scrollMargin"),scrollMarginTop:qf.spaceT("scrollMarginTop"),scrollMarginBottom:qf.spaceT("scrollMarginBottom"),scrollMarginLeft:qf.spaceT("scrollMarginLeft"),scrollMarginRight:qf.spaceT("scrollMarginRight"),scrollMarginX:qf.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:qf.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:qf.spaceT("scrollPadding"),scrollPaddingTop:qf.spaceT("scrollPaddingTop"),scrollPaddingBottom:qf.spaceT("scrollPaddingBottom"),scrollPaddingLeft:qf.spaceT("scrollPaddingLeft"),scrollPaddingRight:qf.spaceT("scrollPaddingRight"),scrollPaddingX:qf.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:qf.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function fp(t){return vf(t)&&t.reference?t.reference:String(t)}var pp=(t,...e)=>e.map(fp).join(` ${t} `).replace(/calc/g,""),yp=(...t)=>`calc(${pp("+",...t)})`,gp=(...t)=>`calc(${pp("-",...t)})`,mp=(...t)=>`calc(${pp("*",...t)})`,bp=(...t)=>`calc(${pp("/",...t)})`,wp=t=>{const e=fp(t);return null==e||Number.isNaN(parseFloat(e))?mp(e,-1):String(e).startsWith("-")?String(e).slice(1):`-${e}`},vp=Object.assign((t=>({add:(...e)=>vp(yp(t,...e)),subtract:(...e)=>vp(gp(t,...e)),multiply:(...e)=>vp(mp(t,...e)),divide:(...e)=>vp(bp(t,...e)),negate:()=>vp(wp(t)),toString:()=>t.toString()})),{add:yp,subtract:gp,multiply:mp,divide:bp,negate:wp});function _p(t){if(null==t)return t;const{unitless:e}=function(t){const e=parseFloat(t.toString()),r=t.toString().replace(String(e),"");return{unitless:!r,value:e,unit:r}}(t);return e||"number"==typeof t?`${t}px`:t}function kp(t,e){const r=["@media screen"];return t&&r.push("and",`(min-width: ${_p(t)})`),e&&r.push("and",`(max-width: ${_p(e)})`),r.join(" ")}var xp=(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,Sp=(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,Ep=(t,e)=>`${t}:focus-visible ${e}`,Ap=(t,e)=>`${t}:focus-within ${e}`,Bp=(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,Ip=(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,Rp=(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,Tp=(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,Mp=t=>Cp((e=>t(e,"&")),"[role=group]","[data-group]",".group"),Op=t=>Cp((e=>t(e,"~ &")),"[data-peer]",".peer"),Cp=(t,...e)=>e.map(t).join(", "),Pp={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Mp(xp),_peerHover:Op(xp),_groupFocus:Mp(Sp),_peerFocus:Op(Sp),_groupFocusVisible:Mp(Ep),_peerFocusVisible:Op(Ep),_groupActive:Mp(Bp),_peerActive:Op(Bp),_groupDisabled:Mp(Ip),_peerDisabled:Op(Ip),_groupInvalid:Mp(Rp),_peerInvalid:Op(Rp),_groupChecked:Mp(Tp),_peerChecked:Op(Tp),_groupFocusWithin:Mp(Ap),_peerFocusWithin:Op(Ap),_peerPlaceholderShown:Op(((t,e)=>`${t}:placeholder-shown ${e}`)),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},jp=Object.keys(Pp),Lp=Ef({},Kf,$f,Wf,Gf,Yf,Vf,sp,Jf,Xf,ip,op,Zf,ap,dp,hp,up,cp,Qf,lp),zp=Object.assign({},ap,Yf,Gf,Xf,op),Up=(Object.keys(zp),[...Object.keys(Lp),...jp]),Np={...Lp,...Pp},Hp=t=>t in Np,Dp=(t,e)=>t.startsWith("--")&&"string"==typeof e&&!function(t){return/^var\(--.+\)$/.test(t)}(e),Fp=(t,e)=>{var r,n;if(null==e)return e;const i=e=>{var r,n;return null==(n=null==(r=t.__cssMap)?void 0:r[e])?void 0:n.varRef},o=t=>{var e;return null!=(e=i(t))?e:t},[s,a]=function(t){const e=[];let r="",n=!1;for(let i=0;i<t.length;i++){const o=t[i];"("===o?(n=!0,r+=o):")"===o?(n=!1,r+=o):","!==o||n?r+=o:(e.push(r),r="")}return r=r.trim(),r&&e.push(r),e}(e);return null!=(n=null!=(r=i(s))?r:o(a))?n:o(e)},qp=t=>e=>{const r=function(t){const{configs:e={},pseudos:r={},theme:n}=t,i=(t,o=!1)=>{var s,a,u;const c=_f(t,n),l=(t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:r,toArrayValue:n,media:i}=e.__breakpoints,o={};for(const s in t){let a=_f(t[s],e);if(null==a)continue;if(a=vf(a)&&r(a)?n(a):a,!Array.isArray(a)){o[s]=a;continue}const u=a.slice(0,i.length).length;for(let t=0;t<u;t+=1){const e=null==i?void 0:i[t];e?(o[e]=o[e]||{},null!=a[t]&&(o[e][s]=a[t])):o[s]=a[t]}}return o})(c)(n);let h={};for(let t in l){let d=_f(l[t],n);t in r&&(t=r[t]),Dp(t,d)&&(d=Fp(n,d));let f=e[t];if(!0===f&&(f={property:t}),vf(d)){h[t]=null!=(s=h[t])?s:{},h[t]=Ef({},h[t],i(d,!0));continue}let p=null!=(u=null==(a=null==f?void 0:f.transform)?void 0:a.call(f,d,n,c))?u:d;p=(null==f?void 0:f.processResult)?i(p,!0):p;const y=_f(null==f?void 0:f.property,n);if(!o&&(null==f?void 0:f.static)){const t=_f(f.static,n);h=Ef({},h,t)}if(y&&Array.isArray(y))for(const t of y)h[t]=p;else y?"&"===y&&vf(p)?h=Ef({},h,p):h[y]=p:vf(p)?h=Ef({},h,p):h[t]=p}return h};return i}({theme:e,pseudos:Pp,configs:Lp});return r(t)};function Kp(t,e){for(let r=e+1;r<t.length;r++)if(null!=t[r])return r;return-1}function $p(t){return function(t,e=[]){const r=Object.assign({},t);for(const t of e)t in r&&delete r[t];return r}(t,["styleConfig","size","variant","colorScheme"])}var Wp=new Set([...Up,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Zp=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Vp(t){return Zp.has(t)||!Wp.has(t)}var Gp=(0,gf.createContext)({});function Xp(){const t=(0,gf.useContext)(Gp);if(void 0===t)throw new Error("useColorMode must be used within a ColorModeProvider");return t}Gp.displayName="ColorModeContext";var Jp=(t=>{const e=new WeakMap;return(r,n,i,o)=>{if(void 0===r)return t(r,n,i);e.has(r)||e.set(r,new Map);const s=e.get(r);if(s.has(n))return s.get(n);const a=t(r,n,i,o);return s.set(n,a),a}})((function(t,e,r,n){const i="string"==typeof e?e.split("."):[e];for(n=0;n<i.length&&t;n+=1)t=t[i[n]];return void 0===t?r:t}));function Yp(t,e){const r={};return Object.keys(t).forEach((n=>{const i=t[n];e(i,n,t)&&(r[n]=i)})),r}var Qp=t=>Yp(t,(t=>null!=t));function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ty.apply(this,arguments)}const ey=function(t){var e=Object.create(null);return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}};var ry=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const ny=ey((function(t){return ry.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var iy=function(){function t(t){var e=this;this._insertTag=function(t){var r;r=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,r),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{r.insertRule(t,r.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),oy=Math.abs,sy=String.fromCharCode,ay=Object.assign;function uy(t){return t.trim()}function cy(t,e,r){return t.replace(e,r)}function ly(t,e){return t.indexOf(e)}function hy(t,e){return 0|t.charCodeAt(e)}function dy(t,e,r){return t.slice(e,r)}function fy(t){return t.length}function py(t){return t.length}function yy(t,e){return e.push(t),t}var gy=1,my=1,by=0,wy=0,vy=0,_y="";function ky(t,e,r,n,i,o,s){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:gy,column:my,length:s,return:""}}function xy(t,e){return ay(ky("",null,null,"",null,null,0),t,{length:-t.length},e)}function Sy(){return vy=wy>0?hy(_y,--wy):0,my--,10===vy&&(my=1,gy--),vy}function Ey(){return vy=wy<by?hy(_y,wy++):0,my++,10===vy&&(my=1,gy++),vy}function Ay(){return hy(_y,wy)}function By(){return wy}function Iy(t,e){return dy(_y,t,e)}function Ry(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ty(t){return gy=my=1,by=fy(_y=t),wy=0,[]}function My(t){return _y="",t}function Oy(t){return uy(Iy(wy-1,jy(91===t?t+2:40===t?t+1:t)))}function Cy(t){for(;(vy=Ay())&&vy<33;)Ey();return Ry(t)>2||Ry(vy)>3?"":" "}function Py(t,e){for(;--e&&Ey()&&!(vy<48||vy>102||vy>57&&vy<65||vy>70&&vy<97););return Iy(t,By()+(e<6&&32==Ay()&&32==Ey()))}function jy(t){for(;Ey();)switch(vy){case t:return wy;case 34:case 39:34!==t&&39!==t&&jy(vy);break;case 40:41===t&&jy(t);break;case 92:Ey()}return wy}function Ly(t,e){for(;Ey()&&t+vy!==57&&(t+vy!==84||47!==Ay()););return"/*"+Iy(e,wy-1)+"*"+sy(47===t?t:Ey())}function zy(t){for(;!Ry(Ay());)Ey();return Iy(t,wy)}var Uy="-ms-",Ny="-moz-",Hy="-webkit-",Dy="comm",Fy="rule",qy="decl",Ky="@import",$y="@keyframes";function Wy(t,e){for(var r="",n=py(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Zy(t,e,r,n){switch(t.type){case Ky:case qy:return t.return=t.return||t.value;case Dy:return"";case $y:return t.return=t.value+"{"+Wy(t.children,n)+"}";case Fy:t.value=t.props.join(",")}return fy(r=Wy(t.children,n))?t.return=t.value+"{"+r+"}":""}function Vy(t){return My(Gy("",null,null,null,[""],t=Ty(t),0,[0],t))}function Gy(t,e,r,n,i,o,s,a,u){for(var c=0,l=0,h=s,d=0,f=0,p=0,y=1,g=1,m=1,b=0,w="",v=i,_=o,k=n,x=w;g;)switch(p=b,b=Ey()){case 40:if(108!=p&&58==hy(x,h-1)){-1!=ly(x+=cy(Oy(b),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=Oy(b);break;case 9:case 10:case 13:case 32:x+=Cy(p);break;case 92:x+=Py(By()-1,7);continue;case 47:switch(Ay()){case 42:case 47:yy(Jy(Ly(Ey(),By()),e,r),u);break;default:x+="/"}break;case 123*y:a[c++]=fy(x)*m;case 125*y:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+l:f>0&&fy(x)-h&&yy(f>32?Yy(x+";",n,r,h-1):Yy(cy(x," ","")+";",n,r,h-2),u);break;case 59:x+=";";default:if(yy(k=Xy(x,e,r,c,l,i,a,w,v=[],_=[],h),o),123===b)if(0===l)Gy(x,e,k,k,v,o,h,a,_);else switch(99===d&&110===hy(x,3)?100:d){case 100:case 109:case 115:Gy(t,k,k,n&&yy(Xy(t,k,k,0,0,i,a,w,i,v=[],h),_),i,_,h,a,n?v:_);break;default:Gy(x,k,k,k,[""],_,0,a,_)}}c=l=f=0,y=m=1,w=x="",h=s;break;case 58:h=1+fy(x),f=p;default:if(y<1)if(123==b)--y;else if(125==b&&0==y++&&125==Sy())continue;switch(x+=sy(b),b*y){case 38:m=l>0?1:(x+="\f",-1);break;case 44:a[c++]=(fy(x)-1)*m,m=1;break;case 64:45===Ay()&&(x+=Oy(Ey())),d=Ay(),l=h=fy(w=x+=zy(By())),b++;break;case 45:45===p&&2==fy(x)&&(y=0)}}return o}function Xy(t,e,r,n,i,o,s,a,u,c,l){for(var h=i-1,d=0===i?o:[""],f=py(d),p=0,y=0,g=0;p<n;++p)for(var m=0,b=dy(t,h+1,h=oy(y=s[p])),w=t;m<f;++m)(w=uy(y>0?d[m]+" "+b:cy(b,/&\f/g,d[m])))&&(u[g++]=w);return ky(t,e,r,0===i?Fy:a,u,c,l)}function Jy(t,e,r){return ky(t,e,r,Dy,sy(vy),dy(t,2,-2),0)}function Yy(t,e,r,n){return ky(t,e,r,qy,dy(t,0,n),dy(t,n+1,-1),n)}var Qy=function(t,e,r){for(var n=0,i=0;n=i,i=Ay(),38===n&&12===i&&(e[r]=1),!Ry(i);)Ey();return Iy(t,wy)},tg=new WeakMap,eg=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,r=t.parent,n=t.column===r.column&&t.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||tg.get(r))&&!n){tg.set(t,!0);for(var i=[],o=function(t,e){return My(function(t,e){var r=-1,n=44;do{switch(Ry(n)){case 0:38===n&&12===Ay()&&(e[r]=1),t[r]+=Qy(wy-1,e,r);break;case 2:t[r]+=Oy(n);break;case 4:if(44===n){t[++r]=58===Ay()?"&\f":"",e[r]=t[r].length;break}default:t[r]+=sy(n)}}while(n=Ey());return t}(Ty(t),e))}(e,i),s=r.props,a=0,u=0;a<o.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},rg=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function ng(t,e){switch(function(t,e){return 45^hy(t,0)?(((e<<2^hy(t,0))<<2^hy(t,1))<<2^hy(t,2))<<2^hy(t,3):0}(t,e)){case 5103:return Hy+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hy+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Hy+t+Ny+t+Uy+t+t;case 6828:case 4268:return Hy+t+Uy+t+t;case 6165:return Hy+t+Uy+"flex-"+t+t;case 5187:return Hy+t+cy(t,/(\w+).+(:[^]+)/,Hy+"box-$1$2"+Uy+"flex-$1$2")+t;case 5443:return Hy+t+Uy+"flex-item-"+cy(t,/flex-|-self/,"")+t;case 4675:return Hy+t+Uy+"flex-line-pack"+cy(t,/align-content|flex-|-self/,"")+t;case 5548:return Hy+t+Uy+cy(t,"shrink","negative")+t;case 5292:return Hy+t+Uy+cy(t,"basis","preferred-size")+t;case 6060:return Hy+"box-"+cy(t,"-grow","")+Hy+t+Uy+cy(t,"grow","positive")+t;case 4554:return Hy+cy(t,/([^-])(transform)/g,"$1"+Hy+"$2")+t;case 6187:return cy(cy(cy(t,/(zoom-|grab)/,Hy+"$1"),/(image-set)/,Hy+"$1"),t,"")+t;case 5495:case 3959:return cy(t,/(image-set\([^]*)/,Hy+"$1$`$1");case 4968:return cy(cy(t,/(.+:)(flex-)?(.*)/,Hy+"box-pack:$3"+Uy+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hy+t+t;case 4095:case 3583:case 4068:case 2532:return cy(t,/(.+)-inline(.+)/,Hy+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fy(t)-1-e>6)switch(hy(t,e+1)){case 109:if(45!==hy(t,e+4))break;case 102:return cy(t,/(.+:)(.+)-([^]+)/,"$1"+Hy+"$2-$3$1"+Ny+(108==hy(t,e+3)?"$3":"$2-$3"))+t;case 115:return~ly(t,"stretch")?ng(cy(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==hy(t,e+1))break;case 6444:switch(hy(t,fy(t)-3-(~ly(t,"!important")&&10))){case 107:return cy(t,":",":"+Hy)+t;case 101:return cy(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Hy+(45===hy(t,14)?"inline-":"")+"box$3$1"+Hy+"$2$3$1"+Uy+"$2box$3")+t}break;case 5936:switch(hy(t,e+11)){case 114:return Hy+t+Uy+cy(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Hy+t+Uy+cy(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Hy+t+Uy+cy(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Hy+t+Uy+t+t}return t}var ig,og,sg=(ig=function(){return ey((function(){var t={};return function(e){return t[e]}}))},og=new WeakMap,function(t){if(og.has(t))return og.get(t);var e=ig(t);return og.set(t,e),e}),ag=[function(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case qy:t.return=ng(t.value,t.length);break;case $y:return Wy([xy(t,{value:cy(t.value,"@","@"+Hy)})],n);case Fy:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return Wy([xy(t,{props:[cy(e,/:(read-\w+)/,":"+Ny+"$1")]})],n);case"::placeholder":return Wy([xy(t,{props:[cy(e,/:(plac\w+)/,":"+Hy+"input-$1")]}),xy(t,{props:[cy(e,/:(plac\w+)/,":"+Ny+"$1")]}),xy(t,{props:[cy(e,/:(plac\w+)/,Uy+"input-$1")]})],n)}return""}))}}];const ug=function(t){var e,r=t.key,n=t.stylisPlugins||ag,i=function(t){var e=py(t);return function(r,n,i,o){for(var s="",a=0;a<e;a++)s+=t[a](r,n,i,o)||"";return s}}([eg,rg].concat(n,[Zy])),o=sg(n)(r);e=function(t,e,r,n){var a=e.name,u=function(t,e){var r=e.name;return void 0===o[r]&&(o[r]=Wy(Vy(t?t+"{"+e.styles+"}":e.styles),i)),o[r]}(t,e);return void 0===s.compat?(n&&(s.inserted[a]=!0),u):n?void(s.inserted[a]=u):u};var s={key:r,sheet:new iy({key:r,container:void 0,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:{},registered:{},insert:e};return s.sheet.hydrate([]),s},cg=function(t){for(var e,r=0,n=0,i=t.length;i>=4;++n,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),r=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&t.charCodeAt(n+2))<<16;case 2:r^=(255&t.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},lg={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var hg=/[A-Z]|^ms/g,dg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fg=function(t){return 45===t.charCodeAt(1)},pg=function(t){return null!=t&&"boolean"!=typeof t},yg=ey((function(t){return fg(t)?t:t.replace(hg,"-$&").toLowerCase()})),gg=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(dg,(function(t,e,r){return bg={name:e,styles:r,next:bg},e}))}return 1===lg[t]||fg(t)||"number"!=typeof e||0===e?e:e+"px"};function mg(t,e,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return bg={name:r.name,styles:r.styles,next:bg},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)bg={name:n.name,styles:n.styles,next:bg},n=n.next;return r.styles+";"}return function(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=mg(t,e,r[i])+";";else for(var o in r){var s=r[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?n+=o+"{"+e[s]+"}":pg(s)&&(n+=yg(o)+":"+gg(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=mg(t,e,s);switch(o){case"animation":case"animationName":n+=yg(o)+":"+a+";";break;default:n+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)pg(s[u])&&(n+=yg(o)+":"+gg(o,s[u])+";")}return n}(t,e,r);case"function":if(void 0!==t){var i=bg,o=r(t);return bg=i,mg(t,e,o)}}if(null==e)return r;var s=e[r];return void 0!==s?s:r}var bg,wg=/label:\s*([^\s;\n{]+)\s*(;|$)/g,vg=function(t,e,r){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var n=!0,i="";bg=void 0;var o=t[0];null==o||void 0===o.raw?(n=!1,i+=mg(r,e,o)):i+=o[0];for(var s=1;s<t.length;s++)i+=mg(r,e,t[s]),n&&(i+=o[s]);wg.lastIndex=0;for(var a,u="";null!==(a=wg.exec(i));)u+="-"+a[1];return{name:cg(i)+u,styles:i,next:bg}},_g=!!mf.useInsertionEffect&&mf.useInsertionEffect,kg=(_g||gf.useLayoutEffect,(0,gf.createContext)("undefined"!=typeof HTMLElement?ug({key:"css"}):null));kg.Provider;var xg=function(t){return(0,gf.forwardRef)((function(e,r){var n=(0,gf.useContext)(kg);return t(e,n,r)}))};xg=function(t){return function(e){var r=(0,gf.useContext)(kg);return null===r?(r=ug({key:"css"}),(0,gf.createElement)(kg.Provider,{value:r},t(e,r))):t(e,r)}};var Sg=(0,gf.createContext)({}),Eg=function(t,e,r){var n=t.key+"-"+e.name;!1!==r&&void 0===t.compat||void 0!==t.registered[n]||(t.registered[n]=e.styles)},Ag=ny,Bg=function(t){return"theme"!==t},Ig=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?Ag:Bg},Rg=function(t,e,r){var n;if(e){var i=e.shouldForwardProp;n=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!=typeof n&&r&&(n=t.__emotion_forwardProp),n},Tg=function(t){var e=t.cache,r=t.serialized,n=t.isStringTag;Eg(e,r,n);var i=function(t){return t()}((function(){return function(t,e,r){Eg(t,e,r);var n=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i="",o=e;do{var s=t.insert(e===o?"."+n:"",o,t.sheet,!0);void 0!==s&&(i+=s),o=o.next}while(void 0!==o);if(0!==i.length)return i}}(e,r,n)}));if(void 0!==i){for(var o,s=r.name,a=r.next;void 0!==a;)s+=" "+a.name,a=a.next;return(0,gf.createElement)("style",((o={})["data-emotion"]=e.key+" "+s,o.dangerouslySetInnerHTML={__html:i},o.nonce=e.sheet.nonce,o))}return null};var Mg=function t(e,r){var n,i,o=e.__emotion_real===e,s=o&&e.__emotion_base||e;void 0!==r&&(n=r.label,i=r.target);var a=Rg(e,r,o),u=a||Ig(s),c=!u("as");return function(){var l=arguments,h=o&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==n&&h.push("label:"+n+";"),null==l[0]||void 0===l[0].raw)h.push.apply(h,l);else{h.push(l[0][0]);for(var d=l.length,f=1;f<d;f++)h.push(l[f],l[0][f])}var p=xg((function(t,e,r){var n,o,l,d,f=c&&t.as||s,p="",y=[],g=t;if(null==t.theme){for(var m in g={},t)g[m]=t[m];g.theme=(0,gf.useContext)(Sg)}"string"==typeof t.className?(n=e.registered,o=y,l=t.className,d="",l.split(" ").forEach((function(t){void 0!==n[t]?o.push(n[t]+";"):d+=t+" "})),p=d):null!=t.className&&(p=t.className+" ");var b=vg(h.concat(y),e.registered,g);p+=e.key+"-"+b.name,void 0!==i&&(p+=" "+i);var w=c&&void 0===a?Ig(f):u,v={};for(var _ in t)c&&"as"===_||w(_)&&(v[_]=t[_]);return v.className=p,v.ref=r,(0,gf.createElement)(gf.Fragment,null,(0,gf.createElement)(Tg,{cache:e,serialized:b,isStringTag:"string"==typeof f}),(0,gf.createElement)(f,v))}));return p.displayName=void 0!==n?n:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=s,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+i}}),p.withComponent=function(e,n){return t(e,ty({},r,n,{shouldForwardProp:Rg(p,n,!0)})).apply(void 0,h)},p}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){Mg[t]=Mg(t)}));const Og=Mg;var Cg,Pg=null!=(Cg=Og.default)?Cg:Og,jg=({baseStyle:t})=>e=>{const{theme:r,css:n,__css:i,sx:o,...s}=e,a=Yp(s,((t,e)=>Hp(e))),u=function(t,...e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const r={...t};for(const t of e)if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(e in r&&delete r[e],r[e]=t[e]);return r}({},i,function(t,...e){return"function"==typeof t?t(...e):t}(t,e),Qp(a),o),c=qp(u)(e.theme);return n?[c,n]:c};function Lg(t,e){const{baseStyle:r,...n}=null!=e?e:{};n.shouldForwardProp||(n.shouldForwardProp=Vp);const i=jg({baseStyle:r}),o=Pg(t,n)(i);return gf.forwardRef((function(t,e){const{colorMode:r,forced:n}=Xp();return gf.createElement(o,{ref:e,"data-theme":n?r:void 0,...t})}))}var zg=function(){const t=new Map;return new Proxy(Lg,{apply:(t,e,r)=>Lg(...r),get:(e,r)=>(t.has(r)||t.set(r,Lg(r)),t.get(r))})}(),Ug=bf((function(t,e){const{direction:r,align:n,justify:i,wrap:o,basis:s,grow:a,shrink:u,...c}=t,l={display:"flex",flexDirection:r,alignItems:n,justifyContent:i,flexWrap:o,flexBasis:s,flexGrow:a,flexShrink:u};return(0,yf.jsx)(zg.div,{ref:e,__css:l,...c})}));Ug.displayName="Flex";var Ng=zg("div");Ng.displayName="Box";var Hg=bf((function(t,e){const{size:r,centerContent:n=!0,...i}=t,o=n?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,yf.jsx)(Ng,{ref:e,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...i})}));Hg.displayName="Square",bf((function(t,e){const{size:r,...n}=t;return(0,yf.jsx)(Hg,{size:r,ref:e,borderRadius:"9999px",...n})})).displayName="Circle",zg("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}}).displayName="Spacer";var Dg=__webpack_require__("../node_modules/react-fast-compare/index.js");function Fg(t,e={}){var r;const{styleConfig:n,...i}=e,{theme:o,colorMode:s}={...Xp(),theme:function(){const t=(0,gf.useContext)(Sg);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}()},a=t?Jp(o,`components.${t}`):void 0,u=n||a,c=Ef({theme:o,colorMode:s},null!=(r=null==u?void 0:u.defaultProps)?r:{},Qp(function(t,e){const r={};return Object.keys(t).forEach((n=>{e.includes(n)||(r[n]=t[n])})),r}(i,["children"]))),l=(0,gf.useRef)({});if(u){const t=(h=u,t=>{var e;const{variant:r,size:n,theme:i}=t,o=function(t){const e=t.__breakpoints;return function(t,r,n,i){var o,s;if(!e)return;const a={},u=function(t,e){return Array.isArray(t)?t:vf(t)?e(t):null!=t?[t]:void 0}(n,e.toArrayValue);if(!u)return a;const c=u.length,l=1===c,h=!!t.parts;for(let n=0;n<c;n++){const c=e.details[n],d=e.details[Kp(u,n)],f=kp(c.minW,null==d?void 0:d._minW),p=_f(null==(o=t[r])?void 0:o[u[n]],i);p&&(h?null==(s=t.parts)||s.forEach((t=>{Ef(a,{[t]:l?p[t]:{[f]:p[t]}})})):h?a[f]=p:l?Ef(a,p):a[f]=p)}return a}}(i);return Ef({},_f(null!=(e=h.baseStyle)?e:{},t),o(h,"sizes",n,t),o(h,"variants",r,t))}),e=t(c);Dg(l.current,e)||(l.current=e)}var h;return l.current}function qg(t,e={}){return Fg(t,e)}function Kg(t,e={}){return Fg(t,e)}var $g={path:(0,yf.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,yf.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,yf.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,yf.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Wg=bf(((t,e)=>{const{as:r,viewBox:n,color:i="currentColor",focusable:o=!1,children:s,className:a,__css:u,...c}=t,l={ref:e,focusable:o,className:wf("chakra-icon",a),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...u,...qg("Icon",t)}},h=null!=n?n:$g.viewBox;if(r&&"string"!=typeof r)return(0,yf.jsx)(zg.svg,{as:r,...l,...c});const d=null!=s?s:$g.path;return(0,yf.jsx)(zg.svg,{verticalAlign:"middle",viewBox:h,...l,...c,children:d})}));Wg.displayName="Icon";gf.createContext&&gf.createContext({color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0});var Zg=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Vg(t){return Zg(this,void 0,void 0,(function*(){const e=Gr.getTable();return e.db.transaction("rw",e,(()=>Zg(this,void 0,void 0,(function*(){const r=yield e.get({address:t});try{return null==r?yield e.add({address:t}):r.id}catch(e){throw console.error(`error getting id for addr ${t}`,e),e}}))))}))}var Gg=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Xg(t,e,r,n){return Gg(this,void 0,void 0,(function*(){const i={address_id:e,created_at:r,data:t.data,lamports:t.lamports,context_slot:t.context_slot},o=Xr.getTable();return n&&(yield function(t,e,r){return Zg(this,void 0,void 0,(function*(){return Gr.update(t,{program_owner:e,datalen:r})}))}(i.address_id,n,i.data.length)),o.add(i)}))}function Jg(t={}){const{name:e,strict:r=!0,hookName:n="useContext",providerName:i="Provider",errorMessage:o}=t,s=(0,gf.createContext)(void 0);return s.displayName=e,[s.Provider,function t(){var e;const a=(0,gf.useContext)(s);if(!a&&r){const r=new Error(null!=o?o:`${n} returned \`undefined\`. Seems you forgot to wrap component within ${i}`);throw r.name="ContextError",null==(e=Error.captureStackTrace)||e.call(Error,r,t),r}return a},s]}function Yg(...t){return e=>{t.forEach((t=>{!function(t,e){if(null!=t)if("function"!=typeof t)try{t.current=e}catch(r){throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}else t(e)}(t,e)}))}}(0,gf.createContext)({}),bf((function(t,e){const r=qg("Text",t),{className:n,align:i,decoration:o,casing:s,...a}=$p(t),u=function(t){const e=Object.assign({},t);for(let t in e)void 0===e[t]&&delete e[t];return e}({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return(0,yf.jsx)(zg.p,{ref:e,className:wf("chakra-text",t.className),...u,...a,__css:r})})).displayName="Text";var[Qg,tm]=Jg({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[em,rm]=Jg({strict:!1,name:"FormControlContext"}),nm=bf((function(t,e){const r=Kg("Form",t),n=$p(t),{getRootProps:i,htmlProps:o,...s}=function(t){const{id:e,isRequired:r,isInvalid:n,isDisabled:i,isReadOnly:o,...s}=t,a=(0,gf.useId)(),u=e||`field-${a}`,c=`${u}-label`,l=`${u}-feedback`,h=`${u}-helptext`,[d,f]=(0,gf.useState)(!1),[p,y]=(0,gf.useState)(!1),[g,m]=(0,gf.useState)(!1),b=(0,gf.useCallback)(((t={},e=null)=>({id:h,...t,ref:Yg(e,(t=>{t&&y(!0)}))})),[h]),w=(0,gf.useCallback)(((t={},e=null)=>{var r,s;return{...t,ref:e,"data-focus":xf(g),"data-disabled":xf(i),"data-invalid":xf(n),"data-readonly":xf(o),id:null!=(r=t.id)?r:c,htmlFor:null!=(s=t.htmlFor)?s:u}}),[u,i,g,n,o,c]),v=(0,gf.useCallback)(((t={},e=null)=>({id:l,...t,ref:Yg(e,(t=>{t&&f(!0)})),"aria-live":"polite"})),[l]),_=(0,gf.useCallback)(((t={},e=null)=>({...t,...s,ref:e,role:"group"})),[s]),k=(0,gf.useCallback)(((t={},e=null)=>({...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"})),[]);return{isRequired:!!r,isInvalid:!!n,isReadOnly:!!o,isDisabled:!!i,isFocused:!!g,onFocus:()=>m(!0),onBlur:()=>m(!1),hasFeedbackText:d,setHasFeedbackText:f,hasHelpText:p,setHasHelpText:y,id:u,labelId:c,feedbackId:l,helpTextId:h,htmlProps:s,getHelpTextProps:b,getErrorMessageProps:v,getRootProps:_,getLabelProps:w,getRequiredIndicatorProps:k}}(n),a=wf("chakra-form-control",t.className);return(0,yf.jsx)(em,{value:s,children:(0,yf.jsx)(Qg,{value:r,children:(0,yf.jsx)(zg.div,{...i({},e),className:a,__css:r.container})})})}));nm.displayName="FormControl";var im=bf((function(t,e){const r=rm(),n=tm(),i=wf("chakra-form__helper-text",t.className);return(0,yf.jsx)(zg.div,{...null==r?void 0:r.getHelpTextProps(t,e),__css:n.helperText,className:i})}));im.displayName="FormHelperText";var om=Boolean(null==globalThis?void 0:globalThis.document)?gf.useLayoutEffect:gf.useEffect;function sm(t,e=[]){const r=(0,gf.useRef)(t);return(0,gf.useEffect)((()=>{r.current=t})),(0,gf.useCallback)(((...t)=>{var e;return null==(e=r.current)?void 0:e.call(r,...t)}),e)}var am={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},um=!1,cm=null,lm=!1,hm=!1,dm=new Set;function fm(t,e){dm.forEach((r=>r(t,e)))}var pm="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function ym(t){lm=!0,function(t){return!(t.metaKey||!pm&&t.altKey||t.ctrlKey||"Control"===t.key||"Shift"===t.key||"Meta"===t.key)}(t)&&(cm="keyboard",fm("keyboard",t))}function gm(t){if(cm="pointer","mousedown"===t.type||"pointerdown"===t.type){lm=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=e.matches(":focus-visible")}catch{}if(r)return;fm("pointer",t)}}function mm(t){var e;(0===(e=t).mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(lm=!0,cm="virtual")}function bm(t){t.target!==window&&t.target!==document&&(lm||hm||(cm="virtual",fm("virtual",t)),lm=!1,hm=!1)}function wm(){lm=!1,hm=!0}function vm(){return"pointer"!==cm}function _m(t){(function(){if("undefined"==typeof window||um)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...e){lm=!0,t.apply(this,e)},document.addEventListener("keydown",ym,!0),document.addEventListener("keyup",ym,!0),document.addEventListener("click",mm,!0),window.addEventListener("focus",bm,!0),window.addEventListener("blur",wm,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",gm,!0),document.addEventListener("pointermove",gm,!0),document.addEventListener("pointerup",gm,!0)):(document.addEventListener("mousedown",gm,!0),document.addEventListener("mousemove",gm,!0),document.addEventListener("mouseup",gm,!0)),um=!0})(),t(vm());const e=()=>t(vm());return dm.add(e),()=>{dm.delete(e)}}function km(t={}){const e=function(t){var e,r,n;const i=rm(),{id:o,disabled:s,readOnly:a,required:u,isRequired:c,isInvalid:l,isReadOnly:h,isDisabled:d,onFocus:f,onBlur:p,...y}=t,g=t["aria-describedby"]?[t["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&g.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&g.push(i.helpTextId),{...y,"aria-describedby":g.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(e=null!=s?s:d)?e:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=a?a:h)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(n=null!=u?u:c)?n:null==i?void 0:i.isRequired,isInvalid:null!=l?l:null==i?void 0:i.isInvalid,onFocus:Sf(null==i?void 0:i.onFocus,f),onBlur:Sf(null==i?void 0:i.onBlur,p)}}(t),{isDisabled:r,isReadOnly:n,isRequired:i,isInvalid:o,id:s,onBlur:a,onFocus:u,"aria-describedby":c}=e,{defaultChecked:l,isChecked:h,isFocusable:d,onChange:f,isIndeterminate:p,name:y,value:g,tabIndex:m,"aria-label":b,"aria-labelledby":w,"aria-invalid":v,..._}=t,k=function(t,e=[]){const r=Object.assign({},t);for(const t of e)t in r&&delete r[t];return r}(_,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),x=sm(f),S=sm(a),E=sm(u),[A,B]=(0,gf.useState)(!1),[I,R]=(0,gf.useState)(!1),[T,M]=(0,gf.useState)(!1),[O,C]=(0,gf.useState)(!1);(0,gf.useEffect)((()=>_m(B)),[]);const P=(0,gf.useRef)(null),[j,L]=(0,gf.useState)(!0),[z,U]=(0,gf.useState)(!!l),N=void 0!==h,H=N?h:z,D=(0,gf.useCallback)((t=>{n||r?t.preventDefault():(N||U(H?t.target.checked:!!p||t.target.checked),null==x||x(t))}),[n,r,H,N,p,x]);om((()=>{P.current&&(P.current.indeterminate=Boolean(p))}),[p]),function(t,e){const n=(0,gf.useRef)(!1),i=(0,gf.useRef)(!1);(0,gf.useEffect)((()=>{n.current&&i.current?r&&R(!1):i.current=!0}),e),(0,gf.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[])}(0,[r,R]),om((()=>{const t=P.current;(null==t?void 0:t.form)&&(t.form.onreset=()=>{U(!!l)})}),[]);const F=r&&!d,q=(0,gf.useCallback)((t=>{" "===t.key&&C(!0)}),[C]),K=(0,gf.useCallback)((t=>{" "===t.key&&C(!1)}),[C]);om((()=>{P.current&&P.current.checked!==H&&U(P.current.checked)}),[P.current]);const $=(0,gf.useCallback)(((t={},e=null)=>({...t,ref:e,"data-active":xf(O),"data-hover":xf(T),"data-checked":xf(H),"data-focus":xf(I),"data-focus-visible":xf(I&&A),"data-indeterminate":xf(p),"data-disabled":xf(r),"data-invalid":xf(o),"data-readonly":xf(n),"aria-hidden":!0,onMouseDown:Sf(t.onMouseDown,(t=>{I&&t.preventDefault(),C(!0)})),onMouseUp:Sf(t.onMouseUp,(()=>C(!1))),onMouseEnter:Sf(t.onMouseEnter,(()=>M(!0))),onMouseLeave:Sf(t.onMouseLeave,(()=>M(!1)))})),[O,H,r,I,A,T,p,o,n]),W=(0,gf.useCallback)(((t={},e=null)=>({...k,...t,ref:Yg(e,(t=>{t&&L("LABEL"===t.tagName)})),onClick:Sf(t.onClick,(()=>{var t;j||(null==(t=P.current)||t.click(),requestAnimationFrame((()=>{var t;null==(t=P.current)||t.focus()})))})),"data-disabled":xf(r),"data-checked":xf(H),"data-invalid":xf(o)})),[k,r,H,o,j]),Z=(0,gf.useCallback)(((t={},e=null)=>({...t,ref:Yg(P,e),type:"checkbox",name:y,value:g,id:s,tabIndex:m,onChange:Sf(t.onChange,D),onBlur:Sf(t.onBlur,S,(()=>R(!1))),onFocus:Sf(t.onFocus,E,(()=>R(!0))),onKeyDown:Sf(t.onKeyDown,q),onKeyUp:Sf(t.onKeyUp,K),required:i,checked:H,disabled:F,readOnly:n,"aria-label":b,"aria-labelledby":w,"aria-invalid":v?Boolean(v):o,"aria-describedby":c,"aria-disabled":r,style:am})),[y,g,s,D,S,E,q,K,i,H,F,n,b,w,v,o,c,r,m]),V=(0,gf.useCallback)(((t={},e=null)=>({...t,ref:e,onMouseDown:Sf(t.onMouseDown,xm),onTouchStart:Sf(t.onTouchStart,xm),"data-disabled":xf(r),"data-checked":xf(H),"data-invalid":xf(o)})),[H,r,o]);return{state:{isInvalid:o,isFocused:I,isChecked:H,isActive:O,isHovered:T,isIndeterminate:p,isDisabled:r,isReadOnly:n,isRequired:i},getRootProps:W,getCheckboxProps:$,getInputProps:Z,getLabelProps:V,htmlProps:k}}function xm(t){t.preventDefault(),t.stopPropagation()}bf((function(t,e){const r=Kg("Switch",t),{spacing:n="0.5rem",children:i,...o}=$p(t),{state:s,getInputProps:a,getCheckboxProps:u,getRootProps:c,getLabelProps:l}=km(o),h=(0,gf.useMemo)((()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container})),[r.container]),d=(0,gf.useMemo)((()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track})),[r.track]),f=(0,gf.useMemo)((()=>({userSelect:"none",marginStart:n,...r.label})),[n,r.label]);return(0,yf.jsxs)(zg.label,{...c(),className:wf("chakra-switch",t.className),__css:h,children:[(0,yf.jsx)("input",{className:"chakra-switch__input",...a({},e)}),(0,yf.jsx)(zg.span,{...u(),className:"chakra-switch__track",__css:d,children:(0,yf.jsx)(zg.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":xf(s.isChecked),"data-hover":xf(s.isHovered)})}),i&&(0,yf.jsx)(zg.span,{className:"chakra-switch__label",...l(),__css:f,children:i})]})})).displayName="Switch";var Sm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Em(t,e,r=!1){return{context_slot:e,data:t.data,executable:t.executable,lamports:t.lamports,owner:r?t.owner.toBase58():""}}var Am=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Bm=Qr.getTable();var Im=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};const Rm=Jr.getTable();var Tm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Mm(t,e,r,n,i){return{datatype_id:0,order_position:n,optional:r,label:t,field_type:e,is_complex_type:!1,is_array:!1,array_size:0,is_dynamic_size:!1,hide:!1,references_type:null!=i,referenced_type_id:i}}const Om="setup_types";var Cm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};function Pm(){return Cm(this,void 0,void 0,(function*(){let t=yield nn(en,ff);return console.log(`started with rpc: ${t}`),new jc(t,"confirmed")}))}const jm=(t,e)=>function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){let r=t.address,n=[];if(r.length>100)return void e({state:!1,type:"too much accounts"});let i=r.map((t=>new ia(t)));n.push(i);{let t=[];const i=new Map;for(var o of r){let t={address_id:yield Vg(o),pubkey:new ia(o)};i.set(o,t)}for(var s of n)try{const e=yield Pm(),r=yield e.getMultipleAccountsInfoAndContext(s,{commitment:pf});let n=0;for(var a of r.value){const e=s[n];let o=i.get(e.toBase58());o?(a&&(o.info=Em(a,r.context.slot,!0)),t.push(o)):console.warn("this shouldnt happen. not found item addr cache")}}catch(t){console.warn("got an error while fetching account chunks: "+t.message,t)}let c=(new Date).getTime()/1e3;for(var u of i.values())u.info&&Xg(u.info,u.address_id,c,yield Vg(u.info.owner));e({items:Array.from(t.values())})}}));var Lm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};var zm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};var Um=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))};chrome.runtime.onInstalled.addListener((()=>{(function(){Tm(this,void 0,void 0,(function*(){if("0"==(yield function(t,e,r){return tn(this,void 0,void 0,(function*(){return rn.db.transaction("rw",rn,(()=>tn(this,void 0,void 0,(function*(){const e=yield rn.get({key:t});return null==e?(yield rn.add({key:t,value:"1"}),"0"):"0"==e.value?(yield rn.update(t,{value:"1"}),"0"):e.value}))))}))}(Om))){console.log("default types initalization start!");const t="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",e={fields:[Mm("mint_authority","publicKey",!0,0),Mm("supply","u64",!1,1),Mm("decimals","u8",!1,2),Mm("is_initialized","bool",!1,3),Mm("freeze_authority","publicKey",!0,4)],info:{used_by:0,fields_count:0,size_bytes:0},complex:!1,name:"token mint",struct:!0,discriminator:new Uint8Array(0)},r={fields:[Mm("mint","publicKey",!1,0,yield dn(t,e)),Mm("owner","publicKey",!1,1),Mm("amount","u64",!1,2),Mm("delegate","publicKey",!0,3),Mm("state","u8",!1,4),Mm("is_native","u64",!0,5),Mm("delegated_amount","u64",!1,6),Mm("close_authority","publicKey",!0,7)],info:{used_by:0,fields_count:0,size_bytes:0},complex:!1,name:"associated token account",struct:!0,discriminator:new Uint8Array(0)};return yield dn(t,r),!0}return!1}))})(),chrome.alarms.get("bgtask",(t=>{t||chrome.alarms.create("bgtask",{periodInMinutes:.5})}))})),function(){Um(this,void 0,void 0,(function*(){try{const t=chrome.alarms.onAlarm.addListener((t=>{!function(){zm(this,void 0,void 0,(function*(){console.log("doPeriodicTask() called");let t=yield nn(en,ff);const e=yield function(){return Im(this,void 0,void 0,(function*(){const t=(new Date).getTime()/1e3;return Rm.where("paused").equals(0).filter((e=>(t-e.last_sync)/60>=e.sync_interval)).toArray()}))}(),r=new Map,n=e.length;if(n>0){console.log(`going to fetch ${n} addresses now`);const s=new jc(t,pf),a=yield function(t,e,r){return zm(this,void 0,void 0,(function*(){let e=[],n=[];for(var i of t){const t=yield Gr.getById(i.address_id),o=new ia(t.address);n.push(o),r.set(t.address,{address_id:i.address_id,pubkey:o,info:void 0,watched:i}),100==n.length&&(e.push(n),n=[])}return e.push(n),e}))}(e,0,r);let u=[];for(var i of a)try{const t=yield s.getMultipleAccountsInfoAndContext(i,{commitment:pf});let e=0;for(var o of t.value){const n=i[e];let s=r.get(n.toBase58());s?(o&&(s.info=Em(o,t.context.slot,!1)),u.push(s)):console.warn("this shouldnt happen. not found item addr cache")}}catch(t){console.warn("got an error while fetching account chunks: "+t.message,t)}!function(t){zm(this,void 0,void 0,(function*(){let e=(new Date).getTime()/1e3;for(var r of t){let t=r.watched;yield Jr.update(t.id,{last_sync:e}),yield Xg(r.info,r.address_id,e),console.log(`data for ${r.pubkey} fetched and stored`)}}))}(u)}}))}()}));console.log("added alarm listener",t),chrome.runtime.onMessage.addListener(((t,e,r)=>(console.log(`got a request from page : command ${t.command}`),(()=>Um(this,void 0,void 0,(function*(){switch(t.command){case"fetch_addresses_state":((t,e)=>{Lm(void 0,void 0,void 0,(function*(){let r=t.address,n=[],i=0;for(var o in r)(t=>{Lm(void 0,void 0,void 0,(function*(){try{const e=yield Vg(t),r=yield Gr.getById(e);let i=yield Xr.getTable().get({address_id:e}),o=yield fn(r,!1);const s=yield Xr.getTable().where("address_id").equals(r.id).count(),a={Address:r,LastData:i,Type:o.typ,DataCount:s};n.push(a)}catch(t){console.warn("unable to get item from indexed db:",t.message)}i===r.length-1&&(console.log("response sent"),e(n)),i+=1}))})(r[o])}))})(t,r);break;case"fetch_addresses_data":jm(t,r);break;default:console.warn(`unknown command ${t.command}`),r({state:!1,type:"unknown command"})}})))().catch((t=>{r({state:!1,type:"handle exception",err:t.message})})),!0))),console.log("extension initialized")}catch(t){console.error("unable to init extension: ",t.message)}}))}()})()})();